{"version":3,"file":"packs/js/208-b106fc5024219e11f0e6.chunk.js","mappings":"4NAAuiBA,GAAS,QAAe,CAACC,QAAQ,CAAC,GAAK,cAAc,eAAiB,uBAA6BC,EAAa,SAAAC,GAAW,IAAAC,EAAID,EAAI,GAAOE,GAAU,SAAe,SAAAC,GAAO,OAAED,SAASC,EAAMC,KAAKC,KAAKC,MAAK,SAAAC,GAAG,OAAAA,EAAEC,OAAOP,SAAM,SAAOQ,GAAS,UAAuBC,EAAQ,eAAkB,WAAK,IAAMC,EAAOT,EAAS,KAAY,KAAUO,EAASE,EAAOV,MAAO,CAACC,EAASO,EAASR,IAAWW,EAAK,WAAc,WAAK,OAAOV,GAAsB,OAAK,IAAiB,CAACD,GAAG,4BAA4BY,eAAe,cAA0B,OAAK,IAAiB,CAACZ,GAAG,0BAA0BY,eAAe,aAAa,CAACX,IAAW,OAAmB,OAAK,KAAO,CAACY,MAAM,QAAQC,WAAW,iCAAiCC,MAAM,CAACC,WAAW,eAAeP,QAAQA,QAAS,GAAoB,OAAK,IAAK,CAACQ,IAAa,EAAThB,EAAiB,IAAmC,MAA4BU,IACwH,UADzF,WAAK,IAAMO,GAAK,SAAe,EAAe,WAAe,MAA7Bf,EAAI,KAACgB,EAAO,KAA6BX,GAAS,UAAsB,GAA0B,SAAe,SAAAN,GAAO,OAAEC,KAAKD,EAAMC,KAAKC,KAAKgB,QAAQlB,EAAMC,KAAKiB,YAApFC,EAAU,OAACD,EAAO,UACj6C,OAAvJ,aAAgB,WAAQA,GAASjB,GAAYgB,EAAQE,KAAc,CAACA,EAAWlB,EAAKiB,IAAU,aAAgB,WAAKZ,GAAS,aAAe,CAACA,KAA8B,OAAK,KAAO,CAACc,MAAMJ,EAAKK,cAAc3B,EAASC,SAAS2B,aAAY,EAAKC,YAAW,QAAO,GAAoB,OAAK,MAAM,CAACC,UAAU,yBAAoB,GAAoB,OAAK,IAAc,CAACC,QAAQT,EAAKK,cAAc3B,EAASC,YAAaM,GAAgD,OAAK,IAAe,CAACuB,UAAU,iCAAiCE,UAAU,oBAAoBC,cAA0B,OAAK,IAAiB,CAAC7B,GAAG,oBAAoBY,eAAe,4CAAuC,EAAOT,MAAAA,OAA2B,EAAOA,EAAK2B,KAAI,SAAAC,GAAkB,cAAK,MAAM,CAACL,UAAU,8EAAyE,GAAoB,OAAK,MAAM,CAACA,UAAU,oCAA+B,GAAoB,OAAK,KAAK,CAACK,IAAI,OAAOC,OAAO,iBAAY,EAAO,IAAID,EAAIxB,QAAoB,OAAK,KAAK,CAACmB,UAAU,iDAA6D,OAAK,MAAM,CAACA,UAAU,yEAAoE,GAAoB,OAAK5B,EAAa,CAACE,GAAG+B,EAAIxB,QAAoB,OAAK,KAAO,CAACM,MAAM,UAAUoB,GAAG,QAAQC,OAAOH,EAAIxB,YAAO,GAAoB,OAAK,MAAM,CAACmB,UAAU,kCAA6B,GAAoB,OAAK,IAAiB,CAAC1B,GAAG,kBAAkBY,eAAe,QAAQ,KAAoB,OAAK,IAAK,CAACK,IAAI,EAAQ,gBAAvjC,OAAK,KAAQ","sources":["webpack://mangane-fe/./app/soapbox/features/followed_tags/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/web.dom-collections.iterator.js\";import React from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{fetchTags,followTag,unfollowTag}from'soapbox/actions/tags';import Icon from'soapbox/components/icon';import ScrollableList from'soapbox/components/scrollable_list';import SubNavigation from'soapbox/components/sub_navigation';import{Button,Column,Spinner,Text}from'soapbox/components/ui';import{useAppDispatch,useAppSelector}from'soapbox/hooks';const messages=defineMessages({heading:{\"id\":\"column.tags\",\"defaultMessage\":\"Followed hashtags\"}});const FollowButton=_ref=>{let{id}=_ref;const{isFollow}=useAppSelector(state=>({isFollow:state.tags.list.find(t=>t.name===id)}));const dispatch=useAppDispatch();const onClick=React.useCallback(()=>{const action=isFollow?unfollowTag:followTag;dispatch(action(id));},[isFollow,dispatch,id]);const text=React.useMemo(()=>{return isFollow?/*#__PURE__*/_jsx(FormattedMessage,{id:\"hashtag_timeline.unfollow\",defaultMessage:\"Unfollow\"}):/*#__PURE__*/_jsx(FormattedMessage,{id:\"hashtag_timeline.follow\",defaultMessage:\"Follow\"});},[isFollow]);return/*#__PURE__*/_jsx(Button,{theme:\"ghost\",classNames:\"text-xs gap-1 flex-row-reverse\",style:{background:'transparent'},onClick:onClick},void 0,/*#__PURE__*/_jsx(Icon,{src:isFollow?require('@tabler/icons/minus.svg'):require('@tabler/icons/plus.svg')}),text);};const FollowedHashtags=()=>{const intl=useIntl();const[tags,setTags]=React.useState(null);const dispatch=useAppDispatch();const{tags:serverTags,loading}=useAppSelector(state=>({tags:state.tags.list,loading:state.tags.loading}));// we want to keep our own list to allow user to refollow instantly if unfollow was a mistake\nReact.useEffect(()=>{if(loading||tags)return;setTags(serverTags);},[serverTags,tags,loading]);React.useEffect(()=>{dispatch(fetchTags());},[dispatch]);return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.heading),transparent:true,withHeader:false},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pt-4 sm:p-0\"},void 0,/*#__PURE__*/_jsx(SubNavigation,{message:intl.formatMessage(messages.heading)})),!tags?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsx(ScrollableList,{className:\"flex flex-col p-2 sm:p-0 gap-2\",scrollKey:\"followed_hashtags\",emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"column.tags.empty\",defaultMessage:\"You don't follow any hashtag yet.\"})},void 0,tags===null||tags===void 0?void 0:tags.map(tag=>/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-white dark:bg-slate-800 shadow-sm dark:shadow-inset rounded-lg\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center grow pl-2\"},void 0,/*#__PURE__*/_jsx(Text,{tag:\"span\",weight:\"semibold\"},void 0,\"#\",tag.name)),/*#__PURE__*/_jsx(\"hr\",{className:\"bg-gray-100 dark:border-slate-800 mt-1 mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-1 grow shrink justify-between mt-1 text-sm\"},void 0,/*#__PURE__*/_jsx(FollowButton,{id:tag.name}),/*#__PURE__*/_jsx(Button,{theme:\"primary\",to:\"/tag/\".concat(tag.name)},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center text-xs\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"column.tags.see\",defaultMessage:\"See\"}),\"\\xA0\",/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/arrow-right.svg')}))))))));};export default FollowedHashtags;"],"names":["messages","heading","FollowButton","_ref","id","isFollow","state","tags","list","find","t","name","dispatch","onClick","action","text","defaultMessage","theme","classNames","style","background","src","intl","setTags","loading","serverTags","label","formatMessage","transparent","withHeader","className","message","scrollKey","emptyMessage","map","tag","weight","to","concat"],"sourceRoot":""}