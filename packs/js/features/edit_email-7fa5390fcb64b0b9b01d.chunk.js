"use strict";(self.webpackChunkmangane_fe=self.webpackChunkmangane_fe||[]).push([[30],{1029:function(e,a,t){t.r(a);var s=t(1840),r=t(1825),i=(t(2),t(110),t(0)),l=t(1826),o=t(1827),d=t(96),n=t(12),c=t(1),u=t(3);function m(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,s)}return t}function f(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?m(Object(t),!0).forEach((function(a){(0,r.Z)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var p=(0,l.vU)({header:{id:"edit_email.header",defaultMessage:"Change Email"},updateEmailSuccess:{id:"security.update_email.success",defaultMessage:"Email successfully updated."},updateEmailFail:{id:"security.update_email.fail",defaultMessage:"Update email failed."},emailFieldLabel:{id:"security.fields.email.label",defaultMessage:"Email address"},emailFieldPlaceholder:{id:"edit_email.placeholder",defaultMessage:"me@example.com"},passwordFieldLabel:{id:"security.fields.password.label",defaultMessage:"Password"},submit:{id:"security.submit",defaultMessage:"Save changes"},cancel:{id:"common.cancel",defaultMessage:"Cancel"},description:{id:"edit_email.description",defaultMessage:"To change your email, you must re-enter your password"}}),g={email:"",password:""};a.default=function(){var e=(0,o.Z)(),a=(0,u.TL)(),t=i.useState(g),r=t[0],l=t[1],m=i.useState(!1),b=m[0],y=m[1],h=r.email,v=r.password,w=i.useCallback((function(e){e.persist(),l((function(a){var t;return f(f({},a),{},((t={})[e.target.name]=e.target.value,t))}))}),[]),M=i.useCallback((function(){y(!0),a((0,d.Uk)(h,v)).then((function(){l(g),a(n.ZP.success(e.formatMessage(p.updateEmailSuccess)))})).finally((function(){y(!1)})).catch((function(t){console.error(t),l((function(e){return f(f({},e),{},{password:""})})),a(n.ZP.error("".concat(e.formatMessage(p.updateEmailFail),": ").concat(t)))}))}),[h,v,a,e]);return(0,s.Z)(c.sg,{label:e.formatMessage(p.header),transparent:!0,withHeader:!1},void 0,(0,s.Z)(c.Zb,{variant:"rounded"},void 0,(0,s.Z)(c.Ol,{backHref:"/settings"},void 0,(0,s.Z)(c.ll,{title:e.formatMessage(p.header)})),(0,s.Z)(c.eW,{},void 0,(0,s.Z)("p",{className:"mb-2 text-gray-600 dark:text-gray-300"},void 0,e.formatMessage(p.description)),(0,s.Z)(c.l0,{onSubmit:M},void 0,(0,s.Z)(c.cw,{labelText:e.formatMessage(p.emailFieldLabel)},void 0,(0,s.Z)(c.II,{type:"text",placeholder:e.formatMessage(p.emailFieldPlaceholder),name:"email",autoComplete:"off",onChange:w,value:h})),(0,s.Z)(c.cw,{labelText:e.formatMessage(p.passwordFieldLabel)},void 0,(0,s.Z)(c.II,{type:"password",name:"password",onChange:w,value:v})),(0,s.Z)(c.iN,{},void 0,(0,s.Z)(c.zx,{to:"/settings",theme:"ghost"},void 0,e.formatMessage(p.cancel)),(0,s.Z)(c.zx,{type:"submit",theme:"primary",disabled:b},void 0,e.formatMessage(p.submit)))))))}}}]);
//# sourceMappingURL=edit_email-7fa5390fcb64b0b9b01d.chunk.js.map