"use strict";(self.webpackChunkmangane_fe=self.webpackChunkmangane_fe||[]).push([[17],{567:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var a,o=n(1852),i=(n(1),n(5)),s=n.n(i),c=n(0),r=n(1844),u=n(1845),p=n(469),d=n(20),l=n(3),f=n(1866),g=n(1855),m=(n(4),n(2)),v=n(119),y=n(855),b=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=["heading","icon","children","active","menu"],_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=this.props,t=e.heading,n=e.icon,a=e.children,i=e.active,s=e.menu,r=(0,g.Z)(e,h),u=t&&t.replace(/ /g,"-");return c.createElement(m.sg,(0,f.Z)({"aria-labelledby":u,className:"column--better"},r),(0,o.Z)("div",{className:"column__top"},void 0,t&&(0,o.Z)(y.Z,{icon:n,active:i,type:t,columnHeaderId:u}),s&&(0,o.Z)("div",{className:"column__menu"},void 0,(0,o.Z)(v.Z,{items:s,icon:"ellipsis-v",size:18,direction:"right"}))),a)},t}(c.PureComponent),k=_,Z=(0,r.vU)({heading:{id:"column.backups",defaultMessage:"Backups"},create:{id:"backups.actions.create",defaultMessage:"Create backup"},emptyMessage:{id:"backups.empty_message",defaultMessage:"No backups found. {action}"},emptyMessageAction:{id:"backups.empty_message.action",defaultMessage:"Create one now?"},pending:{id:"backups.pending",defaultMessage:"Pending"}}),M=function(){var e=(0,u.Z)(),t=(0,l.TL)(),a=(0,l.CG)((function(e){return e.backups.toList().sortBy((function(e){return e.inserted_at}))})),i=(0,c.useState)(!0),r=i[0],f=i[1],g=function(e){t((0,p.id)()),e.preventDefault()};(0,c.useEffect)((function(){t((0,p.xX)()).then((function(){f(!0)})).catch((function(){}))}),[]);var m=r&&0===a.count(),v=(0,o.Z)("a",{href:"#",onClick:g},void 0,e.formatMessage(Z.emptyMessageAction));return(0,o.Z)(k,{icon:"cloud-download",label:e.formatMessage(Z.heading),menu:[{text:e.formatMessage(Z.create),action:g,icon:n(55)}]},void 0,(0,o.Z)(d.Z,{isLoading:r,showLoading:m,scrollKey:"backups",emptyMessage:e.formatMessage(Z.emptyMessage,{action:v})},void 0,a.map((function(t){return(0,o.Z)("div",{className:s()("backup",{"backup--pending":!t.processed})},t.id,t.processed?(0,o.Z)("a",{href:t.url,target:"_blank"},void 0,t.inserted_at):(0,o.Z)("div",{},void 0,e.formatMessage(Z.pending),": ",t.inserted_at))}))))}}}]);
//# sourceMappingURL=backups-dc6495ac03ad13d2df3b.chunk.js.map