{"version":3,"file":"packs/js/features/federation_restrictions-a2cd7f5d50debceff70f.chunk.js","mappings":"wRAAwXA,GAAkB,UAAu2B,EAAtzB,SAAAC,GAAW,IAAAC,EAAMD,EAAI,KAAOE,GAAe,SAAe,SAAAC,GAAO,OAAAJ,EAAkBI,EAAMF,MAAY,GAAuB,IAAAG,WAAS,GAA/BC,EAAQ,KAACC,EAAW,KAA2F,OAAmB,OAAK,MAAM,QAAG,GAAoB,OAAK,IAAI,CAACC,KAAK,IAAIC,UAAU,8CAA8CC,QAApL,SAAAC,GAAIJ,GAAY,SAAAK,GAAO,OAACA,KAAOD,EAAEE,wBAA2K,GAAoB,OAAK,IAAK,CAACC,IAAa,EAATR,EAAiB,KAAwC,SAAgD,OAAK,MAAM,CAACG,UAAU,IAAW,CAAC,eAAeN,EAAeY,MAAM,CAAC,aAAa,mBAAc,EAAOZ,EAAea,IAAI,WAAuB,OAAK,MAAM,CAACP,UAAU,IAAW,CAAC,uBAAuBH,EAAS,SAASA,UAAY,GAAoB,OAAK,IAAqB,CAACH,eAAeA,OCAxpBc,GAAS,QAAe,CAACC,QAAQ,CAAC,GAAK,iCAAiC,eAAiB,2BAA2BC,SAAS,CAAC,GAAK,gDAAgD,eAAiB,8BAA8BC,WAAW,CAAC,GAAK,kDAAkD,eAAiB,4HAA4HC,aAAa,CAAC,GAAK,wCAAwC,eAAiB,iDAAiDC,aAAa,CAAC,GAAK,gDAAgD,eAAiB,4EAAkFC,GAAS,UAA8+B,EAAl8B,WAAK,IAAMC,GAAK,EAAAC,EAAA,KAAgBC,GAAU,SAAe,SAAAtB,GAAO,OAAAA,EAAMuB,SAASX,IAAI,YAAgBY,GAAM,SAAe,SAAAxB,GAAO,OAAAmB,EAASnB,MAAcyB,GAAU,SAAe,SAAAzB,GAAO,eAAgCA,MAAa,GAAmD,IAAAC,WAAS,GAA3DyB,EAAsB,KAACC,EAAyB,KAAiGV,EAAaQ,EAAUZ,EAASI,aAAaJ,EAASK,aAAa,OAAmB,OAAK,IAAO,CAACU,KAAK,QAAQC,MAAMT,EAAKU,cAAcjB,EAASC,eAAU,GAAoB,OAAK,IAAU,CAACiB,SAASX,EAAKU,cAAcjB,EAASE,UAAUb,SAASwB,EAAuBM,SAApU,SAAAC,GAAUN,EAA0BM,UAA+T,EAAOb,EAAKU,cAAcjB,EAASG,WAAW,CAACM,UAAS,MAAiB,OAAK,MAAM,CAACjB,UAAU,aAAQ,GAAoB,OAAK,IAAe,CAACY,aAAaG,EAAKU,cAAcb,EAAa,CAACK,UAAS,UAAI,EAAOE,EAAMU,KAAI,SAAApC,GAAmB,cAAK,EAAmB,CAACA,KAAKA,GAAMA,W","sources":["webpack://mangane-fe/./app/soapbox/features/federation_restrictions/components/restricted_instance.tsx","webpack://mangane-fe/./app/soapbox/features/federation_restrictions/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/web.dom-collections.iterator.js\";import classNames from'classnames';import React,{useState}from'react';import Icon from'soapbox/components/icon';import{useAppSelector}from'soapbox/hooks';import{makeGetRemoteInstance}from'soapbox/selectors';import InstanceRestrictions from'./instance_restrictions';const getRemoteInstance=makeGetRemoteInstance();const RestrictedInstance=_ref=>{let{host}=_ref;const remoteInstance=useAppSelector(state=>getRemoteInstance(state,host));const[expanded,setExpanded]=useState(false);const toggleExpanded=e=>{setExpanded(value=>!value);e.preventDefault();};return/*#__PURE__*/_jsx(\"div\",{},void 0,/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"flex items-center gap-1 py-2.5 no-underline\",onClick:toggleExpanded},void 0,/*#__PURE__*/_jsx(Icon,{src:expanded?require('@tabler/icons/caret-down.svg'):require('@tabler/icons/caret-right.svg')}),/*#__PURE__*/_jsx(\"div\",{className:classNames({'line-through':remoteInstance.getIn(['federation','reject'])})},void 0,remoteInstance.get('host'))),/*#__PURE__*/_jsx(\"div\",{className:classNames({'h-0 overflow-hidden':!expanded,'h-auto':expanded})},void 0,/*#__PURE__*/_jsx(InstanceRestrictions,{remoteInstance:remoteInstance})));};export default RestrictedInstance;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/web.dom-collections.iterator.js\";import React,{useState}from'react';import{defineMessages,useIntl}from'react-intl';import ScrollableList from'soapbox/components/scrollable_list';import Accordion from'soapbox/features/ui/components/accordion';import{useAppSelector}from'soapbox/hooks';import{makeGetHosts}from'soapbox/selectors';import{federationRestrictionsDisclosed}from'soapbox/utils/state';import Column from'../ui/components/column';import RestrictedInstance from'./components/restricted_instance';const messages=defineMessages({heading:{\"id\":\"column.federation_restrictions\",\"defaultMessage\":\"Federation Restrictions\"},boxTitle:{\"id\":\"federation_restrictions.explanation_box.title\",\"defaultMessage\":\"Instance-specific policies\"},boxMessage:{\"id\":\"federation_restrictions.explanation_box.message\",\"defaultMessage\":\"Normally servers on the Fediverse can communicate freely. {siteTitle} has imposed restrictions on the following servers.\"},emptyMessage:{\"id\":\"federation_restrictions.empty_message\",\"defaultMessage\":\"{siteTitle} has not restricted any instances.\"},notDisclosed:{\"id\":\"federation_restrictions.not_disclosed_message\",\"defaultMessage\":\"{siteTitle} does not disclose federation restrictions through the API.\"}});const getHosts=makeGetHosts();const FederationRestrictions=()=>{const intl=useIntl();const siteTitle=useAppSelector(state=>state.instance.get('title'));const hosts=useAppSelector(state=>getHosts(state));const disclosed=useAppSelector(state=>federationRestrictionsDisclosed(state));const[explanationBoxExpanded,setExplanationBoxExpanded]=useState(true);const toggleExplanationBox=setting=>{setExplanationBoxExpanded(setting);};const emptyMessage=disclosed?messages.emptyMessage:messages.notDisclosed;return/*#__PURE__*/_jsx(Column,{icon:\"gavel\",label:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(Accordion,{headline:intl.formatMessage(messages.boxTitle),expanded:explanationBoxExpanded,onToggle:toggleExplanationBox},void 0,intl.formatMessage(messages.boxMessage,{siteTitle})),/*#__PURE__*/_jsx(\"div\",{className:\"pt-4\"},void 0,/*#__PURE__*/_jsx(ScrollableList,{emptyMessage:intl.formatMessage(emptyMessage,{siteTitle})},void 0,hosts.map(host=>/*#__PURE__*/_jsx(RestrictedInstance,{host:host},host)))));};export default FederationRestrictions;"],"names":["getRemoteInstance","_ref","host","remoteInstance","state","useState","expanded","setExpanded","href","className","onClick","e","value","preventDefault","src","getIn","get","messages","heading","boxTitle","boxMessage","emptyMessage","notDisclosed","getHosts","intl","useIntl","siteTitle","instance","hosts","disclosed","explanationBoxExpanded","setExplanationBoxExpanded","icon","label","formatMessage","headline","onToggle","setting","map"],"sourceRoot":""}