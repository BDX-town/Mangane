{"version":3,"file":"packs/js/features/auth_token_list-a8889a12714a3bc1c646.chunk.js","mappings":"iLAAoYA,GAAS,QAAe,CAACC,OAAO,CAAC,GAAK,0BAA0B,eAAiB,YAAYC,OAAO,CAAC,GAAK,yBAAyB,eAAiB,YAAkBC,EAAU,SAAAC,GAAW,IAAAC,EAAOD,EAAI,MAAOE,GAAS,UAAuBC,GAAK,SAA6E,OAAmB,OAAK,MAAM,CAACC,UAAU,qDAAgD,GAAoB,OAAK,KAAM,CAACC,MAAM,QAAG,GAAoB,OAAK,KAAM,QAAG,GAAoB,OAAK,KAAK,CAACC,KAAK,KAAKC,OAAO,eAAU,EAAON,EAAMO,WAAuB,OAAK,KAAK,CAACF,KAAK,KAAKG,MAAM,cAAS,GAAoB,OAAK,KAAc,CAACC,MAAM,IAAIC,KAAKV,EAAMW,aAAaC,QAAO,EAAMC,KAAK,UAAUC,MAAM,QAAQC,IAAI,UAAUC,KAAK,UAAUC,OAAO,eAA2B,OAAK,MAAM,CAACd,UAAU,yBAAoB,GAAoB,OAAK,KAAO,CAACK,MAAM,UAAUU,QAApmB,WAAKjB,GAAS,QAAqBD,EAAMmB,YAAilB,EAAOjB,EAAKkB,cAAczB,EAASE,aAA8vB,UAA5tB,WAAK,IAAMI,GAAS,UAAuBC,GAAK,SAAgBmB,GAAO,SAAe,SAAAC,GAAO,OAAAA,EAAMC,SAASC,IAAI,UAAUC,cAAW,IAAAC,YAAU,WAAKzB,GAAS,aAAsB,IAAI,IAAM0B,EAAKN,GAAoB,OAAK,MAAM,CAAClB,UAAU,8CAAyC,EAAOkB,EAAOO,KAAI,SAAA5B,GAAoB,cAAKF,EAAU,CAACE,MAAMA,GAAOA,EAAMmB,SAAmB,OAAK,KAAQ,IAAI,OAAmB,OAAK,KAAO,CAACU,MAAM3B,EAAKkB,cAAczB,EAASC,QAAQkC,aAAY,EAAKC,YAAW,QAAO,GAAoB,OAAK,KAAK,CAACC,QAAQ,gBAAW,GAAoB,OAAK,KAAW,CAACC,SAAS,kBAAa,GAAoB,OAAK,KAAU,CAACC,MAAMhC,EAAKkB,cAAczB,EAASC,YAAwB,OAAK,KAAS,QAAG,EAAO+B","sources":["webpack://mangane-fe/./app/soapbox/features/auth_token_list/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React,{useEffect}from'react';import{defineMessages,FormattedDate,useIntl}from'react-intl';import{fetchOAuthTokens,revokeOAuthTokenById}from'soapbox/actions/security';import{Button,Card,CardBody,CardHeader,CardTitle,Column,Spinner,Stack,Text}from'soapbox/components/ui';import{useAppDispatch,useAppSelector}from'soapbox/hooks';const messages=defineMessages({header:{\"id\":\"security.headers.tokens\",\"defaultMessage\":\"Sessions\"},revoke:{\"id\":\"security.tokens.revoke\",\"defaultMessage\":\"Revoke\"}});const AuthToken=_ref=>{let{token}=_ref;const dispatch=useAppDispatch();const intl=useIntl();const handleRevoke=()=>{dispatch(revokeOAuthTokenById(token.id));};return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 rounded-lg bg-gray-100 dark:bg-slate-700\"},void 0,/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/_jsx(Stack,{},void 0,/*#__PURE__*/_jsx(Text,{size:\"md\",weight:\"medium\"},void 0,token.app_name),/*#__PURE__*/_jsx(Text,{size:\"sm\",theme:\"muted\"},void 0,/*#__PURE__*/_jsx(FormattedDate,{value:new Date(token.valid_until),hour12:false,year:\"numeric\",month:\"short\",day:\"2-digit\",hour:\"2-digit\",minute:\"2-digit\"}))),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\"},void 0,/*#__PURE__*/_jsx(Button,{theme:\"primary\",onClick:handleRevoke},void 0,intl.formatMessage(messages.revoke)))));};const AuthTokenList=()=>{const dispatch=useAppDispatch();const intl=useIntl();const tokens=useAppSelector(state=>state.security.get('tokens').reverse());useEffect(()=>{dispatch(fetchOAuthTokens());},[]);const body=tokens?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4\"},void 0,tokens.map(token=>/*#__PURE__*/_jsx(AuthToken,{token:token},token.id))):/*#__PURE__*/_jsx(Spinner,{});return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.header),transparent:true,withHeader:false},void 0,/*#__PURE__*/_jsx(Card,{variant:\"rounded\"},void 0,/*#__PURE__*/_jsx(CardHeader,{backHref:\"/settings\"},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.header)})),/*#__PURE__*/_jsx(CardBody,{},void 0,body)));};export default AuthTokenList;"],"names":["messages","header","revoke","AuthToken","_ref","token","dispatch","intl","className","space","size","weight","app_name","theme","value","Date","valid_until","hour12","year","month","day","hour","minute","onClick","id","formatMessage","tokens","state","security","get","reverse","useEffect","body","map","label","transparent","withHeader","variant","backHref","title"],"sourceRoot":""}