"use strict";(self.webpackChunkmangane_fe=self.webpackChunkmangane_fe||[]).push([[36],{565:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var o=n(1852),a=n(1844),s=n(1845),r=(n(1),n(12)),u=n(8),i=n(32),c=(0,a.vU)({blocksSuccess:{id:"export_data.success.blocks",defaultMessage:"Blocks exported successfully"},followersSuccess:{id:"export_data.success.followers",defaultMessage:"Followers exported successfully"},mutesSuccess:{id:"export_data.success.mutes",defaultMessage:"Mutes exported successfully"}});function l(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}var f=function(e){return function(t){return n=void 0,o=void 0,s=function(){var n,o,a;return function(e,t){var n,o,a,s,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!((a=(a=r.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){r.label=s[1];break}if(6===s[0]&&r.label<a[1]){r.label=a[1],a=s;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(s);break}a[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e],o=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}(this,(function(s){switch(s.label){case 0:n=t.data,o=[],a=(0,u.rx)(t).refs.find((function(e){return"next"===e.rel})),s.label=1;case 1:return a?[4,(0,u.ZP)(e).get(a.uri)]:[3,3];case 2:return t=s.sent(),a=(0,u.rx)(t).refs.find((function(e){return"next"===e.rel})),Array.prototype.push.apply(n,t.data),[3,1];case 3:return o=n.map((function(e){return(0,i.WT)(e).fqn})),[2,Array.from(new Set(o))]}}))},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function u(e){try{i(s.throw(e))}catch(e){t(e)}}function i(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(r,u)}i((s=s.apply(n,o||[])).next())}));var n,o,a,s}},d=function(){return function(e,t){e({type:"EXPORT_FOLLOWS_REQUEST"});var n=t().me;return(0,u.ZP)(t).get("/api/v1/accounts/".concat(n,"/following?limit=40")).then(f(t)).then((function(t){(t=t.map((function(e){return e+",true"}))).unshift("Account address,Show boosts"),l(t.join("\n"),"export_followings.csv"),e(r.ZP.success(c.followersSuccess)),e({type:"EXPORT_FOLLOWS_SUCCESS"})})).catch((function(t){e({type:"EXPORT_FOLLOWS_FAIL",error:t})}))}},p=function(){return function(e,t){return e({type:"EXPORT_BLOCKS_REQUEST"}),(0,u.ZP)(t).get("/api/v1/blocks?limit=40").then(f(t)).then((function(t){l(t.join("\n"),"export_block.csv"),e(r.ZP.success(c.blocksSuccess)),e({type:"EXPORT_BLOCKS_SUCCESS"})})).catch((function(t){e({type:"EXPORT_BLOCKS_FAIL",error:t})}))}},_=function(){return function(e,t){return e({type:"EXPORT_MUTES_REQUEST"}),(0,u.ZP)(t).get("/api/v1/mutes?limit=40").then(f(t)).then((function(t){l(t.join("\n"),"export_mutes.csv"),e(r.ZP.success(c.mutesSuccess)),e({type:"EXPORT_MUTES_SUCCESS"})})).catch((function(t){e({type:"EXPORT_MUTES_FAIL",error:t})}))}},h=n(27),b=n(0),m=n(2),x=n(3),v=function(e){var t=e.messages,n=e.action,a=(0,x.TL)(),r=(0,s.Z)(),u=(0,b.useState)(!1),i=u[0],c=u[1];return(0,o.Z)(m.l0,{},void 0,(0,o.Z)(m.xv,{size:"xl",weight:"bold"},void 0,r.formatMessage(t.input_label)),(0,o.Z)(m.xv,{theme:"muted"},void 0,r.formatMessage(t.input_hint)),(0,o.Z)(m.iN,{},void 0,(0,o.Z)(m.zx,{theme:"primary",onClick:function(e){c(!0),a(n()).then((function(){c(!1)})).catch((function(){c(!1)}))},disabled:i},void 0,r.formatMessage(t.submit))))},g=(0,a.vU)({heading:{id:"column.export_data",defaultMessage:"Export data"},submit:{id:"export_data.actions.export",defaultMessage:"Export"}}),y=(0,a.vU)({input_label:{id:"export_data.follows_label",defaultMessage:"Follows"},input_hint:{id:"export_data.hints.follows",defaultMessage:"Get a CSV file containing a list of followed accounts"},submit:{id:"export_data.actions.export_follows",defaultMessage:"Export follows"}}),S=(0,a.vU)({input_label:{id:"export_data.blocks_label",defaultMessage:"Blocks"},input_hint:{id:"export_data.hints.blocks",defaultMessage:"Get a CSV file containing a list of blocked accounts"},submit:{id:"export_data.actions.export_blocks",defaultMessage:"Export blocks"}}),w=(0,a.vU)({input_label:{id:"export_data.mutes_label",defaultMessage:"Mutes"},input_hint:{id:"export_data.hints.mutes",defaultMessage:"Get a CSV file containing a list of muted accounts"},submit:{id:"export_data.actions.export_mutes",defaultMessage:"Export mutes"}}),E=function(){var e=(0,s.Z)();return(0,o.Z)(h.Z,{icon:"cloud-download-alt",label:e.formatMessage(g.heading)},void 0,(0,o.Z)(v,{action:d,messages:y}),(0,o.Z)(v,{action:p,messages:S}),(0,o.Z)(v,{action:_,messages:w}))}}}]);
//# sourceMappingURL=export_data-711f7c41641f441d5170.chunk.js.map