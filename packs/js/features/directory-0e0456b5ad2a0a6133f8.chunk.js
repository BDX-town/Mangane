"use strict";(self.webpackChunkmangane_fe=self.webpackChunkmangane_fe||[]).push([[30],{579:function(e,a,t){t.r(a),t.d(a,{default:function(){return z}});var i=t(1852),s=(t(1),t(23),t(5)),r=t.n(s),o=t(0),l=t(1844),d=t(1845),c=t(6),n=t(1862),u=t(952),v=t(489),m=t(1871),f=t(27),Z=t(3),g=t(15),y=t(1868),_=t(14),h=t(76),p=t(100),w=t(216),x=t(2),N=t(199),b=(0,t(9).Tm)(),M=(0,l.vU)({today:{id:"account.today",defaultMessage:"Today"},yesterday:{id:"account.yesterday",defaultMessage:"Yesterday"},days:{id:"account.days",defaultMessage:"Days"}}),k=function(e){var a,t=e.id,s=(0,Z.CG)((function(e){return e.me})),d=(0,Z.CG)((function(e){return b(e,t)})),c=(0,Z.CG)((function(e){return(0,_.Gw)(e).get("autoPlayGif")})),n=s!==d.id&&(null===(a=d.relationship)||void 0===a?void 0:a.followed_by),u=o.useMemo((function(){if(!d)return 0;var e=new Date(d.last_status_at).valueOf(),a=(new Date).valueOf();return Math.floor((a-e)/1e3/60/60/24)}),[d]);return d?(0,i.Z)("div",{className:"directory__card shadow dark:bg-slate-700 flex flex-col"},void 0,n&&(0,i.Z)("div",{className:"directory__card__info"},void 0,(0,i.Z)("span",{className:"bg-white rounded p-1 mt-1 text-[8px] opacity-90 uppercase dark:text-white dark:bg-slate-800"},void 0,(0,i.Z)(y.Z,{id:"account.follows_you",defaultMessage:"Follows you"}))),(0,i.Z)("div",{className:"directory__card__img"},void 0,(0,i.Z)("img",{src:c?d.header:d.header_static,alt:"",className:"parallax"})),(0,i.Z)("div",{className:"px-4 py-3"},void 0,(0,i.Z)(w.Z,{href:d.url,to:"/@".concat(d.acct)},void 0,(0,i.Z)("div",{className:"flex justify-between items-end min-h-[30px]"},void 0,(0,i.Z)(h.Z,{className:"absolute border-solid border-4 border-white dark:border-slate-700",account:d,size:100}),(0,i.Z)("div",{className:"text-right grow"},void 0,(0,i.Z)(N.Z,{account:d,small:!0}))),(0,i.Z)(x.xv,{className:"mt-3 leading-5",size:"lg"},void 0,(0,i.Z)(p.Z,{account:d})))),(0,i.Z)("div",{className:"h-24 overflow-hidden px-4 py-3 grow"},void 0,(0,i.Z)(x.xv,{size:"sm",className:r()("italic account__header__content",(0===d.note.length||"<p></p>"===d.note)&&"empty"),dangerouslySetInnerHTML:{__html:d.note_emojified}})),(0,i.Z)("div",{className:"flex items-center justify-between px-4 py-3 mt-4"},void 0,(0,i.Z)("div",{},void 0,(0,i.Z)(x.xv,{theme:"primary",size:"xs"},void 0,(0,i.Z)(y.Z,{id:"account.posts",defaultMessage:"Posts"})),(0,i.Z)(x.xv,{weight:"bold",size:"lg",className:"leading-5"},void 0,(0,i.Z)(l.BK,{value:d.statuses_count}))),(0,i.Z)("div",{className:"accounts-table__count text-right"},void 0,(0,i.Z)(x.xv,{theme:"primary",size:"xs"},void 0,(0,i.Z)(y.Z,{id:"account.last_status",defaultMessage:"Last active"})),null===d.last_status_at?(0,i.Z)(x.xv,{weight:"bold",size:"lg",className:"leading-5"},void 0,(0,i.Z)(y.Z,{id:"account.never_active",defaultMessage:"Never"})):(0,i.Z)(x.xv,{weight:"bold",size:"lg",className:"leading-5"},void 0,u<1&&o.createElement(y.Z,M.today),u>=1&&u<2&&o.createElement(y.Z,M.yesterday),u>=2&&o.createElement(o.Fragment,null,u," ",o.createElement(y.Z,M.days)))))):null},C=(0,l.vU)({title:{id:"column.directory",defaultMessage:"Browse profiles"},recentlyActive:{id:"directory.recently_active",defaultMessage:"Recently active"},newArrivals:{id:"directory.new_arrivals",defaultMessage:"New arrivals"},local:{id:"directory.local",defaultMessage:"From {domain} only"},federated:{id:"directory.federated",defaultMessage:"From known fediverse"}}),z=function(){var e=(0,d.Z)(),a=(0,c.I0)(),t=(0,n.TH)().search,s=new URLSearchParams(t),l=(0,Z.CG)((function(e){return e.user_lists.directory.items})),y=(0,Z.CG)((function(e){return e.instance.get("title")})),_=(0,Z.CG)((function(e){return(0,g.N$)(e.instance)})),h=(0,o.useState)(s.get("order")||"active"),p=h[0],w=h[1],x=(0,o.useState)(!!s.get("local")),N=x[0],b=x[1];return(0,o.useEffect)((function(){a((0,u._d)({order:p||"active",local:N||!1}))}),[p,N]),(0,i.Z)(f.Z,{icon:"address-book-o",label:e.formatMessage(C.title)},void 0,(0,i.Z)("div",{className:"directory__filter-form flex items-center gap-4 my-3"},void 0,(0,i.Z)("div",{className:"directory__filter-form__column flex items-center gap-2",role:"group"},void 0,(0,i.Z)(m.Z,{id:"new-arrivals",checked:"new"===p,onChange:function(e){e.target.checked?w("new"):w("active")}})," ",(0,i.Z)("label",{htmlFor:"new-arrivals"},void 0,e.formatMessage(C.newArrivals))),_.federating&&(0,i.Z)("div",{className:"directory__filter-form__column flex items-center gap-2",role:"group"},void 0,(0,i.Z)(m.Z,{id:"local",checked:N,onChange:function(e){e.target.checked?b(!0):b(!1)}})," ",(0,i.Z)("label",{htmlFor:"new-arrivals"},void 0,e.formatMessage(C.local,{domain:y})))),(0,i.Z)("div",{className:r()("directory__list")},void 0,l.map((function(e){return(0,i.Z)(k,{id:e},e)}))),(0,i.Z)("div",{className:"mt-4 pt-3"},void 0,(0,i.Z)(v.Z,{onClick:function(){a((0,u.$b)({order:p||"active",local:N||!1}))}})))}}}]);
//# sourceMappingURL=directory-0e0456b5ad2a0a6133f8.chunk.js.map