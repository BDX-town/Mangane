{"version":3,"file":"packs/js/features/list_adder-c7ba7b80265577b22192.chunk.js","mappings":"4PAA2QA,GAAW,E,KAAA,MAAkgB,EAAne,SAAAC,GAAW,IAAAC,EAAWD,EAAI,UAAOE,GAAQ,SAAe,SAAAC,GAAO,OAAAJ,EAAWI,EAAMF,MAAY,OAAIC,GAAuC,OAAK,MAAM,CAACE,UAAU,gBAAW,GAAoB,OAAK,MAAM,CAACA,UAAU,yBAAoB,GAAoB,OAAK,MAAM,CAACA,UAAU,8BAAyB,GAAoB,OAAK,MAAM,CAACA,UAAU,gCAA2B,GAAoB,OAAK,KAAO,CAACC,IAAIH,EAAQI,OAAOC,KAAK,OAAmB,OAAK,IAAY,CAACL,QAAQA,OAArW,M,uBCAxBM,GAAS,QAAe,CAACC,OAAO,CAAC,GAAK,uBAAuB,eAAiB,oBAAoBC,IAAI,CAAC,GAAK,oBAAoB,eAAiB,iBAAq9B,EAAz7B,SAAAV,GAAW,IAA+UW,EAA/UC,EAAQZ,EAAI,OAAOa,GAAK,EAAAC,EAAA,KAAgBC,GAAS,UAAuBC,GAAK,SAAe,SAAAb,GAAO,OAAAA,EAAMc,MAAMC,IAAIN,MAAeO,GAAM,SAAe,SAAAhB,GAAO,OAAAA,EAAMiB,UAAUH,MAAMI,MAAMC,SAASV,MAAmH,OAAII,GAAsCL,EAAPQ,GAA2B,OAAK,IAAW,CAACI,cAAc,UAAUlB,IAAI,EAAQ,IAAuBmB,MAAMX,EAAKY,cAAcjB,EAASC,QAAQiB,QAA/Q,WAAI,OAAAX,GAAS,QAAoBH,QAA2R,OAAK,IAAW,CAACW,cAAc,UAAUlB,IAAI,EAAQ,IAA0BmB,MAAMX,EAAKY,cAAcjB,EAASE,KAAKgB,QAA5X,WAAI,OAAAX,GAAS,QAAeH,QAAoY,OAAK,MAAM,CAACR,UAAU,uEAAkE,GAAoB,OAAK,IAAK,CAACC,IAAI,EAAQ,KAA0BsB,YAAW,KAAoB,OAAK,OAAO,CAACvB,UAAU,kBAAa,EAAOY,EAAKQ,OAAOb,IAA9lB,MCAzY,GAAS,QAAe,CAACiB,MAAM,CAAC,GAAK,iBAAiB,eAAiB,SAASC,WAAW,CAAC,GAAK,mBAAmB,eAAiB,cAAcnB,IAAI,CAAC,GAAK,mBAAmB,eAAiB,cAC5rBoB,GAAgB,QAAe,CAAC,SAAA3B,GAAO,OAAAA,EAAMc,SAAO,SAAAA,GAAQ,OAAIA,EAA4BA,EAAMc,SAASC,QAAO,SAAAC,GAAM,QAAEA,KAAMC,MAAK,SAACC,EAAEC,GAAI,OAAAD,EAAEX,MAAMa,cAAcD,EAAEZ,UAAtFP,KAA8iC,EAA77B,SAAAjB,GAAW,IAAAC,EAAmBD,EAAI,UAAbsC,EAAStC,EAAI,QAAOa,GAAK,EAAAC,EAAA,KAAgBC,GAAS,UAAuBwB,GAAQ,SAAe,SAAApC,GAAO,OAAA2B,EAAgB3B,GAAOqC,KAAI,SAAAxB,GAAM,OAAAA,EAAKyB,SAAsJ,OAAjJ,IAAAC,YAAU,WAAyC,OAApC3B,GAAS,QAAed,IAAkB,WAAKc,GAAS,cAAsB,KAAuE,OAAK,KAAM,CAACS,OAAmB,OAAK,IAAiB,CAACiB,GAAG,0BAA0BE,eAAe,6BAA6BL,QAA/K,WAAKA,EAAQ,qBAAwL,GAAoB,OAAK,EAAQ,CAACrC,UAAUA,KAAyB,OAAK,KAAK,KAAiB,OAAK,KAAW,QAAG,GAAoB,OAAK,KAAU,CAACuB,MAAMX,EAAKY,cAAc,EAASf,SAAqB,OAAK,IAAY,KAAiB,OAAK,KAAK,KAAiB,OAAK,KAAW,QAAG,GAAoB,OAAK,KAAU,CAACc,MAAMX,EAAKY,cAAc,EAASI,gBAA4B,OAAK,MAAM,QAAG,EAAOU,EAAQC,KAAI,SAAAI,GAAqB,cAAK,EAAK,CAAChC,OAAOgC,GAAQA","sources":["webpack://mangane-fe/./app/soapbox/features/list_adder/components/account.tsx","webpack://mangane-fe/./app/soapbox/features/list_adder/components/list.tsx","webpack://mangane-fe/./app/soapbox/features/list_adder/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import DisplayName from'soapbox/components/display-name';import{Avatar}from'soapbox/components/ui';import{useAppSelector}from'soapbox/hooks';import{makeGetAccount}from'soapbox/selectors';const getAccount=makeGetAccount();const Account=_ref=>{let{accountId}=_ref;const account=useAppSelector(state=>getAccount(state,accountId));if(!account)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"account\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__wrapper\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__display-name\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__avatar-wrapper\"},void 0,/*#__PURE__*/_jsx(Avatar,{src:account.avatar,size:36})),/*#__PURE__*/_jsx(DisplayName,{account:account}))));};export default Account;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.includes.js\";import React from'react';import{defineMessages,useIntl}from'react-intl';import{removeFromListAdder,addToListAdder}from'soapbox/actions/lists';import Icon from'soapbox/components/icon';import IconButton from'soapbox/components/icon_button';import{useAppDispatch,useAppSelector}from'soapbox/hooks';const messages=defineMessages({remove:{\"id\":\"lists.account.remove\",\"defaultMessage\":\"Remove from list\"},add:{\"id\":\"lists.account.add\",\"defaultMessage\":\"Add to list\"}});const List=_ref=>{let{listId}=_ref;const intl=useIntl();const dispatch=useAppDispatch();const list=useAppSelector(state=>state.lists.get(listId));const added=useAppSelector(state=>state.listAdder.lists.items.includes(listId));const onRemove=()=>dispatch(removeFromListAdder(listId));const onAdd=()=>dispatch(addToListAdder(listId));if(!list)return null;let button;if(added){button=/*#__PURE__*/_jsx(IconButton,{iconClassName:\"h-5 w-5\",src:require('@tabler/icons/x.svg'),title:intl.formatMessage(messages.remove),onClick:onRemove});}else{button=/*#__PURE__*/_jsx(IconButton,{iconClassName:\"h-5 w-5\",src:require('@tabler/icons/plus.svg'),title:intl.formatMessage(messages.add),onClick:onAdd});}return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-1.5 px-2 py-4 text-black dark:text-white\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/list.svg'),fixedWidth:true}),/*#__PURE__*/_jsx(\"span\",{className:\"flex-grow\"},void 0,list.title),button);};export default List;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React,{useEffect}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{createSelector}from'reselect';import{setupListAdder,resetListAdder}from'soapbox/actions/lists';import{CardHeader,CardTitle,Modal}from'soapbox/components/ui';import{useAppDispatch,useAppSelector}from'soapbox/hooks';import NewListForm from'../lists/components/new_list_form';import Account from'./components/account';import List from'./components/list';const messages=defineMessages({close:{\"id\":\"lightbox.close\",\"defaultMessage\":\"Close\"},subheading:{\"id\":\"lists.subheading\",\"defaultMessage\":\"Your lists\"},add:{\"id\":\"lists.new.create\",\"defaultMessage\":\"Add List\"}});// hack\nconst getOrderedLists=createSelector([state=>state.lists],lists=>{if(!lists){return lists;}return lists.toList().filter(item=>!!item).sort((a,b)=>a.title.localeCompare(b.title));});const ListAdder=_ref=>{let{accountId,onClose}=_ref;const intl=useIntl();const dispatch=useAppDispatch();const listIds=useAppSelector(state=>getOrderedLists(state).map(list=>list.id));useEffect(()=>{dispatch(setupListAdder(accountId));return()=>{dispatch(resetListAdder());};},[]);const onClickClose=()=>{onClose('LIST_ADDER');};return/*#__PURE__*/_jsx(Modal,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"list_adder.header_title\",defaultMessage:\"Add or Remove from Lists\"}),onClose:onClickClose},void 0,/*#__PURE__*/_jsx(Account,{accountId:accountId}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.add)})),/*#__PURE__*/_jsx(NewListForm,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.subheading)})),/*#__PURE__*/_jsx(\"div\",{},void 0,listIds.map(ListId=>/*#__PURE__*/_jsx(List,{listId:ListId},ListId))));};export default ListAdder;"],"names":["getAccount","_ref","accountId","account","state","className","src","avatar","size","messages","remove","add","button","listId","intl","useIntl","dispatch","list","lists","get","added","listAdder","items","includes","iconClassName","title","formatMessage","onClick","fixedWidth","close","subheading","getOrderedLists","toList","filter","item","sort","a","b","localeCompare","onClose","listIds","map","id","useEffect","defaultMessage","ListId"],"sourceRoot":""}