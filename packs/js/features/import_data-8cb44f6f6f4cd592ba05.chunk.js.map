{"version":3,"file":"packs/js/features/import_data-8cb44f6f6f4cd592ba05.chunk.js","mappings":"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","sources":["webpack://mangane-fe/./app/soapbox/actions/import_data.ts","webpack://mangane-fe/./app/soapbox/features/import_data/components/csv_importer.tsx","webpack://mangane-fe/./app/soapbox/features/import_data/index.tsx"],"sourcesContent":["import{defineMessages}from'react-intl';import snackbar from'soapbox/actions/snackbar';import api from'../api';export const IMPORT_FOLLOWS_REQUEST='IMPORT_FOLLOWS_REQUEST';export const IMPORT_FOLLOWS_SUCCESS='IMPORT_FOLLOWS_SUCCESS';export const IMPORT_FOLLOWS_FAIL='IMPORT_FOLLOWS_FAIL';export const IMPORT_BLOCKS_REQUEST='IMPORT_BLOCKS_REQUEST';export const IMPORT_BLOCKS_SUCCESS='IMPORT_BLOCKS_SUCCESS';export const IMPORT_BLOCKS_FAIL='IMPORT_BLOCKS_FAIL';export const IMPORT_MUTES_REQUEST='IMPORT_MUTES_REQUEST';export const IMPORT_MUTES_SUCCESS='IMPORT_MUTES_SUCCESS';export const IMPORT_MUTES_FAIL='IMPORT_MUTES_FAIL';const messages=defineMessages({blocksSuccess:{\"id\":\"import_data.success.blocks\",\"defaultMessage\":\"Blocks imported successfully\"},followersSuccess:{\"id\":\"import_data.success.followers\",\"defaultMessage\":\"Followers imported successfully\"},mutesSuccess:{\"id\":\"import_data.success.mutes\",\"defaultMessage\":\"Mutes imported successfully\"}});export const importFollows=params=>(dispatch,getState)=>{dispatch({type:IMPORT_FOLLOWS_REQUEST});return api(getState).post('/api/pleroma/follow_import',params).then(response=>{dispatch(snackbar.success(messages.followersSuccess));dispatch({type:IMPORT_FOLLOWS_SUCCESS,config:response.data});}).catch(error=>{dispatch({type:IMPORT_FOLLOWS_FAIL,error});});};export const importBlocks=params=>(dispatch,getState)=>{dispatch({type:IMPORT_BLOCKS_REQUEST});return api(getState).post('/api/pleroma/blocks_import',params).then(response=>{dispatch(snackbar.success(messages.blocksSuccess));dispatch({type:IMPORT_BLOCKS_SUCCESS,config:response.data});}).catch(error=>{dispatch({type:IMPORT_BLOCKS_FAIL,error});});};export const importMutes=params=>(dispatch,getState)=>{dispatch({type:IMPORT_MUTES_REQUEST});return api(getState).post('/api/pleroma/mutes_import',params).then(response=>{dispatch(snackbar.success(messages.mutesSuccess));dispatch({type:IMPORT_MUTES_SUCCESS,config:response.data});}).catch(error=>{dispatch({type:IMPORT_MUTES_FAIL,error});});};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/web.dom-collections.iterator.js\";import React,{useState}from'react';import{useIntl}from'react-intl';import{Button,FileInput,Form,FormActions,FormGroup,Text}from'soapbox/components/ui';import{useAppDispatch}from'soapbox/hooks';const CSVImporter=_ref=>{let{messages,action}=_ref;const dispatch=useAppDispatch();const intl=useIntl();const[isLoading,setIsLoading]=useState(false);const[file,setFile]=useState(null);const handleSubmit=event=>{const params=new FormData();params.append('list',file);setIsLoading(true);dispatch(action(params)).then(()=>{setIsLoading(false);}).catch(()=>{setIsLoading(false);});event.preventDefault();};const handleFileChange=e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files.item(0);setFile(file);};return/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit},void 0,/*#__PURE__*/_jsx(Text,{size:\"xl\",weight:\"bold\",tag:\"label\"},void 0,intl.formatMessage(messages.input_label)),/*#__PURE__*/_jsx(FormGroup,{hintText:/*#__PURE__*/_jsx(Text,{theme:\"muted\"},void 0,intl.formatMessage(messages.input_hint))},void 0,/*#__PURE__*/_jsx(FileInput,{accept:\".csv,text/csv\",onChange:handleFileChange,required:true})),/*#__PURE__*/_jsx(FormActions,{},void 0,/*#__PURE__*/_jsx(Button,{type:\"submit\",theme:\"primary\",disabled:isLoading},void 0,intl.formatMessage(messages.submit))));};export default CSVImporter;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{defineMessages,useIntl}from'react-intl';import{importFollows,importBlocks,importMutes}from'soapbox/actions/import_data';import Column from'../ui/components/column';import CSVImporter from'./components/csv_importer';const messages=defineMessages({heading:{\"id\":\"column.import_data\",\"defaultMessage\":\"Import data\"},submit:{\"id\":\"import_data.actions.import\",\"defaultMessage\":\"Import\"}});const followMessages=defineMessages({input_label:{\"id\":\"import_data.follows_label\",\"defaultMessage\":\"Follows\"},input_hint:{\"id\":\"import_data.hints.follows\",\"defaultMessage\":\"CSV file containing a list of followed accounts\"},submit:{\"id\":\"import_data.actions.import_follows\",\"defaultMessage\":\"Import follows\"}});const blockMessages=defineMessages({input_label:{\"id\":\"import_data.blocks_label\",\"defaultMessage\":\"Blocks\"},input_hint:{\"id\":\"import_data.hints.blocks\",\"defaultMessage\":\"CSV file containing a list of blocked accounts\"},submit:{\"id\":\"import_data.actions.import_blocks\",\"defaultMessage\":\"Import blocks\"}});const muteMessages=defineMessages({input_label:{\"id\":\"import_data.mutes_label\",\"defaultMessage\":\"Mutes\"},input_hint:{\"id\":\"import_data.hints.mutes\",\"defaultMessage\":\"CSV file containing a list of muted accounts\"},submit:{\"id\":\"import_data.actions.import_mutes\",\"defaultMessage\":\"Import mutes\"}});const ImportData=()=>{const intl=useIntl();return/*#__PURE__*/_jsx(Column,{icon:\"cloud-upload-alt\",label:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(CSVImporter,{action:importFollows,messages:followMessages}),/*#__PURE__*/_jsx(CSVImporter,{action:importBlocks,messages:blockMessages}),/*#__PURE__*/_jsx(CSVImporter,{action:importMutes,messages:muteMessages}));};export default ImportData;"],"names":["messages","blocksSuccess","followersSuccess","mutesSuccess","importFollows","params","dispatch","getState","type","api","post","then","response","snackbar","config","data","catch","error","importBlocks","importMutes","_ref","action","intl","useIntl","useState","isLoading","setIsLoading","file","setFile","onSubmit","event","FormData","append","preventDefault","size","weight","tag","formatMessage","input_label","hintText","theme","input_hint","accept","onChange","e","_e$target$files","target","files","item","required","disabled","submit","heading","followMessages","blockMessages","muteMessages","icon","label"],"sourceRoot":""}