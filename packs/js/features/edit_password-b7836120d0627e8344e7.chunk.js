"use strict";(self.webpackChunkmangane_fe=self.webpackChunkmangane_fe||[]).push([[33],{1238:function(e,a,s){s.r(a);var t=s(1852),r=s(1843),o=(s(1),s(108),s(0)),n=s(1844),d=s(1845),i=s(94),l=s(12),u=s(2),c=s(3),f=s(593);function w(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),s.push.apply(s,t)}return s}function p(e){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?w(Object(s),!0).forEach((function(a){(0,r.Z)(e,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))}))}return e}var b=(0,n.vU)({updatePasswordSuccess:{id:"security.update_password.success",defaultMessage:"Password successfully updated."},updatePasswordFail:{id:"security.update_password.fail",defaultMessage:"Update password failed."},oldPasswordFieldLabel:{id:"security.fields.old_password.label",defaultMessage:"Current password"},newPasswordFieldLabel:{id:"security.fields.new_password.label",defaultMessage:"New password"},confirmationFieldLabel:{id:"security.fields.password_confirmation.label",defaultMessage:"New password (again)"},header:{id:"edit_password.header",defaultMessage:"Change Password"},submit:{id:"security.submit",defaultMessage:"Save changes"},cancel:{id:"common.cancel",defaultMessage:"Cancel"}}),g={currentPassword:"",newPassword:"",newPasswordConfirmation:""};a.default=function(){var e=(0,d.Z)(),a=(0,c.TL)(),s=(0,c.hz)().passwordRequirements,r=o.useState(g),n=r[0],w=r[1],m=o.useState(!1),P=m[0],v=m[1],h=o.useState(!s),y=h[0],Z=h[1],O=n.currentPassword,M=n.newPassword,C=n.newPasswordConfirmation,j=function(){return w(g)},S=o.useCallback((function(e){e.persist(),w((function(a){var s;return p(p({},a),{},((s={})[e.target.name]=e.target.value,s))}))}),[]),k=o.useCallback((function(){v(!0),a((0,i.Cp)(O,M,C)).then((function(){j(),a(l.ZP.success(e.formatMessage(b.updatePasswordSuccess)))})).finally((function(){v(!1)})).catch((function(){j(),a(l.ZP.error(e.formatMessage(b.updatePasswordFail)))}))}),[O,M,C,a,e]);return(0,t.Z)(u.sg,{label:e.formatMessage(b.header),transparent:!0,withHeader:!1},void 0,(0,t.Z)(u.Zb,{variant:"rounded"},void 0,(0,t.Z)(u.Ol,{backHref:"/settings"},void 0,(0,t.Z)(u.ll,{title:e.formatMessage(b.header)})),(0,t.Z)(u.eW,{},void 0,(0,t.Z)(u.l0,{onSubmit:k},void 0,(0,t.Z)(u.cw,{labelText:e.formatMessage(b.oldPasswordFieldLabel)},void 0,(0,t.Z)(u.II,{type:"password",name:"currentPassword",onChange:S,value:O})),(0,t.Z)(u.cw,{labelText:e.formatMessage(b.newPasswordFieldLabel)},void 0,(0,t.Z)(u.II,{type:"password",name:"newPassword",onChange:S,value:M}),s&&(0,t.Z)(f.Z,{password:M,onChange:Z})),(0,t.Z)(u.cw,{labelText:e.formatMessage(b.confirmationFieldLabel)},void 0,(0,t.Z)(u.II,{type:"password",name:"newPasswordConfirmation",onChange:S,value:C})),(0,t.Z)(u.iN,{},void 0,(0,t.Z)(u.zx,{to:"/settings",theme:"ghost"},void 0,e.formatMessage(b.cancel)),(0,t.Z)(u.zx,{type:"submit",theme:"primary",disabled:P||!y},void 0,e.formatMessage(b.submit)))))))}}}]);
//# sourceMappingURL=edit_password-b7836120d0627e8344e7.chunk.js.map