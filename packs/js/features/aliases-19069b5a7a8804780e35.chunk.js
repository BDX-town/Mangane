"use strict";(self.webpackChunkmangane_fe=self.webpackChunkmangane_fe||[]).push([[11],{602:function(e,a,s){s.r(a),s.d(a,{default:function(){return T}});var t=s(1840),i=s(0),n=s(1826),l=s(1827),o=s(1856),c=s(194),r=s(14),d=s(20),u=s(1),g=s(3),v=s(9),m=s(15),f=(s(7),s(66)),Z=s(102),_=s(54),h=(0,n.vU)({add:{id:"aliases.account.add",defaultMessage:"Create alias"}}),p=(0,v.Tm)(),b=function(e){var a,i=e.accountId,n=e.aliases,o=(0,l.Z)(),r=(0,g.TL)(),d=(0,g.CG)((function(e){return p(e,i)})),u=(0,g.CG)((function(e){var a=e.instance,s=(0,m.N$)(a),t=p(e,i),l=null==t?void 0:t.pleroma.get("ap_id"),o=s.accountMoving?null==t?void 0:t.acct:l;return n.includes(o)})),v=(0,g.CG)((function(e){return e.me}));return d?(u||i===v||(a=(0,t.Z)("div",{className:"account__relationship"},void 0,(0,t.Z)(_.Z,{src:s(50),title:o.formatMessage(h.add),onClick:function(){return r((0,c.j4)(d))}}))),(0,t.Z)("div",{className:"account"},void 0,(0,t.Z)("div",{className:"account__wrapper"},void 0,(0,t.Z)("div",{className:"account__display-name"},void 0,(0,t.Z)("div",{className:"account__avatar-wrapper"},void 0,(0,t.Z)(f.Z,{account:d,size:36})),(0,t.Z)(Z.Z,{account:d})),a))):null},M=s(5),N=s.n(M),C=s(6),y=(0,n.vU)({search:{id:"aliases.search",defaultMessage:"Search your old account"},searchTitle:{id:"tabs_bar.search",defaultMessage:"Search"}}),k=function(){var e=(0,C.I0)(),a=(0,l.Z)(),i=(0,g.CG)((function(e){return e.aliases.suggestions.value})),n=i.length>0;return(0,t.Z)("div",{className:"flex items-center gap-1"},void 0,(0,t.Z)("label",{className:"flex-grow relative"},void 0,(0,t.Z)("span",{style:{display:"none"}},void 0,a.formatMessage(y.search)),(0,t.Z)("input",{className:"block w-full sm:text-sm dark:bg-slate-800 dark:text-white dark:placeholder:text-gray-500 focus:ring-indigo-500 focus:border-indigo-500 rounded-full",type:"text",value:i,onChange:function(a){e((0,c.lt)(a.target.value))},onKeyUp:function(a){13===a.keyCode&&e((0,c.YX)(i))},placeholder:a.formatMessage(y.search)}),(0,t.Z)("div",{role:"button",tabIndex:0,className:"search__icon",onClick:function(){e((0,c.oy)())}},void 0,(0,t.Z)(r.Z,{src:s(256),"aria-label":a.formatMessage(y.search),className:N()("svg-icon--backspace",{active:n})}))),(0,t.Z)(u.zx,{onClick:function(){e((0,c.YX)(i))}},void 0,a.formatMessage(y.searchTitle)))},w=(0,n.vU)({heading:{id:"column.aliases",defaultMessage:"Account aliases"},subheading_add_new:{id:"column.aliases.subheading_add_new",defaultMessage:"Add New Alias"},create_error:{id:"column.aliases.create_error",defaultMessage:"Error creating alias"},delete_error:{id:"column.aliases.delete_error",defaultMessage:"Error deleting alias"},subheading_aliases:{id:"column.aliases.subheading_aliases",defaultMessage:"Current aliases"},delete:{id:"column.aliases.delete",defaultMessage:"Delete"}}),x=(0,v.Tm)(),T=function(){var e=(0,l.Z)(),a=(0,g.TL)(),n=(0,g.CG)((function(e){var a=e.me,s=x(e,a),t=e.instance;return(0,m.N$)(t).accountMoving?e.aliases.aliases.items:s.pleroma.get("also_known_as")})),v=(0,g.CG)((function(e){return e.aliases.suggestions.items})),f=(0,g.CG)((function(e){return e.aliases.suggestions.loaded}));(0,i.useEffect)((function(){a(c.Ir)}),[]);var Z=function(e){a((0,c.vu)(e.currentTarget.dataset.value))},_=(0,t.Z)(o.Z,{id:"empty_column.aliases",defaultMessage:"You haven't created any account alias yet."});return(0,t.Z)(u.sg,{className:"aliases-settings-panel",label:e.formatMessage(w.heading)},void 0,(0,t.Z)(u.Ol,{},void 0,(0,t.Z)(u.ll,{title:e.formatMessage(w.subheading_add_new)})),(0,t.Z)(k,{}),f&&0===v.size?(0,t.Z)("div",{className:"aliases__accounts empty-column-indicator"},void 0,(0,t.Z)(o.Z,{id:"empty_column.aliases.suggestions",defaultMessage:"There are no account suggestions available for the provided term."})):(0,t.Z)("div",{className:"aliases__accounts"},void 0,v.map((function(e){return(0,t.Z)(b,{accountId:e,aliases:n},e)}))),(0,t.Z)(u.Ol,{},void 0,(0,t.Z)(u.ll,{title:e.formatMessage(w.subheading_aliases)})),(0,t.Z)("div",{className:"aliases-settings-panel"},void 0,(0,t.Z)(d.Z,{scrollKey:"aliases",emptyMessage:_},void 0,n.map((function(a,i){return(0,t.Z)(u.Ug,{alignItems:"center",justifyContent:"between",space:1,className:"p-2"},i,(0,t.Z)("div",{},void 0,(0,t.Z)(u.xv,{tag:"span",theme:"muted"},void 0,(0,t.Z)(o.Z,{id:"aliases.account_label",defaultMessage:"Old account:"}))," ",(0,t.Z)(u.xv,{tag:"span"},void 0,a)),(0,t.Z)("div",{className:"flex items-center",role:"button",tabIndex:0,onClick:Z,"data-value":a,"aria-label":e.formatMessage(w.delete)},void 0,(0,t.Z)(r.Z,{className:"mr-1.5",src:s(26)}),(0,t.Z)(u.xv,{weight:"bold",theme:"muted"},void 0,(0,t.Z)(o.Z,{id:"aliases.aliases_list_delete",defaultMessage:"Unlink alias"}))))})))))}}}]);
//# sourceMappingURL=aliases-19069b5a7a8804780e35.chunk.js.map