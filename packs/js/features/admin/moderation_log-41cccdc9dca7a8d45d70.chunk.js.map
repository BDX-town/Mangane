{"version":3,"file":"packs/js/features/admin/moderation_log-41cccdc9dca7a8d45d70.chunk.js","mappings":"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","sources":["webpack://mangane-fe/./app/soapbox/features/admin/moderation_log.tsx"],"sourcesContent":["var _jsxFileName = \"/home/runner/work/Mangane/Mangane/app/soapbox/features/admin/moderation_log.tsx\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport React, { useEffect, useState } from 'react';\nimport { defineMessages, FormattedDate, useIntl } from 'react-intl';\nimport { fetchModerationLog } from 'soapbox/actions/admin';\nimport ScrollableList from 'soapbox/components/scrollable_list';\nimport { useAppDispatch, useAppSelector } from 'soapbox/hooks';\nimport Column from '../ui/components/column';\nconst messages = defineMessages({\n  heading: {\n    \"id\": \"column.admin.moderation_log\",\n    \"defaultMessage\": \"Moderation Log\"\n  },\n  emptyMessage: {\n    \"id\": \"admin.moderation_log.empty_message\",\n    \"defaultMessage\": \"You have not performed any moderation actions yet. When you do, a history will be shown here.\"\n  }\n});\n\nconst ModerationLog = () => {\n  const intl = useIntl();\n  const dispatch = useAppDispatch();\n  const items = useAppSelector(state => {\n    return state.admin_log.index.map(i => state.admin_log.items.get(String(i)));\n  });\n  const hasMore = useAppSelector(state => state.admin_log.total - state.admin_log.index.count() > 0);\n  const [isLoading, setIsLoading] = useState(true);\n  const [lastPage, setLastPage] = useState(0);\n  const showLoading = isLoading && items.count() === 0;\n  useEffect(() => {\n    dispatch(fetchModerationLog()).then(() => {\n      setIsLoading(false);\n      setLastPage(1);\n    }).catch(() => {});\n  }, []);\n\n  const handleLoadMore = () => {\n    const page = lastPage + 1;\n    setIsLoading(true);\n    dispatch(fetchModerationLog({\n      page\n    })).then(() => {\n      setIsLoading(false);\n      setLastPage(page);\n    }).catch(() => {});\n  };\n\n  return /*#__PURE__*/React.createElement(Column, {\n    icon: \"balance-scale\",\n    label: intl.formatMessage(messages.heading),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ScrollableList, {\n    isLoading: isLoading,\n    showLoading: showLoading,\n    scrollKey: \"moderation-log\",\n    emptyMessage: intl.formatMessage(messages.emptyMessage),\n    hasMore: hasMore,\n    onLoadMore: handleLoadMore,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, items.map(item => item && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logentry\",\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logentry__message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, item.message), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logentry__timestamp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormattedDate, {\n    value: new Date(item.time * 1000),\n    hour12: false,\n    year: \"numeric\",\n    month: \"short\",\n    day: \"2-digit\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default ModerationLog;"],"names":[],"sourceRoot":""}