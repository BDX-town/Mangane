"use strict";(self.webpackChunkmangane_fe=self.webpackChunkmangane_fe||[]).push([[10],{1191:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a,o,r,i=n(1845),s=n(1833),u=(n(2),n(271)),c=n(22),d=n.n(c),p=n(10),f=n.n(p),l=n(42),h=n(839),g=n(1835),y=n(6),m=n(36),Z=n(20),v=n(23),_=n(101),x=n(27),L=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),M=(0,h.vU)({heading:{id:"column.admin.users",defaultMessage:"Users"},empty:{id:"admin.user_index.empty",defaultMessage:"No users found."},searchPlaceholder:{id:"admin.user_index.search_input_placeholder",defaultMessage:"Who are you looking for?"}}),S=(0,y.$j)()(o=(0,g.ZP)((r=function(e){function t(){var t=e.apply(this,arguments)||this;return(0,s.Z)(t,"state",{isLoading:!0,filters:(0,u.Set)(["local","active"]),accountIds:(0,u.OrderedSet)(),total:1/0,pageSize:50,page:0,query:"",nextLink:void 0}),(0,s.Z)(t,"clearState",(function(e){t.setState({isLoading:!0,accountIds:(0,u.OrderedSet)(),page:0},e)})),(0,s.Z)(t,"fetchNextPage",(function(){var e=t.state,n=e.filters,a=e.page,o=e.query,r=e.pageSize,i=e.nextLink,s=a+1;t.props.dispatch((0,m.uh)(n,s,o,r,i)).then((function(e){var n=e.users,a=e.count,o=e.next,r=n.map((function(e){return e.id}));t.setState({isLoading:!1,accountIds:t.state.accountIds.union(r),total:a,page:s,nextLink:o})})).catch((function(){}))})),(0,s.Z)(t,"refresh",(function(){t.clearState((function(){t.fetchNextPage()}))})),(0,s.Z)(t,"handleLoadMore",d()((function(){t.fetchNextPage()}),2e3,{leading:!0})),(0,s.Z)(t,"updateQuery",d()((function(e){t.setState({query:e})}),900)),(0,s.Z)(t,"handleQueryChange",(function(e){t.updateQuery(e.target.value)})),t}return L(t,e),t.prototype.componentDidMount=function(){this.fetchNextPage()},t.prototype.componentDidUpdate=function(e,t){var n=this.state,a=n.filters,o=n.query,r=!(0,u.is)(a,t.filters),i=o!==t.query;(r||i)&&this.refresh()},t.prototype.render=function(){var e=this.props.intl,t=this.state,n=t.accountIds,a=t.isLoading,o=n.count()<this.state.total&&!1!==this.state.nextLink,r=a&&n.isEmpty();return(0,i.Z)(x.Z,{label:e.formatMessage(M.heading)},void 0,(0,i.Z)(_.NA,{style:{paddingBottom:0}},void 0,(0,i.Z)(_.oi,{onChange:this.handleQueryChange,placeholder:e.formatMessage(M.searchPlaceholder)})),(0,i.Z)(Z.Z,{scrollKey:"user-index",hasMore:o,isLoading:a,showLoading:r,onLoadMore:this.handleLoadMore,emptyMessage:e.formatMessage(M.empty),className:"mt-4",itemClassName:"pb-4"},void 0,n.map((function(e){return(0,i.Z)(v.Z,{id:e,withDate:!0},e)}))))},t}(l.ZP),(0,s.Z)(r,"propTypes",{dispatch:f().func.isRequired}),o=r))||o)||o}}]);
//# sourceMappingURL=user_index-a28fc480e68dbaf8b4bd.chunk.js.map