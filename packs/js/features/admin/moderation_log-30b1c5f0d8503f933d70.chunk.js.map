{"version":3,"file":"packs/js/features/admin/moderation_log-30b1c5f0d8503f933d70.chunk.js","mappings":"gMAAmbA,GAAS,QAAe,CAACC,QAAQ,CAAC,GAAK,8BAA8B,eAAiB,kBAAkBC,aAAa,CAAC,GAAK,qCAAqC,eAAiB,mGAAm9C,UAA51C,WAAK,IAAMC,GAAK,SAAgBC,GAAS,UAAuBC,GAAM,SAAe,SAAAC,GAAQ,OAAOA,EAAMC,UAAUC,MAAMC,KAAI,SAAAC,GAAG,OAAAJ,EAAMC,UAAUF,MAAMM,IAAIC,OAAOF,UAAcG,GAAQ,SAAe,SAAAP,GAAO,OAAAA,EAAMC,UAAUO,MAAMR,EAAMC,UAAUC,MAAMO,QAAQ,KAAQ,GAAyB,IAAAC,WAAS,GAAjCC,EAAS,KAACC,EAAY,KAAsB,GAAuB,IAAAF,UAAS,GAA/BG,EAAQ,KAACC,EAAW,KAAoBC,EAAYJ,GAA2B,IAAhBZ,EAAMU,QAAyS,OAA7R,IAAAO,YAAU,WAAKlB,GAAS,WAAsBmB,MAAK,WAAKL,GAAa,GAAOE,EAAY,MAAMI,OAAM,iBAAU,KAAkM,OAAK,IAAO,CAACC,KAAK,gBAAgBC,MAAMvB,EAAKwB,cAAc3B,EAASC,eAAU,GAAoB,OAAK,IAAe,CAACgB,UAAUA,EAAUI,YAAYA,EAAYO,UAAU,iBAAiB1B,aAAaC,EAAKwB,cAAc3B,EAASE,cAAcW,QAAQA,EAAQgB,WAA9a,WAAK,IAAMC,EAAKX,EAAS,EAAED,GAAa,GAAMd,GAAS,QAAmB,CAAC0B,KAAI,KAAIP,MAAK,WAAKL,GAAa,GAAOE,EAAYU,MAASN,OAAM,sBAA6T,EAAOnB,EAAMI,KAAI,SAAAsB,GAAM,OAAAA,IAAmB,OAAK,MAAM,CAACC,UAAU,YAAYD,EAAKE,IAAgB,OAAK,MAAM,CAACD,UAAU,0BAAqB,EAAOD,EAAKG,UAAsB,OAAK,MAAM,CAACF,UAAU,4BAAuB,GAAoB,OAAK,KAAc,CAACG,MAAM,IAAIC,KAAe,IAAVL,EAAKM,MAAWC,QAAO,EAAMC,KAAK,UAAUC,MAAM,QAAQC,IAAI,UAAUC,KAAK,UAAUC,OAAO","sources":["webpack://mangane-fe/./app/soapbox/features/admin/moderation_log.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/web.dom-collections.iterator.js\";import React,{useEffect,useState}from'react';import{defineMessages,FormattedDate,useIntl}from'react-intl';import{fetchModerationLog}from'soapbox/actions/admin';import ScrollableList from'soapbox/components/scrollable_list';import{useAppDispatch,useAppSelector}from'soapbox/hooks';import Column from'../ui/components/column';const messages=defineMessages({heading:{\"id\":\"column.admin.moderation_log\",\"defaultMessage\":\"Moderation Log\"},emptyMessage:{\"id\":\"admin.moderation_log.empty_message\",\"defaultMessage\":\"You have not performed any moderation actions yet. When you do, a history will be shown here.\"}});const ModerationLog=()=>{const intl=useIntl();const dispatch=useAppDispatch();const items=useAppSelector(state=>{return state.admin_log.index.map(i=>state.admin_log.items.get(String(i)));});const hasMore=useAppSelector(state=>state.admin_log.total-state.admin_log.index.count()>0);const[isLoading,setIsLoading]=useState(true);const[lastPage,setLastPage]=useState(0);const showLoading=isLoading&&items.count()===0;useEffect(()=>{dispatch(fetchModerationLog()).then(()=>{setIsLoading(false);setLastPage(1);}).catch(()=>{});},[]);const handleLoadMore=()=>{const page=lastPage+1;setIsLoading(true);dispatch(fetchModerationLog({page})).then(()=>{setIsLoading(false);setLastPage(page);}).catch(()=>{});};return/*#__PURE__*/_jsx(Column,{icon:\"balance-scale\",label:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(ScrollableList,{isLoading:isLoading,showLoading:showLoading,scrollKey:\"moderation-log\",emptyMessage:intl.formatMessage(messages.emptyMessage),hasMore:hasMore,onLoadMore:handleLoadMore},void 0,items.map(item=>item&&/*#__PURE__*/_jsx(\"div\",{className:\"logentry\"},item.id,/*#__PURE__*/_jsx(\"div\",{className:\"logentry__message\"},void 0,item.message),/*#__PURE__*/_jsx(\"div\",{className:\"logentry__timestamp\"},void 0,/*#__PURE__*/_jsx(FormattedDate,{value:new Date(item.time*1000),hour12:false,year:\"numeric\",month:\"short\",day:\"2-digit\",hour:\"2-digit\",minute:\"2-digit\"}))))));};export default ModerationLog;"],"names":["messages","heading","emptyMessage","intl","dispatch","items","state","admin_log","index","map","i","get","String","hasMore","total","count","useState","isLoading","setIsLoading","lastPage","setLastPage","showLoading","useEffect","then","catch","icon","label","formatMessage","scrollKey","onLoadMore","page","item","className","id","message","value","Date","time","hour12","year","month","day","hour","minute"],"sourceRoot":""}