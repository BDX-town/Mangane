{"version":3,"file":"packs/js/features/ads/rumble-dfc6a6fba94bd2d6efa4.chunk.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAuD;AACI;AACP;AAEpD,wCAAwC;AACxC,IAAM,gBAAgB,GAAG;IACvB,MAAM,EAAE,UAAM,QAAQ;;;;;oBACd,KAAK,GAAG,QAAQ,EAAE,CAAC;oBACnB,QAAQ,GAAG,qEAAW,CAAC,KAAK,CAAC,CAAC;oBAC9B,aAAa,GAAG,yEAAgB,CAAC,KAAK,CAAC,CAAC;oBACxC,QAAQ,GAAG,aAAa,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC;yBAEjE,QAAQ,EAAR,wBAAQ;oBACO,qBAAM,KAAK,CAAC,QAAQ,EAAE;4BACrC,OAAO,EAAE;gCACP,iBAAiB,EAAE,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC;6BAC/C;yBACF,CAAC;;oBAJI,QAAQ,GAAG,SAIf;yBAEE,QAAQ,CAAC,EAAE,EAAX,wBAAW;oBACA,qBAAM,QAAQ,CAAC,IAAI,EAAE;;oBAA5B,IAAI,GAAG,SAAqB;oBAClC,sBAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,cAAI,IAAI,QAAC;4BAC3B,UAAU,EAAE,IAAI,CAAC,UAAU;4BAC3B,IAAI,EAAE,kEAAa,CAAC;gCAClB,IAAI,EAAE,IAAI,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM;gCACvC,KAAK,EAAE,IAAI,CAAC,KAAK;gCACjB,GAAG,EAAE,IAAI,CAAC,KAAK;6BAChB,CAAC;yBACH,CAAC,EAP0B,CAO1B,CAAC,EAAC;wBAIR,sBAAO,EAAE,EAAC;;;SACX;CACF,CAAC;AACF,+DAAe,gBAAgB,EAAC","sources":["webpack://mangane-fe/./app/soapbox/features/ads/providers/rumble.ts"],"sourcesContent":["import { getSettings } from 'soapbox/actions/settings';\nimport { getSoapboxConfig } from 'soapbox/actions/soapbox';\nimport { normalizeCard } from 'soapbox/normalizers';\n\n/** Provides ads from Soapbox Config. */\nconst RumbleAdProvider = {\n  getAds: async getState => {\n    const state = getState();\n    const settings = getSettings(state);\n    const soapboxConfig = getSoapboxConfig(state);\n    const endpoint = soapboxConfig.extensions.getIn(['ads', 'endpoint']);\n\n    if (endpoint) {\n      const response = await fetch(endpoint, {\n        headers: {\n          'Accept-Language': settings.get('locale', '*')\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        return data.ads.map(item => ({\n          impression: item.impression,\n          card: normalizeCard({\n            type: item.type === 1 ? 'link' : 'rich',\n            image: item.asset,\n            url: item.click\n          })\n        }));\n      }\n    }\n\n    return [];\n  }\n};\nexport default RumbleAdProvider;"],"names":[],"sourceRoot":""}