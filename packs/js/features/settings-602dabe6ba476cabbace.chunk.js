"use strict";(self.webpackChunkmangane_fe=self.webpackChunkmangane_fe||[]).push([[67],{1027:function(e,a,s){s.r(a);var t=s(1840),i=s(0),n=s(1826),l=s(1827),o=s(6),r=s(1850),d=s(146),u=s(273),f=s(1),c=s(3),g=s(143),m=s(15),p=s(380),M=(0,n.vU)({settings:{id:"settings.settings",defaultMessage:"Settings"},profile:{id:"settings.profile",defaultMessage:"Profile"},security:{id:"settings.security",defaultMessage:"Security"},preferences:{id:"settings.preferences",defaultMessage:"Preferences"},editProfile:{id:"settings.edit_profile",defaultMessage:"Edit Profile"},changeEmail:{id:"settings.change_email",defaultMessage:"Change Email"},changePassword:{id:"settings.change_password",defaultMessage:"Change Password"},configureMfa:{id:"settings.configure_mfa",defaultMessage:"Configure MFA"},sessions:{id:"settings.sessions",defaultMessage:"Active sessions"},deleteAccount:{id:"settings.delete_account",defaultMessage:"Delete Account"},accountMigration:{id:"settings.account_migration",defaultMessage:"Move Account"},accountAliases:{id:"navigation_bar.account_aliases",defaultMessage:"Account aliases"},other:{id:"settings.other",defaultMessage:"Other options"},mfaEnabled:{id:"mfa.enabled",defaultMessage:"Enabled"},mfaDisabled:{id:"mfa.disabled",defaultMessage:"Disabled"},content:{id:"settings.content",defaultMessage:"Content"},blocks:{id:"navigation_bar.blocks",defaultMessage:"Blocked users"},domainBlocks:{id:"navigation_bar.domain_blocks",defaultMessage:"Hidden domains"},mutes:{id:"navigation_bar.mutes",defaultMessage:"Muted users"},filters:{id:"navigation_bar.filters",defaultMessage:"Muted words"},backups:{id:"column.backups",defaultMessage:"Backups"},importData:{id:"navigation_bar.import_data",defaultMessage:"Import data"},exportData:{id:"column.export_data",defaultMessage:"Export data"}});a.default=function(){var e=(0,o.I0)(),a=(0,r.k6)(),s=(0,l.Z)(),n=(0,c.CG)((function(e){return e.security.get("mfa")})),Z=(0,c.CG)((function(e){return e.admin.get("configs")})),v=(0,c.CG)((function(e){return(0,m.N$)(e.instance)})),b=(0,c.Tr)(),_=n.getIn(["settings","totp"]),h=i.useMemo((function(){var e,a;return null===(e=g.Q.find(Z,":pleroma",":ldap"))||void 0===e||null===(a=e.get("value").find((function(e){return":enabled"===e.get("tuple").get(0)})))||void 0===a?void 0:a.getIn(["tuple",1])}),[Z]);if((0,i.useEffect)((function(){e((0,d.PD)())}),[e]),!b)return null;var k=b.display_name||b.username;return(0,t.Z)(f.sg,{label:s.formatMessage(M.settings),transparent:!0,withHeader:!1},void 0,(0,t.Z)(f.Zb,{variant:"rounded"},void 0,(0,t.Z)(f.Ol,{},void 0,(0,t.Z)(f.ll,{title:s.formatMessage(M.profile)})),(0,t.Z)(f.eW,{},void 0,(0,t.Z)(u.Z,{},void 0,(0,t.Z)(u.H,{label:s.formatMessage(M.editProfile),onClick:function(){return a.push("/settings/profile")}},void 0,(0,t.Z)("span",{},void 0,k)))),(0,t.Z)(f.Ol,{},void 0,(0,t.Z)(f.ll,{title:s.formatMessage(M.content)})),(0,t.Z)(f.eW,{},void 0,(0,t.Z)(u.Z,{},void 0,(0,t.Z)(u.H,{label:s.formatMessage(M.blocks),onClick:function(){return a.push("/blocks")}}),(0,t.Z)(u.H,{label:s.formatMessage(M.mutes),onClick:function(){return a.push("/mutes")}}),v.federating&&(0,t.Z)(u.H,{label:s.formatMessage(M.domainBlocks),onClick:function(){return a.push("/domain_blocks")}}),v.filters&&(0,t.Z)(u.H,{label:s.formatMessage(M.filters),onClick:function(){return a.push("/filters")}}))),(v.security||v.sessions)&&i.createElement(i.Fragment,null,(0,t.Z)(f.Ol,{},void 0,(0,t.Z)(f.ll,{title:s.formatMessage(M.security)})),(0,t.Z)(f.eW,{},void 0,(0,t.Z)(u.Z,{},void 0,v.security&&i.createElement(i.Fragment,null,(0,t.Z)(u.H,{label:s.formatMessage(M.changeEmail),onClick:function(){return a.push("/settings/email")}}),!h&&(0,t.Z)(u.H,{label:s.formatMessage(M.changePassword),onClick:function(){return a.push("/settings/password")}}),(0,t.Z)(u.H,{label:s.formatMessage(M.configureMfa),onClick:function(){return a.push("/settings/mfa")}},void 0,_?s.formatMessage(M.mfaEnabled):s.formatMessage(M.mfaDisabled))),v.sessions&&(0,t.Z)(u.H,{label:s.formatMessage(M.sessions),onClick:function(){return a.push("/settings/tokens")}})))),(0,t.Z)(f.Ol,{},void 0,(0,t.Z)(f.ll,{title:s.formatMessage(M.preferences)})),(0,t.Z)(f.eW,{},void 0,(0,t.Z)(p.ZP,{})),(v.security||v.accountAliases)&&i.createElement(i.Fragment,null,(0,t.Z)(f.Ol,{},void 0,(0,t.Z)(f.ll,{title:s.formatMessage(M.other)})),(0,t.Z)(f.eW,{},void 0,(0,t.Z)(u.Z,{},void 0,v.importData&&(0,t.Z)(u.H,{label:s.formatMessage(M.importData),onClick:function(){return a.push("/settings/import")}}),v.exportData&&(0,t.Z)(u.H,{label:s.formatMessage(M.exportData),onClick:function(){return a.push("/settings/export")}}),v.backups&&(0,t.Z)(u.H,{label:s.formatMessage(M.backups),onClick:function(){return a.push("/settings/backups")}}),v.federating&&(v.accountMoving?(0,t.Z)(u.H,{label:s.formatMessage(M.accountMigration),onClick:function(){return a.push("/settings/migration")}}):v.accountAliases&&(0,t.Z)(u.H,{label:s.formatMessage(M.accountAliases),onClick:function(){return a.push("/settings/aliases")}})),v.security&&(0,t.Z)(u.H,{label:s.formatMessage(M.deleteAccount),onClick:function(){return a.push("/settings/account")}}))))))}},1028:function(e,a,s){s.r(a);var t=s(1840),i=s(1826),n=s(1827),l=s(16),o=s(273),r=s(1),d=s(100),u=s(3),f=(0,i.vU)({mediaDisplay:{id:"preferences.fields.media_display_label",defaultMessage:"Media display"},display_media_default:{id:"preferences.fields.display_media.default",defaultMessage:"Hide media marked as sensitive"},display_media_hide_all:{id:"preferences.fields.display_media.hide_all",defaultMessage:"Always hide media"},display_media_show_all:{id:"preferences.fields.display_media.show_all",defaultMessage:"Always show media"}});a.default=function(){var e,a=(0,u.TL)(),s=(0,n.Z)(),i=(0,u.CG)((function(e){return(0,l.Gw)(e)})),c={default:s.formatMessage(f.display_media_default),hide_all:s.formatMessage(f.display_media_hide_all),show_all:s.formatMessage(f.display_media_show_all)};return(0,t.Z)(r.Zb,{variant:"rounded"},void 0,(0,t.Z)(r.Ol,{},void 0,(0,t.Z)(r.ll,{title:s.formatMessage(f.mediaDisplay)})),(0,t.Z)(r.eW,{},void 0,(0,t.Z)(d.NA,{className:"p-0 space-y-3"},void 0,(0,t.Z)(o.Z,{},void 0,(0,t.Z)(o.H,{label:s.formatMessage(f.mediaDisplay)},void 0,(0,t.Z)(d.Fj,{items:c,defaultValue:i.get("displayMedia"),onChange:(e=["displayMedia"],function(s){a((0,l.yD)(e,s.target.value))})}))))))}}}]);
//# sourceMappingURL=settings-602dabe6ba476cabbace.chunk.js.map