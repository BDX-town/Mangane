"use strict";(self.webpackChunkmangane_fe=self.webpackChunkmangane_fe||[]).push([[32],{1236:function(e,a,t){t.r(a);var s=t(1852),r=t(1843),i=(t(1),t(108),t(0)),l=t(1844),o=t(1845),n=t(94),d=t(12),c=t(2),u=t(3);function f(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,s)}return t}function m(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?f(Object(t),!0).forEach((function(a){(0,r.Z)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var p=(0,l.vU)({header:{id:"edit_email.header",defaultMessage:"Change Email"},updateEmailSuccess:{id:"security.update_email.success",defaultMessage:"Email successfully updated."},updateEmailFail:{id:"security.update_email.fail",defaultMessage:"Update email failed."},emailFieldLabel:{id:"security.fields.email.label",defaultMessage:"Email address"},emailFieldPlaceholder:{id:"edit_email.placeholder",defaultMessage:"me@example.com"},passwordFieldLabel:{id:"security.fields.password.label",defaultMessage:"Password"},submit:{id:"security.submit",defaultMessage:"Save changes"},cancel:{id:"common.cancel",defaultMessage:"Cancel"}}),g={email:"",password:""};a.default=function(){var e=(0,o.Z)(),a=(0,u.TL)(),t=i.useState(g),r=t[0],l=t[1],f=i.useState(!1),b=f[0],h=f[1],v=r.email,y=r.password,w=i.useCallback((function(e){e.persist(),l((function(a){var t;return m(m({},a),{},((t={})[e.target.name]=e.target.value,t))}))}),[]),O=i.useCallback((function(){h(!0),a((0,n.Uk)(v,y)).then((function(){l(g),a(d.ZP.success(e.formatMessage(p.updateEmailSuccess)))})).finally((function(){h(!1)})).catch((function(){l((function(e){return m(m({},e),{},{password:""})})),a(d.ZP.error(e.formatMessage(p.updateEmailFail)))}))}),[v,y,a,e]);return(0,s.Z)(c.sg,{label:e.formatMessage(p.header),transparent:!0,withHeader:!1},void 0,(0,s.Z)(c.Zb,{variant:"rounded"},void 0,(0,s.Z)(c.Ol,{backHref:"/settings"},void 0,(0,s.Z)(c.ll,{title:e.formatMessage(p.header)})),(0,s.Z)(c.eW,{},void 0,(0,s.Z)(c.l0,{onSubmit:O},void 0,(0,s.Z)(c.cw,{labelText:e.formatMessage(p.emailFieldLabel)},void 0,(0,s.Z)(c.II,{type:"text",placeholder:e.formatMessage(p.emailFieldPlaceholder),name:"email",autoComplete:"off",onChange:w,value:v})),(0,s.Z)(c.cw,{labelText:e.formatMessage(p.passwordFieldLabel)},void 0,(0,s.Z)(c.II,{type:"password",name:"password",onChange:w,value:y})),(0,s.Z)(c.iN,{},void 0,(0,s.Z)(c.zx,{to:"/settings",theme:"ghost"},void 0,e.formatMessage(p.cancel)),(0,s.Z)(c.zx,{type:"submit",theme:"primary",disabled:b},void 0,e.formatMessage(p.submit)))))))}}}]);
//# sourceMappingURL=edit_email-bab885213b396ccacac3.chunk.js.map