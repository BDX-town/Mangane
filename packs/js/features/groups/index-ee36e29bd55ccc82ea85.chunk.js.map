{"version":3,"file":"packs/js/features/groups/index-ee36e29bd55ccc82ea85.chunk.js","mappings":"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","sources":["webpack://mangane-fe/./app/soapbox/features/groups/index/card.js","webpack://mangane-fe/./app/soapbox/features/groups/index/index.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2;import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{defineMessages,injectIntl}from'react-intl';import{connect}from'react-redux';import{Link}from'react-router-dom';import{shortNumberFormat}from'../../../utils/numbers';const messages=defineMessages({members:{\"id\":\"groups.card.members\",\"defaultMessage\":\"Members\"},view:{\"id\":\"groups.card.view\",\"defaultMessage\":\"View\"},join:{\"id\":\"groups.card.join\",\"defaultMessage\":\"Join\"},role_member:{\"id\":\"groups.card.roles.member\",\"defaultMessage\":\"You're a member\"},role_admin:{\"id\":\"groups.card.roles.admin\",\"defaultMessage\":\"You're an admin\"}});const mapStateToProps=(state,_ref)=>{let{id}=_ref;return{group:state.getIn(['groups',id]),relationships:state.getIn(['group_relationships',id])};};let GroupCard=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=(_class2=class GroupCard extends ImmutablePureComponent{getRole(){const{intl,relationships}=this.props;if(relationships.get('admin'))return intl.formatMessage(messages.role_admin);if(relationships.get('member'))return intl.formatMessage(messages.role_member);return null;}render(){const{intl,group}=this.props;const coverImageUrl=group.get('cover_image_url');const role=this.getRole();return/*#__PURE__*/_jsx(Link,{to:\"/groups/\".concat(group.get('id')),className:\"group-card\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"group-card__header\"},void 0,coverImageUrl&&/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:coverImageUrl})),/*#__PURE__*/_jsx(\"div\",{className:\"group-card__content\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"group-card__title\"},void 0,group.get('title')),/*#__PURE__*/_jsx(\"div\",{className:\"group-card__meta\"},void 0,/*#__PURE__*/_jsx(\"strong\",{},void 0,shortNumberFormat(group.get('member_count'))),\" \",intl.formatMessage(messages.members),role&&/*#__PURE__*/_jsx(\"span\",{},void 0,\" \\xB7 \",role)),/*#__PURE__*/_jsx(\"div\",{className:\"group-card__description\"},void 0,group.get('description'))));}},_defineProperty(_class2,\"propTypes\",{group:ImmutablePropTypes.map,relationships:ImmutablePropTypes.map}),_class2))||_class)||_class);export{GroupCard as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2;import classNames from'classnames';import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{defineMessages,injectIntl}from'react-intl';import{connect}from'react-redux';import{Link}from'react-router-dom';import{fetchGroups}from'../../../actions/groups';import GroupCreate from'../create';import GroupCard from'./card';const messages=defineMessages({heading:{\"id\":\"column.groups\",\"defaultMessage\":\"Groups\"},create:{\"id\":\"groups.create\",\"defaultMessage\":\"Create group\"},tab_featured:{\"id\":\"groups.tab_featured\",\"defaultMessage\":\"Featured\"},tab_member:{\"id\":\"groups.tab_member\",\"defaultMessage\":\"Member\"},tab_admin:{\"id\":\"groups.tab_admin\",\"defaultMessage\":\"Manage\"}});const mapStateToProps=(state,_ref)=>{let{activeTab}=_ref;return{groupIds:state.getIn(['group_lists',activeTab])};};let Groups=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=(_class2=class Groups extends ImmutablePureComponent{componentDidMount(){this.props.dispatch(fetchGroups(this.props.activeTab));}componentDidUpdate(oldProps){if(this.props.activeTab&&this.props.activeTab!==oldProps.activeTab){this.props.dispatch(fetchGroups(this.props.activeTab));}}renderHeader(){const{intl,activeTab}=this.props;return/*#__PURE__*/_jsx(\"div\",{className:\"group-column-header\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"group-column-header__cta\"},void 0,/*#__PURE__*/_jsx(Link,{to:\"/groups/create\",className:\"button standard-small\"},void 0,intl.formatMessage(messages.create))),/*#__PURE__*/_jsx(\"div\",{className:\"group-column-header__title\"},void 0,intl.formatMessage(messages.heading)),/*#__PURE__*/_jsx(\"div\",{className:\"column-header__wrapper\"},void 0,/*#__PURE__*/_jsx(\"h1\",{className:\"column-header\"},void 0,/*#__PURE__*/_jsx(Link,{to:\"/groups\",className:classNames('btn grouped',{'active':'featured'===activeTab})},void 0,intl.formatMessage(messages.tab_featured)),/*#__PURE__*/_jsx(Link,{to:\"/groups/browse/member\",className:classNames('btn grouped',{'active':'member'===activeTab})},void 0,intl.formatMessage(messages.tab_member)),/*#__PURE__*/_jsx(Link,{to:\"/groups/browse/admin\",className:classNames('btn grouped',{'active':'admin'===activeTab})},void 0,intl.formatMessage(messages.tab_admin)))));}render(){const{groupIds,showCreateForm}=this.props;return/*#__PURE__*/_jsx(\"div\",{},void 0,!showCreateForm&&this.renderHeader(),showCreateForm&&/*#__PURE__*/_jsx(GroupCreate,{}),/*#__PURE__*/_jsx(\"div\",{className:\"group-card-list\"},void 0,groupIds.map(id=>/*#__PURE__*/_jsx(GroupCard,{id:id},id))));}},_defineProperty(_class2,\"propTypes\",{params:PropTypes.object.isRequired,activeTab:PropTypes.string.isRequired,showCreateForm:PropTypes.bool,dispatch:PropTypes.func.isRequired,groups:ImmutablePropTypes.map,groupIds:ImmutablePropTypes.list,intl:PropTypes.object.isRequired}),_class2))||_class)||_class);export{Groups as default};"],"names":["_class","_class2","messages","members","view","join","role_member","role_admin","GroupCard","state","_ref","id","group","getIn","relationships","_dec","injectIntl","getRole","this","props","intl","get","formatMessage","render","coverImageUrl","role","to","concat","className","alt","src","heading","create","tab_featured","tab_member","tab_admin","Groups","activeTab","groupIds","componentDidMount","dispatch","componentDidUpdate","oldProps","renderHeader","showCreateForm","map","params","groups"],"sourceRoot":""}