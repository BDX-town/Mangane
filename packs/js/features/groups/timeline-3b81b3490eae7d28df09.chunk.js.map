{"version":3,"file":"packs/js/features/groups/timeline-3b81b3490eae7d28df09.chunk.js","mappings":"8JAAiIA,E,2iBAA8XC,GAAS,QAAe,CAACC,MAAM,CAAC,GAAK,oBAAoB,eAAiB,SAASC,YAAY,CAAC,GAAK,0BAA0B,eAAiB,eAAeC,WAAW,CAAC,GAAK,yBAAyB,eAAiB,sCAAsCC,iBAAiB,CAAC,GAAK,+BAA+B,eAAiB,yBAAyBC,OAAO,CAAC,GAAK,qBAAqB,eAAiB,kBAAooBC,GAAW,SAAvmB,SAACC,EAAMC,GAAQ,OAAEC,MAAMF,EAAMG,MAAM,CAAC,SAASF,EAAMG,OAAOC,KAAKX,MAAMM,EAAMG,MAAM,CAAC,eAAe,UAAUR,YAAYK,EAAMG,MAAM,CAAC,eAAe,gBAAgBP,WAAWI,EAAMG,MAAM,CAAC,eAAe,eAAeG,SAASN,EAAMG,MAAM,CAAC,eAAe,qBAA4C,SAAAI,GAAU,OAAEC,cAAc,SAAAC,GAAO,OAAAF,GAAS,QAAY,QAAQE,KAAQC,oBAAoB,SAAAD,GAAO,OAAAF,GAAS,QAAY,cAAcE,KAAQE,mBAAmB,SAAAF,GAAO,OAAAF,GAAS,QAAY,aAAaE,KAAQG,SAAS,SAAAC,GAAe,OAAAN,GAAS,QAAOM,KAAgBC,MAAM,SAAAZ,GAAO,OAAAK,GAAS,QAAML,QAAqEa,CAAKvB,GAAO,QAAWA,GAAO,QAAWA,EAAM,YAAwC,WAAYS,GAAZ,MAAmB,YAAMA,IAAM,K,OAAC,OAAgB,EAAK,qBAAoB,SAAAe,GAAI,EAAKf,MAAMO,cAAcQ,EAAEC,OAAOR,WAAU,OAAgB,EAAK,2BAA0B,SAAAO,GAAI,EAAKf,MAAMS,oBAAoBM,EAAEC,OAAOR,WAAU,OAAgB,EAAK,0BAAyB,SAAAO,GAAI,EAAKf,MAAMU,mBAAmBK,EAAEC,OAAOC,MAAM,QAAO,OAAgB,EAAK,gBAAe,SAAAF,GAAIA,EAAEG,iBAAiB,EAAKlB,MAAMW,SAAS,EAAKX,MAAMmB,aAAY,OAAgB,EAAK,eAAc,WAAK,EAAKnB,MAAMW,SAAS,EAAKX,MAAMmB,YAAenB,EAAMC,OAAMD,EAAMa,MAAMb,EAAMC,O,EAAi4C,OAAn7D,OAA0jB,YAAAmB,mBAAA,SAAmBC,IAAeA,EAAUpB,OAAOqB,KAAKtB,MAAMC,OAAOqB,KAAKtB,MAAMa,MAAMS,KAAKtB,MAAMC,QAAS,YAAAsB,OAAA,WAAc,MAAmDD,KAAKtB,MAAvDC,EAAK,QAACR,EAAK,QAACC,EAAW,cAACC,EAAU,aAACU,EAAQ,WAACmB,EAAI,OAAa,YAAkB,IAARvB,GAAwC,OAAK,KAAO,QAAG,GAAoB,OAAK,KAAQ,MAAsB,IAARA,GAAkC,OAAK,IAAiB,KAAwB,OAAK,OAAO,CAACwB,UAAU,aAAaC,OAAO,OAAOf,SAASW,KAAKK,mBAAc,GAAoB,OAAK,MAAM,QAAG,GAAoB,OAAK,QAAQ,CAACF,UAAU,WAAWG,KAAK,OAAOpB,MAAMf,EAAMY,SAASA,EAASwB,SAASP,KAAKQ,kBAAkBC,YAAYP,EAAKQ,cAAcxC,EAASC,WAAuB,OAAK,MAAM,QAAG,GAAoB,OAAK,WAAW,CAACgC,UAAU,WAAWG,KAAK,OAAOpB,MAAMd,EAAYW,SAASA,EAASwB,SAASP,KAAKW,wBAAwBF,YAAYP,EAAKQ,cAAcxC,EAASE,iBAA6B,OAAK,MAAM,QAAG,GAAoB,OAAK,QAAQ,CAACwC,QAAQ,oBAAoBT,UAAU,IAAW,yBAAyB,CAAC,mCAAgD,OAAb9B,UAAqB,EAAO6B,EAAKQ,cAA2B,OAAbrC,EAAkBH,EAASG,WAAWH,EAASI,oBAAgC,OAAK,QAAQ,CAACgC,KAAK,OAAOH,UAAU,mBAAmBrB,GAAG,oBAAoBC,SAASA,EAASwB,SAASP,KAAKa,0BAAsC,OAAK,SAAS,QAAG,EAAOX,EAAKQ,cAAcxC,EAASK,YAAY,EAAv8D,CAAoB,mBAAu7DN,IAASA,IAASA,G,uECAx9GA,EAAO6C,E,klBAAwjCC,GAAmB,SAA/a,SAACtC,EAAMuC,GAAQ,IAAIC,EAAsBC,EAAmCpC,EAAKkC,EAAI,UAAC,MAAM,CAACrC,MAAMF,EAAMG,MAAM,CAAC,SAASE,IAAKqC,WAAqE,QAAzDF,EAAsBxC,EAAM2C,WAAWC,OAAOC,IAAIxC,UAAqC,IAAxBmC,OAA+B,EAAOA,EAAsBM,MAAMC,UAAsE,QAA1DN,EAAuBzC,EAAM2C,WAAWC,OAAOC,IAAIxC,UAAsC,IAAzBoC,IAAiCA,EAAuBO,SAAyDjC,EAAasB,EAAO,YAAmD,gCAAuBY,YAAS,K,OAAE,OAAgB,EAAK,iBAAiB,KAAS,WAAK,EAAKhD,MAAMM,UAAS,QAAc,EAAKN,MAAMG,OAAOC,OAAO,IAAI,CAAC6C,SAAQ,K,EAA2uB,OAAh6B,OAA8L,YAAAC,kBAAA,WAAkC,IAAA9C,EAAKkB,KAAKtB,MAAK,UAACsB,KAAKtB,MAAMM,UAAS,QAAaF,KAAM,YAAAgB,mBAAA,SAAmBC,GAAcC,KAAKtB,MAAMG,OAAOC,KAAKiB,EAAUlB,OAAOC,IAAIkB,KAAKtB,MAAMM,UAAS,QAAagB,KAAKtB,MAAMG,OAAOC,MAAO,YAAAmB,OAAA,WAAc,MAA2BD,KAAKtB,MAA/ByC,EAAU,aAACK,EAAO,UAAmB,OAAb,SAAyBL,GAAwG,OAAK,IAAO,QAAG,GAAoB,OAAK,IAAe,CAACU,UAAU,UAAUL,QAAQA,EAAQM,WAAW9B,KAAK+B,eAAeC,cAA0B,OAAK,IAAiB,CAAClD,GAAG,sBAAsBmD,eAAe,+CAA0C,EAAOd,EAAWe,KAAI,SAAApD,GAAiB,cAAK,IAAiB,CAACA,GAAGA,EAAGqD,UAAS,GAAOrD,SAA3Z,OAAK,IAAO,QAAG,GAAoB,OAAK,KAAQ,MAAmX,EAA57B,CAA4B,OAAk6B,OAAgBgC,EAAQ,YAAY,CAACjC,OAAO,sBAA4BG,SAAS,oBAA0BmC,WAAW,eAA8BK,QAAQ,WAAzmCvD,EAA0nC6C,KAAW7C,G,uECArvEA,EAAO6C,E,smBAA2sB5C,GAAS,QAAe,CAACkE,OAAO,CAAC,GAAK,0BAA0B,eAAiB,mBAAueC,GAA2B,SAAzd,SAAC5D,EAAMuC,GAAQ,IAAIC,EAAsBC,EAAmCpC,EAAKkC,EAAI,UAAC,MAAM,CAACrC,MAAMF,EAAMG,MAAM,CAAC,SAASE,IAAKqC,WAAsF,QAA1EF,EAAsBxC,EAAM2C,WAAWkB,wBAAwBhB,IAAIxC,UAAqC,IAAxBmC,OAA+B,EAAOA,EAAsBM,MAAMC,UAAuF,QAA3EN,EAAuBzC,EAAM2C,WAAWkB,wBAAwBhB,IAAIxC,UAAsC,IAAzBoC,IAAiCA,EAAuBO,SAAiEjC,CAAKvB,GAAO,SAAmB6C,EAAO,YAA2D,gCAAuBY,YAAS,K,OAAE,OAAgB,EAAK,iBAAiB,KAAS,WAAK,EAAKhD,MAAMM,UAAS,QAAsB,EAAKN,MAAMG,OAAOC,OAAO,IAAI,CAAC6C,SAAQ,MAAQ,OAAgB,EAAK,uBAAsB,SAAChD,EAAMG,GAAM,OAAM,WAAK,EAAKJ,MAAMM,UAAS,QAAqBL,EAAM2C,IAAI,MAAMxC,Q,EAAy5B,OAA1tC,OAA4U,YAAA8C,kBAAA,WAAkC,IAAA9C,EAAKkB,KAAKtB,MAAK,UAACsB,KAAKtB,MAAMM,UAAS,QAAqBF,KAAM,YAAAgB,mBAAA,SAAmBC,GAAcC,KAAKtB,MAAMG,OAAOC,KAAKiB,EAAUlB,OAAOC,IAAIkB,KAAKtB,MAAMM,UAAS,QAAqBgB,KAAKtB,MAAMG,OAAOC,MAAO,YAAAmB,OAAA,sBAAc,EAAgCD,KAAKtB,MAApCyC,EAAU,aAACK,EAAO,UAAC7C,EAAK,QAACuB,EAAI,OAAa,OAAIvB,GAAQwC,GAAwG,OAAK,IAAO,QAAG,GAAoB,OAAK,IAAe,CAACU,UAAU,mBAAmBL,QAAQA,EAAQM,WAAW9B,KAAK+B,eAAeC,cAA0B,OAAK,IAAiB,CAAClD,GAAG,+BAA+BmD,eAAe,wDAAmD,EAAOd,EAAWe,KAAI,SAAApD,GAAiB,cAAK,IAAiB,CAACA,GAAGA,EAAGyD,WAAW,EAAQ,IAAuBC,cAAc,EAAKC,oBAAoB9D,EAAMG,GAAI4D,YAAYxC,EAAKQ,cAAcxC,EAASkE,SAAStD,SAAljB,OAAK,IAAO,QAAG,GAAoB,OAAK,KAAQ,MAA0gB,EAA9vC,CAAoC,OAA4tC,OAAgBgC,EAAQ,YAAY,CAACjC,OAAO,sBAA4BG,SAAS,oBAA0BmC,WAAW,eAA8BK,QAAQ,WAA36CvD,EAA47C6C,KAAW7C,IAASA,G,uECAryFA,E,kkBAA47B0E,GAAoB,SAAlT,SAAClE,EAAMC,GAAS,IAAMkE,EAAGnE,EAAM6C,IAAI,MAAM,MAAM,CAACuB,QAAQpE,EAAMG,MAAM,CAAC,WAAWgE,IAAKjE,MAAMF,EAAMG,MAAM,CAAC,SAASF,EAAMG,OAAOC,KAAKgE,cAAcrE,EAAMG,MAAM,CAAC,sBAAsBF,EAAMG,OAAOC,KAAKiE,UAAUtE,EAAMG,MAAM,CAAC,YAAY,SAASoE,OAAOtE,EAAMG,OAAOC,IAAI,WAAW,KAAsDU,CAAKvB,GAAO,QAAWA,EAAM,YAAiD,gCAAuByD,YAAS,K,OAAE,OAAgB,EAAK,kBAAiB,SAAAuB,GAAc,IAAAnE,EAAI,EAAKJ,MAAMG,OAAM,GAAC,EAAKH,MAAMM,UAAS,QAAoBF,EAAG,CAACmE,MAAK,Q,EAAs5C,OAAvkD,OAAyL,YAAArB,kBAAA,WAA0B,IAAA5C,EAAUgB,KAAKtB,MAAK,SAAOI,EAAIkB,KAAKtB,MAAMG,OAAM,GAACG,GAAS,QAAoBF,IAAKkB,KAAKkD,WAAWlE,GAAS,QAAmBF,KAAM,YAAAqE,qBAAA,WAA0BnD,KAAKkD,aAAYlD,KAAKkD,aAAalD,KAAKkD,WAAW,OAAO,YAAAjD,OAAA,WAAc,MAAuCD,KAAKtB,MAA3C0E,EAAQ,WAACzE,EAAK,QAACmE,EAAa,gBAACD,EAAO,UAAmB/D,EAAIkB,KAAKtB,MAAMG,OAAM,GAAC,QAAkB,IAARF,IAAsBmE,EAAe,OAAmB,OAAK,KAAO,QAAG,GAAoB,OAAK,KAAQ,KAAW,IAAW,IAARnE,EAAe,OAAmB,OAAK,IAAiB,IAAK,IAAM0E,EAAKR,EAAQA,EAAQvB,IAAI,QAAQ,GAAG,OAAmB,OAAK,MAAM,QAAG,EAAOwB,EAAcxB,IAAI,YAAwB,OAAK,MAAM,CAACnB,UAAU,+BAA0B,GAAoB,OAAK,KAAK,CAACA,UAAU,iCAAiCmD,GAAG,KAAKN,OAAOK,SAAO,GAAoB,OAAK,IAAO,CAACR,QAAQA,EAAQU,KAAK,OAAmB,OAAK,IAAqB,CAAC5E,MAAMA,EAAM6E,gBAAe,EAAKC,WAAU,MAAsB,OAAK,MAAM,CAACtD,UAAU,oBAAe,GAAoB,OAAK,IAAS,CAACuD,eAAc,EAAK7B,UAAU,kBAAkBmB,OAAOI,GAAUO,WAAW,SAASX,OAAOlE,GAAIgD,WAAW9B,KAAK+B,eAAepD,MAAMA,EAAMiF,eAAed,GAAeA,EAAcxB,IAAI,SAASU,cAA0B,OAAK,IAAiB,CAAClD,GAAG,qBAAqBmD,eAAe,+GAA+G,EAApmD,CAA6B,mBAA2kDhE,IAASA","sources":["webpack://mangane-fe/./app/soapbox/features/groups/edit/index.js","webpack://mangane-fe/./app/soapbox/features/groups/members/index.js","webpack://mangane-fe/./app/soapbox/features/groups/removed_accounts/index.js","webpack://mangane-fe/./app/soapbox/features/groups/timeline/index.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class;import classNames from'classnames';import React from'react';import{defineMessages,injectIntl}from'react-intl';import{connect}from'react-redux';import{withRouter}from'react-router-dom';import MissingIndicator from'soapbox/components/missing_indicator';import{Column,Spinner}from'soapbox/components/ui';import{changeValue,submit,setUp}from'../../../actions/group_editor';const messages=defineMessages({title:{\"id\":\"groups.form.title\",\"defaultMessage\":\"Title\"},description:{\"id\":\"groups.form.description\",\"defaultMessage\":\"Description\"},coverImage:{\"id\":\"groups.form.coverImage\",\"defaultMessage\":\"Upload new banner image (optional)\"},coverImageChange:{\"id\":\"groups.form.coverImageChange\",\"defaultMessage\":\"Banner image selected\"},update:{\"id\":\"groups.form.update\",\"defaultMessage\":\"Update group\"}});const mapStateToProps=(state,props)=>({group:state.getIn(['groups',props.params.id]),title:state.getIn(['group_editor','title']),description:state.getIn(['group_editor','description']),coverImage:state.getIn(['group_editor','coverImage']),disabled:state.getIn(['group_editor','isSubmitting'])});const mapDispatchToProps=dispatch=>({onTitleChange:value=>dispatch(changeValue('title',value)),onDescriptionChange:value=>dispatch(changeValue('description',value)),onCoverImageChange:value=>dispatch(changeValue('coverImage',value)),onSubmit:routerHistory=>dispatch(submit(routerHistory)),setUp:group=>dispatch(setUp(group))});let Edit=(_dec=connect(mapStateToProps,mapDispatchToProps),_dec(_class=injectIntl(_class=withRouter(_class=class Edit extends React.PureComponent{constructor(props){super(props);_defineProperty(this,\"handleTitleChange\",e=>{this.props.onTitleChange(e.target.value);});_defineProperty(this,\"handleDescriptionChange\",e=>{this.props.onDescriptionChange(e.target.value);});_defineProperty(this,\"handleCoverImageChange\",e=>{this.props.onCoverImageChange(e.target.files[0]);});_defineProperty(this,\"handleSubmit\",e=>{e.preventDefault();this.props.onSubmit(this.props.history);});_defineProperty(this,\"handleClick\",()=>{this.props.onSubmit(this.props.history);});if(props.group)props.setUp(props.group);}componentDidUpdate(prevProps){if(!prevProps.group&&this.props.group){this.props.setUp(this.props.group);}}render(){const{group,title,description,coverImage,disabled,intl}=this.props;if(typeof group==='undefined'){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(Spinner,{}));}else if(group===false){return/*#__PURE__*/_jsx(MissingIndicator,{});}return/*#__PURE__*/_jsx(\"form\",{className:\"group-form\",method:\"post\",onSubmit:this.handleSubmit},void 0,/*#__PURE__*/_jsx(\"div\",{},void 0,/*#__PURE__*/_jsx(\"input\",{className:\"standard\",type:\"text\",value:title,disabled:disabled,onChange:this.handleTitleChange,placeholder:intl.formatMessage(messages.title)})),/*#__PURE__*/_jsx(\"div\",{},void 0,/*#__PURE__*/_jsx(\"textarea\",{className:\"standard\",type:\"text\",value:description,disabled:disabled,onChange:this.handleDescriptionChange,placeholder:intl.formatMessage(messages.description)})),/*#__PURE__*/_jsx(\"div\",{},void 0,/*#__PURE__*/_jsx(\"label\",{htmlFor:\"group_cover_image\",className:classNames('group-form__file-label',{'group-form__file-label--selected':coverImage!==null})},void 0,intl.formatMessage(coverImage===null?messages.coverImage:messages.coverImageChange)),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"group-form__file\",id:\"group_cover_image\",disabled:disabled,onChange:this.handleCoverImageChange}),/*#__PURE__*/_jsx(\"button\",{},void 0,intl.formatMessage(messages.update))));}})||_class)||_class)||_class);export{Edit as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2;import\"core-js/modules/web.dom-collections.iterator.js\";import debounce from'lodash/debounce';import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{FormattedMessage}from'react-intl';import{connect}from'react-redux';import{Spinner}from'soapbox/components/ui';import{fetchMembers,expandMembers}from'../../../actions/groups';import ScrollableList from'../../../components/scrollable_list';import AccountContainer from'../../../containers/account_container';import Column from'../../ui/components/column';const mapStateToProps=(state,_ref)=>{var _state$user_lists$gro,_state$user_lists$gro2;let{params:{id}}=_ref;return{group:state.getIn(['groups',id]),accountIds:(_state$user_lists$gro=state.user_lists.groups.get(id))===null||_state$user_lists$gro===void 0?void 0:_state$user_lists$gro.items,hasMore:!!((_state$user_lists$gro2=state.user_lists.groups.get(id))!==null&&_state$user_lists$gro2!==void 0&&_state$user_lists$gro2.next)};};let GroupMembers=(_dec=connect(mapStateToProps),_dec(_class=(_class2=class GroupMembers extends ImmutablePureComponent{constructor(){super(...arguments);_defineProperty(this,\"handleLoadMore\",debounce(()=>{this.props.dispatch(expandMembers(this.props.params.id));},300,{leading:true}));}componentDidMount(){const{params:{id}}=this.props;this.props.dispatch(fetchMembers(id));}componentDidUpdate(prevProps){if(this.props.params.id!==prevProps.params.id){this.props.dispatch(fetchMembers(this.props.params.id));}}render(){const{accountIds,hasMore,group}=this.props;if(!group||!accountIds){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(Spinner,{}));}return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(ScrollableList,{scrollKey:\"members\",hasMore:hasMore,onLoadMore:this.handleLoadMore,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"group.members.empty\",defaultMessage:\"This group does not has any members.\"})},void 0,accountIds.map(id=>/*#__PURE__*/_jsx(AccountContainer,{id:id,withNote:false},id))));}},_defineProperty(_class2,\"propTypes\",{params:PropTypes.object.isRequired,dispatch:PropTypes.func.isRequired,accountIds:ImmutablePropTypes.orderedSet,hasMore:PropTypes.bool}),_class2))||_class);export{GroupMembers as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2;import\"core-js/modules/web.dom-collections.iterator.js\";import debounce from'lodash/debounce';import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{defineMessages,injectIntl,FormattedMessage}from'react-intl';import{connect}from'react-redux';import{Spinner}from'soapbox/components/ui';import{fetchRemovedAccounts,expandRemovedAccounts,removeRemovedAccount}from'../../../actions/groups';import ScrollableList from'../../../components/scrollable_list';import AccountContainer from'../../../containers/account_container';import Column from'../../ui/components/column';const messages=defineMessages({remove:{\"id\":\"groups.removed_accounts\",\"defaultMessage\":\"Allow joining\"}});const mapStateToProps=(state,_ref)=>{var _state$user_lists$gro,_state$user_lists$gro2;let{params:{id}}=_ref;return{group:state.getIn(['groups',id]),accountIds:(_state$user_lists$gro=state.user_lists.groups_removed_accounts.get(id))===null||_state$user_lists$gro===void 0?void 0:_state$user_lists$gro.items,hasMore:!!((_state$user_lists$gro2=state.user_lists.groups_removed_accounts.get(id))!==null&&_state$user_lists$gro2!==void 0&&_state$user_lists$gro2.next)};};let GroupRemovedAccounts=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=(_class2=class GroupRemovedAccounts extends ImmutablePureComponent{constructor(){super(...arguments);_defineProperty(this,\"handleLoadMore\",debounce(()=>{this.props.dispatch(expandRemovedAccounts(this.props.params.id));},300,{leading:true}));_defineProperty(this,\"handleOnActionClick\",(group,id)=>{return()=>{this.props.dispatch(removeRemovedAccount(group.get('id'),id));};});}componentDidMount(){const{params:{id}}=this.props;this.props.dispatch(fetchRemovedAccounts(id));}componentDidUpdate(prevProps){if(this.props.params.id!==prevProps.params.id){this.props.dispatch(fetchRemovedAccounts(this.props.params.id));}}render(){const{accountIds,hasMore,group,intl}=this.props;if(!group||!accountIds){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(Spinner,{}));}return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(ScrollableList,{scrollKey:\"removed_accounts\",hasMore:hasMore,onLoadMore:this.handleLoadMore,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"group.removed_accounts.empty\",defaultMessage:\"This group does not has any removed accounts.\"})},void 0,accountIds.map(id=>/*#__PURE__*/_jsx(AccountContainer,{id:id,actionIcon:require('@tabler/icons/x.svg'),onActionClick:this.handleOnActionClick(group,id),actionTitle:intl.formatMessage(messages.remove)},id))));}},_defineProperty(_class2,\"propTypes\",{params:PropTypes.object.isRequired,dispatch:PropTypes.func.isRequired,accountIds:ImmutablePropTypes.orderedSet,hasMore:PropTypes.bool}),_class2))||_class)||_class);export{GroupRemovedAccounts as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class;import\"core-js/modules/web.dom-collections.iterator.js\";import React from'react';import{FormattedMessage,injectIntl}from'react-intl';import{connect}from'react-redux';import{Link}from'react-router-dom';import{Column,Spinner}from'soapbox/components/ui';import ComposeFormContainer from'../../../../soapbox/features/compose/containers/compose_form_container';import{connectGroupStream}from'../../../actions/streaming';import{expandGroupTimeline}from'../../../actions/timelines';import Avatar from'../../../components/avatar';import MissingIndicator from'../../../components/missing_indicator';import Timeline from'../../ui/components/timeline';const mapStateToProps=(state,props)=>{const me=state.get('me');return{account:state.getIn(['accounts',me]),group:state.getIn(['groups',props.params.id]),relationships:state.getIn(['group_relationships',props.params.id]),hasUnread:state.getIn(['timelines',\"group:\".concat(props.params.id),'unread'])>0};};let GroupTimeline=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=class GroupTimeline extends React.PureComponent{constructor(){super(...arguments);_defineProperty(this,\"handleLoadMore\",maxId=>{const{id}=this.props.params;this.props.dispatch(expandGroupTimeline(id,{maxId}));});}componentDidMount(){const{dispatch}=this.props;const{id}=this.props.params;dispatch(expandGroupTimeline(id));this.disconnect=dispatch(connectGroupStream(id));}componentWillUnmount(){if(this.disconnect){this.disconnect();this.disconnect=null;}}render(){const{columnId,group,relationships,account}=this.props;const{id}=this.props.params;if(typeof group==='undefined'||!relationships){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(Spinner,{}));}else if(group===false){return/*#__PURE__*/_jsx(MissingIndicator,{});}const acct=account?account.get('acct'):'';return/*#__PURE__*/_jsx(\"div\",{},void 0,relationships.get('member')&&/*#__PURE__*/_jsx(\"div\",{className:\"timeline-compose-block\"},void 0,/*#__PURE__*/_jsx(Link,{className:\"timeline-compose-block__avatar\",to:\"/@\".concat(acct)},void 0,/*#__PURE__*/_jsx(Avatar,{account:account,size:46})),/*#__PURE__*/_jsx(ComposeFormContainer,{group:group,shouldCondense:true,autoFocus:false})),/*#__PURE__*/_jsx(\"div\",{className:\"group__feed\"},void 0,/*#__PURE__*/_jsx(Timeline,{alwaysPrepend:true,scrollKey:\"group_timeline-\".concat(columnId),timelineId:\"group:\".concat(id),onLoadMore:this.handleLoadMore,group:group,withGroupAdmin:relationships&&relationships.get('admin'),emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.group\",defaultMessage:\"There is nothing in this group yet. When members of this group make new posts, they will appear here.\"})})));}})||_class)||_class);export{GroupTimeline as default};"],"names":["_class","messages","title","description","coverImage","coverImageChange","update","Edit","state","props","group","getIn","params","id","disabled","dispatch","onTitleChange","value","onDescriptionChange","onCoverImageChange","onSubmit","routerHistory","setUp","_dec","e","target","files","preventDefault","history","componentDidUpdate","prevProps","this","render","intl","className","method","handleSubmit","type","onChange","handleTitleChange","placeholder","formatMessage","handleDescriptionChange","htmlFor","handleCoverImageChange","_class2","GroupMembers","_ref","_state$user_lists$gro","_state$user_lists$gro2","accountIds","user_lists","groups","get","items","hasMore","next","arguments","leading","componentDidMount","scrollKey","onLoadMore","handleLoadMore","emptyMessage","defaultMessage","map","withNote","remove","GroupRemovedAccounts","groups_removed_accounts","actionIcon","onActionClick","handleOnActionClick","actionTitle","GroupTimeline","me","account","relationships","hasUnread","concat","maxId","disconnect","componentWillUnmount","columnId","acct","to","size","shouldCondense","autoFocus","alwaysPrepend","timelineId","withGroupAdmin"],"sourceRoot":""}