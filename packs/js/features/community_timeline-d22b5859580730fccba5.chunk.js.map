{"version":3,"file":"packs/js/features/community_timeline-d22b5859580730fccba5.chunk.js","mappings":"6NAAkjBA,GAAS,QAAe,CAACC,MAAM,CAAC,GAAK,mBAAmB,eAAiB,oBAAwvC,UAA5sC,WAAK,IAAMC,GAAK,SAAgBC,GAAS,UAAuBC,GAAS,SAAe,SAAAC,GAAO,OAAAA,EAAMD,YAA6CE,GAApB,UAAuCC,MAAM,CAAC,YAAY,QAAQ,cAAoBC,EAAW,YAAuV,OAAtK,IAAAC,YAAU,WAAKN,GAAS,QAAwB,CAACG,UAAS,KAAI,IAAMI,EAAWP,GAAS,QAAuB,CAACG,UAAS,KAAI,OAAM,WAAKI,OAAiB,CAACJ,KAA+B,OAAK,KAAO,CAACK,MAAMT,EAAKU,cAAcZ,EAASC,OAAOY,aAAY,EAAKC,YAAW,QAAO,GAAoB,OAAK,MAAM,CAACC,UAAU,yBAAoB,GAAoB,OAAK,IAAc,CAACC,QAAQZ,EAASH,UAAsB,OAAK,IAAc,CAACgB,UAAhf,WAAK,OAAOd,GAAS,QAAwB,CAACG,UAAS,YAAkd,GAAoB,OAAK,IAAS,CAACY,UAAU,GAAGC,OAAOX,EAAW,aAAaA,WAAW,GAAGW,OAAOX,GAAYW,OAAOb,EAAU,SAAS,IAAIc,WAA1uB,SAAAC,GAAQlB,GAAS,QAAwB,CAACkB,MAAK,EAACf,UAAS,MAA2sBgB,cAA0B,OAAK,IAAiB,CAACC,GAAG,yBAAyBC,eAAe,mFAAmFC,WAAW","sources":["webpack://mangane-fe/./app/soapbox/features/community_timeline/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React,{useEffect}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{connectCommunityStream}from'soapbox/actions/streaming';import{expandCommunityTimeline}from'soapbox/actions/timelines';import PullToRefresh from'soapbox/components/pull-to-refresh';import SubNavigation from'soapbox/components/sub_navigation';import{Column}from'soapbox/components/ui';import{useAppDispatch,useAppSelector,useSettings}from'soapbox/hooks';import Timeline from'../ui/components/timeline';const messages=defineMessages({title:{\"id\":\"column.community\",\"defaultMessage\":\"Local timeline\"}});const CommunityTimeline=()=>{const intl=useIntl();const dispatch=useAppDispatch();const instance=useAppSelector(state=>state.instance);const settings=useSettings();const onlyMedia=settings.getIn(['community','other','onlyMedia']);const timelineId='community';const handleLoadMore=maxId=>{dispatch(expandCommunityTimeline({maxId,onlyMedia}));};const handleRefresh=()=>{return dispatch(expandCommunityTimeline({onlyMedia}));};useEffect(()=>{dispatch(expandCommunityTimeline({onlyMedia}));const disconnect=dispatch(connectCommunityStream({onlyMedia}));return()=>{disconnect();};},[onlyMedia]);return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.title),transparent:true,withHeader:false},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pt-4 sm:p-0\"},void 0,/*#__PURE__*/_jsx(SubNavigation,{message:instance.title})),/*#__PURE__*/_jsx(PullToRefresh,{onRefresh:handleRefresh},void 0,/*#__PURE__*/_jsx(Timeline,{scrollKey:\"\".concat(timelineId,\"_timeline\"),timelineId:\"\".concat(timelineId).concat(onlyMedia?':media':''),onLoadMore:handleLoadMore,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.community\",defaultMessage:\"The local timeline is empty. Write something publicly to get the ball rolling!\"}),divideType:\"space\"})));};export default CommunityTimeline;"],"names":["messages","title","intl","dispatch","instance","state","onlyMedia","getIn","timelineId","useEffect","disconnect","label","formatMessage","transparent","withHeader","className","message","onRefresh","scrollKey","concat","onLoadMore","maxId","emptyMessage","id","defaultMessage","divideType"],"sourceRoot":""}