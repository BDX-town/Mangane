{"version":3,"file":"packs/js/features/list_editor-dfa5754b08a079b0c086.chunk.js","mappings":"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","sources":["webpack://mangane-fe/./app/soapbox/features/list_editor/components/account.tsx","webpack://mangane-fe/./app/soapbox/features/list_editor/components/edit_list_form.tsx","webpack://mangane-fe/./app/soapbox/features/list_editor/components/search.tsx","webpack://mangane-fe/./app/soapbox/features/list_editor/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.includes.js\";import React from'react';import{defineMessages,useIntl}from'react-intl';import{removeFromListEditor,addToListEditor}from'soapbox/actions/lists';import DisplayName from'soapbox/components/display-name';import IconButton from'soapbox/components/icon_button';import{Avatar}from'soapbox/components/ui';import{useAppSelector,useAppDispatch}from'soapbox/hooks';import{makeGetAccount}from'soapbox/selectors';const messages=defineMessages({remove:{\"id\":\"lists.account.remove\",\"defaultMessage\":\"Remove from list\"},add:{\"id\":\"lists.account.add\",\"defaultMessage\":\"Add to list\"}});const getAccount=makeGetAccount();const Account=_ref=>{let{accountId}=_ref;const intl=useIntl();const dispatch=useAppDispatch();const account=useAppSelector(state=>getAccount(state,accountId));const isAdded=useAppSelector(state=>state.listEditor.accounts.items.includes(accountId));const onRemove=()=>dispatch(removeFromListEditor(accountId));const onAdd=()=>dispatch(addToListEditor(accountId));if(!account)return null;let button;if(isAdded){button=/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/x.svg'),title:intl.formatMessage(messages.remove),onClick:onRemove});}else{button=/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/plus.svg'),title:intl.formatMessage(messages.add),onClick:onAdd});}return/*#__PURE__*/_jsx(\"div\",{className:\"account\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__wrapper\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__display-name\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__avatar-wrapper\"},void 0,/*#__PURE__*/_jsx(Avatar,{src:account.avatar,size:36})),/*#__PURE__*/_jsx(DisplayName,{account:account})),/*#__PURE__*/_jsx(\"div\",{className:\"account__relationship\"},void 0,button)));};export default Account;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{defineMessages,useIntl}from'react-intl';import{changeListEditorTitle,submitListEditor}from'soapbox/actions/lists';import{Button,Form,HStack,Input}from'soapbox/components/ui';import{useAppDispatch,useAppSelector}from'soapbox/hooks';const messages=defineMessages({title:{\"id\":\"lists.edit.submit\",\"defaultMessage\":\"Change title\"},save:{\"id\":\"lists.new.save_title\",\"defaultMessage\":\"Save Title\"}});const ListForm=()=>{const intl=useIntl();const dispatch=useAppDispatch();const value=useAppSelector(state=>state.listEditor.title);const disabled=useAppSelector(state=>!state.listEditor.isChanged);const handleChange=e=>{dispatch(changeListEditorTitle(e.target.value));};const handleSubmit=e=>{e.preventDefault();dispatch(submitListEditor(false));};const handleClick=()=>{dispatch(submitListEditor(false));};const save=intl.formatMessage(messages.save);return/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit},void 0,/*#__PURE__*/_jsx(HStack,{space:2},void 0,/*#__PURE__*/_jsx(Input,{outerClassName:\"flex-grow\",type:\"text\",value:value,onChange:handleChange}),/*#__PURE__*/_jsx(Button,{onClick:handleClick,disabled:disabled},void 0,save)));};export default ListForm;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import classNames from'classnames';import React from'react';import{defineMessages,useIntl}from'react-intl';import{fetchListSuggestions,clearListSuggestions,changeListSuggestions}from'soapbox/actions/lists';import Icon from'soapbox/components/icon';import{Button,Form,HStack,Input}from'soapbox/components/ui';import{useAppSelector,useAppDispatch}from'soapbox/hooks';const messages=defineMessages({search:{\"id\":\"lists.search\",\"defaultMessage\":\"Search among people you follow\"},searchTitle:{\"id\":\"tabs_bar.search\",\"defaultMessage\":\"Search\"}});const Search=()=>{const intl=useIntl();const dispatch=useAppDispatch();const value=useAppSelector(state=>state.listEditor.suggestions.value);const handleChange=e=>{dispatch(changeListSuggestions(e.target.value));};const handleSubmit=()=>{dispatch(fetchListSuggestions(value));};const handleClear=()=>{dispatch(clearListSuggestions());};const hasValue=value.length>0;return/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit},void 0,/*#__PURE__*/_jsx(HStack,{space:2},void 0,/*#__PURE__*/_jsx(\"label\",{className:\"flex-grow relative\"},void 0,/*#__PURE__*/_jsx(\"span\",{style:{display:'none'}},void 0,intl.formatMessage(messages.search)),/*#__PURE__*/_jsx(Input,{type:\"text\",value:value,onChange:handleChange,placeholder:intl.formatMessage(messages.search)}),/*#__PURE__*/_jsx(\"div\",{role:\"button\",tabIndex:0,className:\"search__icon\",onClick:handleClear},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/backspace.svg'),\"aria-label\":intl.formatMessage(messages.search),className:classNames('svg-icon--backspace',{active:hasValue})}))),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit},void 0,intl.formatMessage(messages.searchTitle))));};export default Search;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React,{useEffect}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{setupListEditor,resetListEditor}from'soapbox/actions/lists';import{CardHeader,CardTitle,Modal}from'soapbox/components/ui';import{useAppSelector,useAppDispatch}from'soapbox/hooks';import Account from'./components/account';import EditListForm from'./components/edit_list_form';import Search from'./components/search';const messages=defineMessages({close:{\"id\":\"lightbox.close\",\"defaultMessage\":\"Close\"},changeTitle:{\"id\":\"lists.edit.submit\",\"defaultMessage\":\"Change title\"},addToList:{\"id\":\"lists.account.add\",\"defaultMessage\":\"Add to list\"},removeFromList:{\"id\":\"lists.account.remove\",\"defaultMessage\":\"Remove from list\"},editList:{\"id\":\"lists.edit\",\"defaultMessage\":\"Edit list\"}});const ListEditor=_ref=>{let{listId,onClose}=_ref;const intl=useIntl();const dispatch=useAppDispatch();const accountIds=useAppSelector(state=>state.listEditor.accounts.items);const searchAccountIds=useAppSelector(state=>state.listEditor.suggestions.items);useEffect(()=>{dispatch(setupListEditor(listId));return()=>{dispatch(resetListEditor());};},[]);const onClickClose=()=>{onClose('LIST_ADDER');};return/*#__PURE__*/_jsx(Modal,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"lists.edit\",defaultMessage:\"Edit list\"}),onClose:onClickClose},void 0,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.changeTitle)})),/*#__PURE__*/_jsx(EditListForm,{}),/*#__PURE__*/_jsx(\"br\",{}),accountIds.size>0&&/*#__PURE__*/_jsx(\"div\",{},void 0,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.removeFromList)})),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-48 overflow-y-auto\"},void 0,accountIds.map(accountId=>/*#__PURE__*/_jsx(Account,{accountId:accountId},accountId)))),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.addToList)})),/*#__PURE__*/_jsx(Search,{}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-48 overflow-y-auto\"},void 0,searchAccountIds.map(accountId=>/*#__PURE__*/_jsx(Account,{accountId:accountId},accountId))));};export default ListEditor;"],"names":["messages","remove","add","getAccount","_ref","button","accountId","intl","useIntl","dispatch","account","state","isAdded","listEditor","accounts","items","includes","src","title","formatMessage","onClick","className","avatar","size","save","value","disabled","isChanged","onSubmit","e","preventDefault","space","outerClassName","type","onChange","target","search","searchTitle","suggestions","handleSubmit","hasValue","length","style","display","placeholder","role","tabIndex","active","close","changeTitle","addToList","removeFromList","editList","listId","onClose","accountIds","searchAccountIds","useEffect","id","defaultMessage","map"],"sourceRoot":""}