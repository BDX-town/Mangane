"use strict";(self.webpackChunkmangane_fe=self.webpackChunkmangane_fe||[]).push([[43],{1035:function(o,t,n){n.r(t),n.d(t,{default:function(){return O}});var e,a,i,s=n(1845),r=n(1833),u=(n(2),n(22)),c=n.n(u),l=n(10),p=n.n(l),d=n(63),f=n.n(d),h=n(42),g=n(767),m=n(1835),v=n(1857),b=n(6),y=n(13),w=n(62),Z=n(21),_=n(1),I=n(23),M=n(9),C=n(46),j=n(15),k=n(27),$=(e=function(o,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])},e(o,t)},function(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),L=(0,g.vU)({heading:{id:"column.following",defaultMessage:"Following"}}),O=(0,b.$j)((function(o,t){var n,e,a,i,s,r=t.params,u=(t.withReplies,r.username||""),c=o.get("me"),l=(o.getIn(["accounts",-1,"username"])||"").toLowerCase()===u.toLowerCase(),p=(0,j.N$)(o.get("instance")),d=null;s=l?null:(d=(0,M.XO)(o,u))?d.getIn(["id"],null):-1;var f=(0,C.qn)(o,s,"following"),h=o.getIn(["relationships",s,"blocked_by"],!1);return{accountId:s,unavailable:c!==s&&(h&&!p.blockersVisible||(null===(n=d)||void 0===n||null===(e=n.pleroma)||void 0===e?void 0:e.get("hide_followers"))),isAccount:!!o.getIn(["accounts",s]),accountIds:null===(a=o.user_lists.following.get(s))||void 0===a?void 0:a.items,hasMore:!(null===(i=o.user_lists.following.get(s))||void 0===i||!i.next),diffCount:f}}))(a=(0,m.ZP)((i=function(o){function t(){var t=o.apply(this,arguments)||this;return(0,r.Z)(t,"handleLoadMore",c()((function(){t.props.accountId&&-1!==t.props.accountId&&t.props.dispatch((0,y.kUp)(t.props.accountId))}),300,{leading:!0})),t}return $(t,o),t.prototype.componentDidMount=function(){var o=this.props,t=o.params.username,n=o.accountId;n&&-1!==n?(this.props.dispatch((0,y.$Gz)(n)),this.props.dispatch((0,y.$92)(n))):this.props.dispatch((0,y.ULQ)(t))},t.prototype.componentDidUpdate=function(o){var t=this.props,n=t.accountId,e=t.dispatch;n&&-1!==n&&n!==o.accountId&&n&&(e((0,y.$Gz)(n)),e((0,y.$92)(n)))},t.prototype.render=function(){var o=this.props,t=o.intl,n=o.accountIds,e=o.hasMore,a=o.isAccount,i=o.diffCount,r=o.accountId,u=o.unavailable;return a||-1===r?-1!==r&&n?u?(0,s.Z)("div",{className:"empty-column-indicator"},void 0,(0,s.Z)(v.Z,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"})):(0,s.Z)(k.Z,{label:t.formatMessage(L.heading),transparent:!0},void 0,(0,s.Z)(Z.Z,{scrollKey:"following",hasMore:e,diffCount:i,onLoadMore:this.handleLoadMore,emptyMessage:(0,s.Z)(v.Z,{id:"account.follows.empty",defaultMessage:"This user doesn't follow anyone yet."}),itemClassName:"pb-4"},void 0,n.map((function(o){return(0,s.Z)(I.Z,{id:o,withNote:!1},o)})))):(0,s.Z)(_.$j,{}):(0,s.Z)(w.Z,{})},t}(h.ZP),(0,r.Z)(i,"propTypes",{intl:p().object.isRequired,params:p().object.isRequired,dispatch:p().func.isRequired,accountIds:f().orderedSet,hasMore:p().bool,isAccount:p().bool,unavailable:p().bool,diffCount:p().number}),a=i))||a)||a}}]);
//# sourceMappingURL=following-d50582e9a5890b59c653.chunk.js.map