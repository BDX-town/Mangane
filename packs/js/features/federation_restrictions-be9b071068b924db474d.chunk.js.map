{"version":3,"file":"packs/js/features/federation_restrictions-be9b071068b924db474d.chunk.js","mappings":"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","sources":["webpack://mangane-fe/./app/soapbox/features/federation_restrictions/components/restricted_instance.tsx","webpack://mangane-fe/./app/soapbox/features/federation_restrictions/index.tsx"],"sourcesContent":["var _jsxFileName = \"/home/runner/work/Mangane/Mangane/app/soapbox/features/federation_restrictions/components/restricted_instance.tsx\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport classNames from 'classnames';\nimport React, { useState } from 'react';\nimport Icon from 'soapbox/components/icon';\nimport { useAppSelector } from 'soapbox/hooks';\nimport { makeGetRemoteInstance } from 'soapbox/selectors';\nimport InstanceRestrictions from './instance_restrictions';\nconst getRemoteInstance = makeGetRemoteInstance();\n\nconst RestrictedInstance = _ref => {\n  let {\n    host\n  } = _ref;\n  const remoteInstance = useAppSelector(state => getRemoteInstance(state, host));\n  const [expanded, setExpanded] = useState(false);\n\n  const toggleExpanded = e => {\n    setExpanded(value => !value);\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    className: \"flex items-center gap-1 py-2.5 no-underline\",\n    onClick: toggleExpanded,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    src: expanded ? require('@tabler/icons/caret-down.svg') : require('@tabler/icons/caret-right.svg'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames({\n      'line-through': remoteInstance.getIn(['federation', 'reject'])\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, remoteInstance.get('host'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames({\n      'h-0 overflow-hidden': !expanded,\n      'h-auto': expanded\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(InstanceRestrictions, {\n    remoteInstance: remoteInstance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default RestrictedInstance;","var _jsxFileName = \"/home/runner/work/Mangane/Mangane/app/soapbox/features/federation_restrictions/index.tsx\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport React, { useState } from 'react';\nimport { defineMessages, useIntl } from 'react-intl';\nimport ScrollableList from 'soapbox/components/scrollable_list';\nimport Accordion from 'soapbox/features/ui/components/accordion';\nimport { useAppSelector } from 'soapbox/hooks';\nimport { makeGetHosts } from 'soapbox/selectors';\nimport { federationRestrictionsDisclosed } from 'soapbox/utils/state';\nimport Column from '../ui/components/column';\nimport RestrictedInstance from './components/restricted_instance';\nconst messages = defineMessages({\n  heading: {\n    \"id\": \"column.federation_restrictions\",\n    \"defaultMessage\": \"Federation Restrictions\"\n  },\n  boxTitle: {\n    \"id\": \"federation_restrictions.explanation_box.title\",\n    \"defaultMessage\": \"Instance-specific policies\"\n  },\n  boxMessage: {\n    \"id\": \"federation_restrictions.explanation_box.message\",\n    \"defaultMessage\": \"Normally servers on the Fediverse can communicate freely. {siteTitle} has imposed restrictions on the following servers.\"\n  },\n  emptyMessage: {\n    \"id\": \"federation_restrictions.empty_message\",\n    \"defaultMessage\": \"{siteTitle} has not restricted any instances.\"\n  },\n  notDisclosed: {\n    \"id\": \"federation_restrictions.not_disclosed_message\",\n    \"defaultMessage\": \"{siteTitle} does not disclose federation restrictions through the API.\"\n  }\n});\nconst getHosts = makeGetHosts();\n\nconst FederationRestrictions = () => {\n  const intl = useIntl();\n  const siteTitle = useAppSelector(state => state.instance.get('title'));\n  const hosts = useAppSelector(state => getHosts(state));\n  const disclosed = useAppSelector(state => federationRestrictionsDisclosed(state));\n  const [explanationBoxExpanded, setExplanationBoxExpanded] = useState(true);\n\n  const toggleExplanationBox = setting => {\n    setExplanationBoxExpanded(setting);\n  };\n\n  const emptyMessage = disclosed ? messages.emptyMessage : messages.notDisclosed;\n  return /*#__PURE__*/React.createElement(Column, {\n    icon: \"gavel\",\n    label: intl.formatMessage(messages.heading),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Accordion, {\n    headline: intl.formatMessage(messages.boxTitle),\n    expanded: explanationBoxExpanded,\n    onToggle: toggleExplanationBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, intl.formatMessage(messages.boxMessage, {\n    siteTitle\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ScrollableList, {\n    emptyMessage: intl.formatMessage(emptyMessage, {\n      siteTitle\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, hosts.map(host => /*#__PURE__*/React.createElement(RestrictedInstance, {\n    key: host,\n    host: host,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 32\n    }\n  })))));\n};\n\nexport default FederationRestrictions;"],"names":[],"sourceRoot":""}