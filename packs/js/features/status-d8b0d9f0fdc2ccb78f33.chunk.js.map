{"version":3,"file":"packs/js/features/status-d8b0d9f0fdc2ccb78f33.chunk.js","mappings":"0WAA+zB,EAAhuB,SAAAA,GAAW,IAAAC,EAAoCD,EAAI,UAA9BE,EAA0BF,EAAI,gBAAdG,EAAUH,EAAI,SAAOI,EAAK,WAAqBC,EAAK,WAAoB,EAAmB,YAAe,GAAjCC,EAAM,KAACC,EAAS,KAA8BC,EAAS,eAAkB,SAAAC,GAAOA,EAAEC,MAAK,SAAAC,GAAO,OAAsB,GAAtBA,EAAMC,kBAAuBL,GAAU,GAAWA,GAAU,KAAS,IAA+K,OAA3K,aAAgB,WAAK,IAAMM,EAAS,IAAIC,qBAAqBN,EAAS,CAACO,UAAU,CAAC,EAAE,KAAsC,OAA/BF,EAASG,QAAQZ,EAAKa,SAAe,WAAKJ,EAASK,gBAAiB,CAACV,IAA8B,gBAAoB,WAAe,KAAkB,gBAAoB,MAAM,CAACW,IAAIf,EAAKH,UAAUA,GAAWE,GAAUG,GAAqB,gBAAoB,MAAM,CAACa,IAAId,EAAKJ,UAAU,4CAA4CmB,OAAOlB,IAAkBC,K,0BCAtD,EAA7gB,SAAAH,GAAW,IAAAqB,EAAwBrB,EAAI,GAAzBsB,EAAqBtB,EAAI,SAAhBuB,EAAYvB,EAAI,WAAOwB,EAAS,CAACC,OAAO,WAAI,OAAAH,EAASD,IAAIK,SAAS,WAAI,OAAAH,EAAWF,KAAK,OAAmB,OAAK,EAAAM,QAAQ,CAACH,SAASA,QAAU,GAAoB,OAAK,MAAM,CAACvB,UAAU,uJAAuJ2B,SAAS,QAAG,GAAoB,OAAK,KAAK,QAAG,GAAoB,OAAK,IAAiB,CAACP,GAAG,qBAAqBQ,eAAe,2C,sHCC4uD,EAD58D,SAAA7B,GAAW,IAAA8B,EAAQ9B,EAAI,OAAO+B,GAAG,SAAe,SAAAC,GAAsB,OAANA,EAAK,MAA2DC,IAAzB,UAAkB,cAAgB,WAAoBC,GAAS,UAAoBC,EAASL,EAAM,QAAC,IAAIK,GAA0B,iBAAVA,EAAmB,OAAO,KAAK,IACqsBC,EAAwCC,EADvuBC,EAAwB,WAAKL,GAAS,QAAU,kBAAiWM,EAAoB,eAAkB,WAAK,OAAO,SAAY,UAAcT,EAAOU,QAAQC,IAAI,oBAAoBX,EAAOY,iBAAiBZ,EAAOa,WAAW,MAC/xCC,YAAY,CAACd,IAAuzE,OAAmB,OAAK,KAAO,CAACe,MAAM,QAAG,EAAOX,EAASE,aAAr6BC,GAAxCD,EAAYG,KAA8CO,QAAO,SAACC,EAAIC,GAAM,OAAAD,EAAIC,EAAIP,IAAI,WAAS,IAAY,GAAsB,OAAK,KAAO,CAACI,MAAM,GAAI5C,UAAU,yBAAyBgD,WAAW,eAAU,GAAoB,OAAK,MAAM,CAAChD,UAAU,qBAAgB,EAAOmC,EAAYc,KAAI,SAACzC,EAAE0C,GAAK,OAAmB,OAAK,KAAO,CAACN,MAAM,GAAI5C,UAAU,kBAAkBgD,WAAW,UAAUE,GAAe,OAAK,KAAW,CAAClD,UAAU,IAAW,uCAAuC,CAAC,iBAAiBiC,EAASkB,qBAAqBC,MAAM5C,EAAE6C,QAAQpB,EAASkB,oBAA5sBG,EAAwvB9C,EAA9uB,WAASsB,EADrQ,SAACyB,EAASC,EAASF,GAAYtB,GAAS,QAAU,YAAY,CAACuB,SAAQ,EAACC,SAAQ,EAACF,SAAQ,KAC8MG,CAAqBvB,EAAQwB,KAAK7B,EAAOT,GAAGuC,OAAOL,EAASd,IAAI,UAA/FH,WAAquBuB,KAAyB,OAAK,KAAK,CAACC,MAAM,QAAQC,KAAK,KAAK9D,UAAU,2BAAsB,GAAoB,OAAK,KAAgB,CAAC+D,MAAMvD,EAAEgC,IAAI,aAA74B,IAAAc,OAA26B,OAAK,KAAK,CAACO,MAAM,QAAQC,KAAK,KAAK9D,UAAU,4BAAuB,GAAoB,OAAK,KAAgB,CAAC+D,MAAM3B,MAAiB,GAAvlDP,EAAOY,kBAAqC,OAAK,KAAO,CAACG,MAAM,GAAII,WAAW,eAAU,GAAoB,OAAK,KAAW,CAAChD,UAAU,IAAW,CAAC,mBAAkB,EAAK,kBAAkBiC,EAASkB,qBAAqBa,IAAI,EAAQ,KAA2BC,cAAc,kBAAkBC,KAAK,eAAeb,QAAQpB,EAASkB,mBAA/c,SAAA3C,GADqV,IAAC+C,EAASC,EAC3VhD,EAAE2D,iBAAqBrC,GAD2TyB,EACnQrB,EAAQwB,KADoQF,EAC/P3B,EAAOT,GADoQY,GAAS,QAAU,aAAa,CAACuB,SAAQ,EAACC,SAAQ,MAC/XnB,UAA8duB,KAAyB,OAAK,KAAK,CAACC,MAAM,QAAQC,KAAK,WAAM,GAAoB,OAAK,KAAgB,CAACC,MAAMlC,EAAOY,qBAA4B,GAArjCZ,EAAOuC,eAAkC,OAAK,KAAO,CAACxB,MAAM,GAAII,WAAW,eAAU,GAAoB,OAAK,KAAW,CAAChD,UAAU,kCAAkCgE,IAAI,EAAQ,KAA4BE,KAAK,eAAeb,QAArW,SAAA7C,GAD0xB,IAAC+C,EAASC,EAChyBhD,EAAE2D,iBAAqBrC,GADgwByB,EAC3sBrB,EAAQwB,KAD4sBF,EACvsB3B,EAAOT,GAD4sBY,GAAS,QAAU,UAAU,CAACuB,SAAQ,EAACC,SAAQ,MACj0BnB,QAAqX,OAAK,KAAK,CAACwB,MAAM,QAAQC,KAAK,WAAM,GAAoB,OAAK,KAAgB,CAACC,MAAMlC,EAAOuC,kBAAyB,KCDuvK,EAAh8J,SAAArE,GAAW,IAAi5CsE,EAAj5CxC,EAA+F9B,EAAI,OAA5FuE,EAAwFvE,EAAI,eAA7EwE,EAAyExE,EAAI,0BAAnDyE,EAA+CzE,EAAI,wBAA3B0E,EAAuB1E,EAAI,YAAf2E,EAAW3E,EAAI,UAAO4E,GAAK,EAAAC,EAAA,KAAgBxE,GAAK,IAAAyE,QAAO,MAAYC,GAAW,UAAsBC,GAAO,SAAe,SAAAC,GAAO,eAAYA,GAAOxC,IAAI,aAAiByC,EAAiB,WAAc,WAAI,WAAIC,KAAKC,aAAa,CAACJ,GAAQ,CAACK,KAAK,aAAaC,GAAGN,KAAQ,CAACA,IAAe9C,GAAS,SAAe,SAAA+C,GAAO,eAAYA,EAAMM,aAAiBC,GAAK,UAAgBC,GAAa,QAAgB3D,GAAcK,EAASsD,EAAY,QAAOC,EAAa,WAAc,WAAI,OAAAX,GAAY7C,EAASyD,cAAcF,EAAaG,WAAWZ,IAAO,CAACD,EAAW7C,EAASuD,IAA2JI,EAAsB,eAAkB,WAAKnB,EAAY5C,EAAOkD,KAAU,CAAClD,EAAOkD,IAAec,EAAY,WAAc,WAAK,OAAOL,MAAAA,OAA2C,EAAOA,EAAaM,YAAY,QAAqB,OAAO,EAAQ,KAA2B,IAAI,WAAW,OAAO,EAAQ,IAA6B,IAAI,QAAQ,OAAOP,EAAK,IAAI,UAAU,OAAO,EAAQ,KAA0B,IAAI,SAAS,OAAO,EAAQ,OAA6B,CAACC,MAAAA,OAA2C,EAAOA,EAAaM,aAAa,OAAIN,GAA6BtD,GAA0B,iBAAVA,GAA4CsD,EAAanB,QAAkEA,GAAP,IAAjDmB,EAAajD,QAAQC,IAAI,iBAAgB,IAAkC,OAAK,MAAM,CAACxC,UAAU,sCAAiC,GAAoB,OAAK,IAAI,QAAG,GAAoB,OAAK,IAAiB,CAACoB,GAAG,iCAAiCQ,eAAe,4BAAoD,OAAK,IAAa,CAAC4B,SAASgC,EAAanB,UAA6B,OAAK,MAAM,CAACrE,UAAU,mBAAc,EAAoB,gBAAoB,MAAM,CAACkB,IAAId,EAAKJ,UAAU,wBAAwB2B,UAAU,IAAgB,OAAK,MAAM,CAAC3B,UAAU,qDAAgD,EAAOyF,EAAcD,EAAaE,aAAalD,IAAIuC,IAAiS,OAAK,KAAK,CAAClB,MAAM,SAAS7D,UAAU,oBAAoB8D,KAAK,WAAM,GAAoB,OAAK,IAAK,CAAC9D,UAAU,OAAOgE,IAAI,EAAQ,OAA0C,OAAK,IAAiB,CAAC5C,GAAG,4BAA4BQ,eAAe,gBAA1f,OAAK,KAAO,CAACiC,MAAM,OAAOC,KAAK,KAAKT,QAAQuC,QAAuB,GAAoB,OAAK,IAAK,CAAC5F,UAAU,OAAOgE,IAAI,EAAQ,QAA6C,OAAK,IAAiB,CAAC5C,GAAG,2BAA2BQ,eAAe,gBAAsS,OAAK,IAAK,CAAC5B,UAAU,oCAAoCgE,IAAI,EAAQ,QAAyC,OAAK,IAAK,CAAC,eAAc,EAAKA,IAAI6B,EAAY7F,UAAU,wDAAoE,OAAK,MAAM,CAACA,UAAU,aAAQ,GAAoB,OAAK,IAAiB,CAACoB,GAAGc,EAAQd,GAAG2E,UAAUP,EAAaQ,WAAWC,WAAW,GAAGC,aAAY,GAAMhE,EAAQd,MAAkB,OAAK,IAAoB,CAACS,OAAO2D,KAA4B,OAAK,IAAc,CAAC3D,OAAO2D,EAAaW,UAAUX,EAAaY,OAAOC,iBAA59E,WAAK/B,EAAezC,MAAg/E2D,EAAaE,aAAalD,IAAIuC,KAAUS,EAAaY,QAAqB,gBAAoB,WAAe,MAAkB,OAAK,KAAK,CAACpG,UAAU,UAAsB,OAAK,KAAK,CAACA,UAAU,OAAO8D,KAAK,KAAKwC,OAAO,eAAU,GAAoB,OAAK,IAAiB,CAAClF,GAAG,gCAAgCQ,eAAe,gCAAgC2E,OAAO,CAACxB,OAAOE,OAAkC,OAAK,MAAM,CAACjF,UAAU,kBAAkBwG,KAAKzB,EAAO0B,wBAAwB,CAACC,OAAOlB,EAAaE,aAAalD,IAAIuC,QAAyB,OAAK,IAAY,CAAClD,OAAO2D,EAAad,UAAUA,EAAUiC,mBAAmBnC,KAA2BgB,EAAaY,QAAQ/B,GAAmB,OAAK,KAAO,CAACuC,eAAe,UAAU5D,WAAW,SAAShD,UAAU,aAAQ,GAAoB,OAAK,EAAqB,CAAC6B,OAAO2D,KAA4B,OAAK,KAAM,CAAC5C,MAAM,EAAE5C,UAAU,uBAAkB,GAAoB,OAAK,OAAO,QAAG,GAAoB,OAAK,IAAI,CAAC6G,KAAKrB,EAAasB,IAAIC,OAAO,SAASC,IAAI,WAAWhH,UAAU,wBAAmB,GAAoB,OAAK,KAAK,CAACiH,IAAI,OAAOpD,MAAM,QAAQC,KAAK,WAAM,GAAoB,OAAK,KAAc,CAACC,MAAM,IAAImD,KAAK1B,EAAaQ,YAAYmB,QAAO,EAAMC,KAAK,UAAUC,MAAM,QAAQC,IAAI,UAAUC,KAAK,UAAUC,OAAO,cAAchC,EAAaiC,WAAwB,gBAAoB,WAAe,KAAK,OAAmB,OAAK,MAAM,CAACzH,UAAU,yBAAyBqD,QAA30H,WAAKkB,EAA0B1C,IAAk1HqC,KAAK,SAASvC,SAAS,QAAG,GAAoB,OAAK,KAAK,CAACsF,IAAI,OAAOpD,MAAM,QAAQC,KAAK,WAAM,GAAoB,OAAK,IAAiB,CAAC1C,GAAG,sBAAsBQ,eAAe,gBAAgB2E,OAAO,CAACmB,KAAK/C,EAAKgD,WAAW,IAAIT,KAAK1B,EAAaiC,WAAW,CAACN,QAAO,EAAME,MAAM,QAAQC,IAAI,UAAUC,KAAK,UAAUC,OAAO,wBAAvkH,MCAj6B,EAA5/B,WAAK,IAAMI,GAAU,SAAe,SAAA5C,GAAO,OAAAA,EAAMM,SAASuC,SAAkF,OAApD,SAAe,SAAA7C,GAAO,OAAAA,EAAMM,SAASwC,kBAAmE,OAAK,KAAK,CAAC9H,UAAU,mCAAmC+H,QAAQ,gBAAW,GAAoB,OAAK,KAAM,QAAG,GAAoB,OAAK,KAAU,CAACF,OAAmB,OAAK,IAAiB,CAACzG,GAAG,qBAAqBQ,eAAe,iCAA6C,OAAK,KAAK,QAAG,GAAoB,OAAK,IAAiB,CAACR,GAAG,uBAAuBQ,eAAe,sDAAsD2E,OAAO,CAACqB,UAAS,QAAmB,OAAK,KAAM,CAAChF,MAAM,EAAE5C,UAAU,yBAAoB,GAAoB,OAAK,KAAO,CAAC6D,MAAM,YAAYmE,GAAG,SAASC,OAAM,QAAM,GAAoB,OAAK,IAAiB,CAAC7G,GAAG,qBAAqBQ,eAAe,aAAyB,OAAK,KAAO,CAACoG,GAAG,UAAUC,OAAM,QAAM,GAAoB,OAAK,IAAiB,CAAC7G,GAAG,sBAAsBQ,eAAe,eAAn0B,M,SCC7X,EAD2U,SAAAsG,GAAc,IAA4SC,EAA4DC,EAAxWhH,EAAoB8G,EAAK,GAAtBG,EAAiBH,EAAK,gBAAOI,GAAU,SAAe,SAAAtD,GAAO,OAAAA,EAAMuD,SAASC,WAAWhG,IAAIpB,MAAWqH,GAAW,SAAe,SAAAzD,GAAO,OAAAA,EAAMuD,SAASG,QAAQlG,IAAIpB,GAAG,mBAAuB0C,QAAY6E,GAAS,SAAe,SAAA3D,GAAO,OAAA4D,QAAQ5D,EAAM6D,SAASrG,IAAIpB,OAAuX,OAAmB,OAAK,MAAM,CAACpB,UAAU,uBAAkB,GAA/UoI,EAAkBK,EAAW,GAAzFN,EAAeG,GAAWA,IAAYD,IAAuFD,GAAiE,OAAK,MAAM,CAACpI,UAAU,IAAW,oBAAoB,CAAC,yBAAyBmI,EAAe,4BAA4BC,MAAlJ,MAA8PO,EAC1oC,gBAAoB,IAAgBT,IAAoB,OAAK,IAAkB,CAACY,QAAO,MCD+0DC,GAAS,QAAe,CAAClB,MAAM,CAAC,GAAK,eAAe,eAAiB,sBAAsBmB,YAAY,CAAC,GAAK,sBAAsB,eAAiB,kBAAkBC,cAAc,CAAC,GAAK,+BAA+B,eAAiB,UAAUC,cAAc,CAAC,GAAK,+BAA+B,eAAiB,eAAeC,cAAc,CAAC,GAAK,+BAA+B,eAAiB,8CAA8CC,eAAe,CAAC,GAAK,gCAAgC,eAAiB,oBAAoBC,eAAe,CAAC,GAAK,gCAAgC,eAAiB,oBAAoBC,eAAe,CAAC,GAAK,gCAAgC,eAAiB,qJAAqJC,aAAa,CAAC,GAAK,8BAA8B,eAAiB,SAASC,UAAU,CAAC,GAAK,uBAAuB,eAAiB,qBAAqBC,QAAQ,CAAC,GAAK,uBAAuB,eAAiB,qBAAqBC,eAAe,CAAC,GAAK,yBAAyB,eAAiB,8BAA8BC,aAAa,CAAC,GAAK,8BAA8B,eAAiB,SAASC,aAAa,CAAC,GAAK,8BAA8B,eAAiB,0GAA0GC,eAAe,CAAC,GAAK,uCAAuC,eAAiB,oBAA0BC,GAAU,UAAsBC,GAAgB,QAAe,CAAC,SAACC,EAAExG,GAAW,OAAAA,GAAS,SAAAwB,GAAO,OAAAA,EAAMuD,SAASC,cAAY,SAAChF,EAASgF,GAAqE,IAAvD,IAAIyB,GAAa,kBAA0B7I,EAAGoC,EAAepC,IAAK6I,EAAaC,SAAS9I,IAAK6I,GAAa,gBAAoB,CAAC7I,IAAK+I,MAAMF,GAAc7I,EAAGoH,EAAWhG,IAAIpB,GAAK,OAAO6I,KAAsBG,GAAkB,QAAe,CAAC,SAACJ,EAAExG,GAAW,OAAAA,GAAS,SAAAwB,GAAO,OAAAA,EAAMuD,SAASG,WAAS,SAAClF,EAAS6G,GAAgF,IAA9D,IAAIC,GAAe,kBAA4BC,EAAI,CAAC/G,GAAgB+G,EAAIC,OAAO,GAAE,CAAC,IAAMpJ,EAAGmJ,EAAIE,QAAQ,IAAIrJ,EAAG,MAAM,IAAMsH,EAAQ2B,EAAe7H,IAAIpB,GAAI,GAAGkJ,EAAeJ,SAAS9I,GAAK,MAAUoC,IAAWpC,IAAIkJ,EAAeA,EAAeH,MAAM,CAAC/I,KAASsH,GAASA,EAAQ/F,UAAU+H,SAAQ,SAAAC,GAAQJ,EAAIK,QAAQD,MAAY,OAAOL,KAIn9E,EAJk/E,SAAApC,GAAQ,IAAMvD,GAAK,EAAAC,EAAA,KAAgBiG,GAAQ,UAAmB7I,GAAS,UAAuB8I,GAAS,UAAoBhJ,GAAG,SAAe,SAAAkD,GAAO,OAAAA,EAAMlD,MAAUD,GAAO,SAAe,SAAAmD,GAAO,OAAA8E,EAAU9E,EAAM,CAAC5D,GAAG8G,EAAM6C,OAAOvH,cAAkBwH,EAAaF,EAAStI,IAAI,gBAAsByI,GAAqB,SAAe,SAAAjG,GAAO,OAAmC,IAAnCA,EAAMkG,QAAQC,KAAKC,OAAOZ,UAAiB,GAA8B,SAAe,SAAAxF,GAAQ,IAAIiF,GAAa,kBAA0BK,GAAe,kBAAsB,GAAGzI,EAAO,CAAC,IAAM2B,EAAS3B,EAAOT,GAAG6I,EAAaF,EAAgB/E,EAAMA,EAAMuD,SAASC,WAAWhG,IAAIgB,IAAW8G,EAAeF,EAAkBpF,EAAMxB,GAAUyG,EAAaA,EAAaoB,OAAO7H,GAAU8H,SAAShB,GAAgBA,EAAeA,EAAee,OAAO7H,GAAU8H,SAASrB,GAAe,MAAM,CAACpI,OAAM,EAACoI,aAAY,EAACK,eAAc,MAAzdL,EAAY,eAACK,EAAc,iBAAwc,GAAyB,IAAAiB,WAAS,QAAuB1J,EAAOmJ,IAA/DtG,EAAS,KAAC8G,EAAY,KAA6D,GAAuB,IAAAD,YAAW1J,GAAjC8G,EAAQ,KAAC8C,EAAW,KAA0B,GAAe,IAAAF,YAAdG,EAAI,KAACC,EAAO,KAAmBvL,GAAK,IAAAyE,QAAO,MAAY+G,IAAU,IAAA/G,QAAO,MAAYgH,IAAS,IAAAhH,QAAO,MAA+DiH,GAAU,kB,OAAA,E,OAAA,E,EAAA,4B,oiCAAA,mB,uBAAiE,OAAjDf,EAAQ7C,EAAK,OAAO1E,EAAUuH,EAAM,SAAa,GAAM/I,GAAS,QAAuBwB,K,cAA5CkI,EAAM,SAAgD,KAACC,EAAQD,G,qBAA1H,K,gRACr1K,IAAAK,YAAU,WAAKD,KAAYE,MAAK,WAAKP,GAAY,MAASQ,OAAM,SAAAC,GAAQT,GAAY,QAAW,CAACvD,EAAM6C,OAAOvH,WAAW,IAAM2I,GAA4B,WAAKX,GAAc9G,IAAioB0H,GAAkB,SAAAvK,GAASG,GAAS,QAAOH,KAAi5BwK,GAAmB,SAAAxK,GAAYA,EAAOuE,OAAQpE,GAAS,QAAaH,EAAOT,KAAWY,GAAS,QAAWH,EAAOT,MAAyvBkL,GAAgB,eAAkB,SAACzK,EAAO8D,GAAY3D,GAAS,QAAgBH,EAAOT,GAAGuE,MAAa,IAAU4G,GAAa,SAAAnL,GAAK,GAAGA,KAAMS,MAAAA,OAA+B,EAAOA,EAAOT,IAAKoL,GAAavC,EAAanG,KAAK,OAAQ,CAAC,IAAI2I,GAAM,UAAcxC,GAAcyC,QAAQtL,IAAgB,IAATqL,GAAYA,GAAM,UAAcnC,GAAgBoC,QAAQtL,GAAIoL,GAAavC,EAAanG,KAAK2I,IAAaD,GAAaC,EAAM,KAAaE,GAAe,SAAAvL,GAAK,GAAGA,KAAMS,MAAAA,OAA+B,EAAOA,EAAOT,IAAKoL,GAAavC,EAAanG,KAAK,OAAQ,CAAC,IAAI2I,GAAM,UAAcxC,GAAcyC,QAAQtL,IAAgB,IAATqL,GAAYA,GAAM,UAAcnC,GAAgBoC,QAAQtL,GAAIoL,GAAavC,EAAanG,KAAK2I,EAAM,IAASD,GAAaC,EAAM,KAAaD,GAAa,SAAAC,GAAQ,IAAIG,EAAyD,QAAtCA,EAAkBf,GAAS7K,eAAqC,IAApB4L,GAAkCA,EAAkBC,eAAe,CAACJ,MAAK,EAACK,SAAS,SAASC,KAAK,WAAK,IAAMC,EAAQC,SAASC,cAAc,wBAAyB/L,OAAOsL,EAAM,kBAAsBO,GAASA,EAAQG,YAAohBC,GAAe,SAAAC,GAAO,OAAOA,EAAKpK,KAAI,SAAA7B,GAAK,OAAGA,EAAGkM,SAAS,cAAziB,SAAAlM,GAAK,OAAmB,OAAK,MAAM,CAACpB,UAAU,kBAAa,GAAoB,OAAK,EAAU,CAACoB,GAAGA,EAAGC,SAASkL,GAAajL,WAAWqL,IAAgBvL,IAAyamM,CAAgBnM,GAAaA,EAAGoM,WAAW,aAA9R,SAAApM,GAAK,IAAMqM,EAAerM,EAAGsM,QAAQ,aAAa,IAAI,OAAmB,OAAK,IAAc,CAAC1N,UAAU,iBAAiByN,eAAeA,GAAgBrM,GAA4JuM,CAAoBvM,GAAne,SAAAA,GAAK,OAAmB,OAAK,EAAa,CAACA,GAAGA,EAAGiH,gBAAgBxG,EAAOT,GAAGC,SAASkL,GAAajL,WAAWqL,IAAgBvL,GAAwXwM,CAAaxM,QAClzI,IAAA2K,YAAU,WAAKP,GAAa,QAAuB3J,EAAOmJ,MAAiB,CAACnJ,MAAAA,OAA+B,EAAOA,EAAOT,MACzH,IAAA2K,YAAU,WAAK,IAAI8B,EAA2D,QAAvCA,EAAmBhC,GAAS7K,eAAsC,IAArB6M,GAAmCA,EAAmBC,cAAc,CAACrB,MAAMxC,EAAanG,KAAKiK,QAAQ,KAAKC,cAAa,WAAK,IAAIC,EAAmBC,EAAsB,OAA+C,QAAxCD,EAAmBrC,GAAU5K,eAAsC,IAArBiN,GAAkH,QAA9EC,EAAsBD,EAAmBf,cAAc,2BAAqD,IAAxBgB,OAA5F,EAAkIA,EAAsBf,aAAa,CAACjF,EAAM6C,OAAOvH,SAAS3B,MAAAA,OAA+B,EAAOA,EAAOT,GAAG6I,EAAanG,KAAK6E,IAAW,IAAoDwF,IAAe,IAAAC,aAAY,KAAU,WAAQ1C,GAAM7J,GAAQG,GAAS,QAAUH,EAAOT,GAAGsK,IAAOM,MAAK,SAAAjM,GAAW,IAAA2L,EAAM3L,EAAI,KAAC4L,EAAQD,MAASO,OAAM,iBAAW,IAAI,CAACoC,SAAQ,IAAO,CAAC3C,EAAK7J,IAA0HyM,GAAarE,EAAanG,KAAK,EAAQyK,GAAejE,EAAexG,KAAK,EAAE,IAAIjC,GAAQ8G,EAAU,OAAmB,OAAK,IAAiB,IAAU,IAAI9G,EAAQ,OAAmB,OAAK,IAAkB,IAAK,IAAMN,GAAS,CAACC,OAFiuB,WAAK+K,GAAa1K,EAAOT,KAEhuBK,SAFiwB,WAAKkL,GAAe9K,EAAOT,KAE9vBuJ,MAF4xB,SAAAnK,GAAIA,MAAAA,GAA4BA,EAAE2D,iBAAr+C,SAAAtC,GAAkCG,EAAtBiJ,GAA+B,QAAU,UAAU,CAACuD,QAAQ7J,EAAK8J,cAAc1F,EAASa,cAAc8E,QAAQ/J,EAAK8J,cAAc1F,EAASY,cAAcgF,UAAU,WAAI,OAAA3M,GAAS,QAAaH,QAA2B,QAAaA,IAAswC+M,CAAiB/M,IAEx0BgN,UAF82B,YAAtqD,SAAAhN,GAAYA,EAAOa,WAAYV,GAAS,QAAYH,IAAeG,GAAS,QAAUH,IAAqlDiN,CAAqBjN,IAEx2BkN,MAF04B,YAAzxC,SAAClN,EAAOrB,GAAKwB,GAAS,SAACgI,EAAEgF,GAAY,IAAMC,GAAW,QAAYD,KAAYxM,IAAI,cAAiBX,EAAOqN,UAAWlN,GAAS,QAASH,IAAkCoN,EAA4CjN,GAAS,QAAU,QAAQ,CAACH,OAAM,EAACsN,SAAS/C,MAA5EA,GAAkBvK,MAAulCuN,CAAkBvN,IAEz4BwN,QAF66B,SAAA7O,GAAIA,MAAAA,GAA4BA,EAAE2D,iBAAuB,IAAAjC,EAASL,EAAM,QAAKK,GAA0B,iBAAVA,GAA3nC,SAAAA,GAAUF,GAAS,QAAeE,IAAmnCoN,CAAmBpN,IAE3hCqN,YAFokC,WAAK1E,EAAQ2E,KAAK,KAAKrO,OAAOU,EAAO4N,MAAM,CAAC,UAAU,YAEtlCC,aAFkoC,WAAKrD,GAAmBxK,IAEpnC8N,gBAFgqC,WAAKxD,MAEznCyD,UAFrB,SAAApP,GAAU,IAAAqP,EAAyB3H,EAAK,YAAlB4H,EAAa5H,EAAK,YAAO6H,EAAgBlO,MAAAA,OAA+B,EAAOA,EAAOmO,kBAAkBxN,IAAI,GAAGhC,MAAAA,GAA4BA,EAAE2D,iBAAoBtC,GAAQkO,IAA2C,UAAvBA,EAAgB3K,KAAgB0K,EAAYC,EAAgB,GAASF,EAAYhO,EAAOmO,kBAAkB,KAExQC,MAFnwC,WAAK,GAAGrE,GAAU5K,QAAQ,CAAC,IAAMkP,EAAWtE,GAAU5K,QAAQkM,cAAc,sDAAsDgD,MAAAA,GAA8CA,EAAW/C,WAEumC5J,GAASI,OAAO9B,EAAO4N,MAAM,CAAC,UAAU,UAAgBU,GAAiC,WAApBtO,EAAOiE,WAAsBiD,EAASC,YAAYD,EAASlB,MAAYuI,IAA2B,OAAK,MAAM,CAACpQ,UAAU,IAAW,0BAA0B,CAAC,OAAOuO,MAAkB1M,EAAOT,IAAgB,OAAK,EAAAM,QAAQ,CAACH,SAASA,SAAU,EAAoB,gBAAoB,MAAM,CAACL,IAAI0K,GAAU5L,UAAU,qCAAqC2B,SAAS,EAC55D,cAAa,QAAoBgD,EAAK9C,KAAsB,OAAK,EAAe,CAACA,OAAOA,EAAOiO,YAHyuC,SAACO,EAAMC,GAAQtO,GAAS,QAAU,QAAQ,CAACqO,MAAK,EAACC,KAAI,MAGlwCT,YAH0nC,SAACQ,EAAM5D,GAASzK,GAAS,QAAU,QAAQ,CAACqO,MAAK,EAAC5D,MAAK,MAGrpCnI,eAAe+H,GAAmB3H,UAAUA,EAAUF,wBAAwB2H,GAA4B5H,0BAD4mB,SAAA1C,GAASG,GAAS,QAAU,kBAAkB,CAACwB,SAAS3B,EAAOT,OACnnBqD,YAAY6H,MAA+B,OAAK,KAAK,CAACtM,UAAU,gCAA4C,OAAK,IAAgB,CAAC6B,OAAOA,EAAO0O,YAAW,EAAM3N,MAAM,SAAS4N,YAAW,MAASjC,KAA6B,OAAK,KAAK,CAACvO,UAAU,gCAAsCE,GAAS,GAA0L,OAApLoO,IAAcpO,GAASsP,KAAI,MAAbtP,GAAiBkN,GAAenD,GAAcwG,WAAYvQ,GAASsP,KAAKY,IAAkB7B,IAAgBrO,GAASsP,KAAI,MAAbtP,GAAiBkN,GAAe9C,GAAgBmG,YAA+B,OAAK,KAAO,CAACC,MAAM/L,EAAK8J,cAAc0B,GAAa,CAAC5M,SAAQ,KAAGoN,aAAY,EAAKC,YAAW,QAAO,GAAoB,OAAK,EAAO,CAAC3Q,gBAAgB,yKAAoK,GAAoB,OAAK,MAAM,CAACD,UAAU,yBAAoB,GAAoB,OAAK,IAAc,CAACwO,QAAQ7J,EAAK8J,cAAc0B,GAAa,CAAC5M,SAAQ,UAAoB,OAAK,IAAc,CAACsN,UADvrB,WAAK,OAAO/E,YACosB,GAAoB,OAAK,KAAM,CAAClJ,MAAM,QAAG,EAAoB,gBAAoB,MAAM,CAAC1B,IAAId,EAAKJ,UAAU,UAAuB,gBAAoB,IAAe,CAACoB,GAAG,SAASF,IAAI2K,GAASiF,UAAUpF,EAAKqF,WAAW5C,GAAe6C,qBAAqB,WAAiB,cAAK,IAAkB,CAAClI,QAAO,KAAOmI,wBAAwBhH,EAAanG,MAAM5D,MAAY4B,IAAiB,OAAK,EAAe,S","sources":["webpack://mangane-fe/./app/soapbox/components/sticky.tsx","webpack://mangane-fe/./app/soapbox/components/tombstone.tsx","webpack://mangane-fe/./app/soapbox/features/status/components/status-interaction-bar.tsx","webpack://mangane-fe/./app/soapbox/features/status/components/detailed-status.tsx","webpack://mangane-fe/./app/soapbox/features/status/components/thread-login-cta.tsx","webpack://mangane-fe/./app/soapbox/features/status/components/thread-status.tsx","webpack://mangane-fe/./app/soapbox/features/status/index.tsx"],"sourcesContent":["import\"core-js/modules/web.dom-collections.iterator.js\";import React from'react';;const Sticky=_ref=>{let{className,stickyClassName,children}=_ref;const root=React.useRef();const node=React.useRef();const[sticky,setSticky]=React.useState(false);const onSticky=React.useCallback(e=>{if(e.find(entry=>entry.isIntersecting==false))setSticky(true);else setSticky(false);},[]);React.useEffect(()=>{const observer=new IntersectionObserver(onSticky,{threshold:[0,1.0]});observer.observe(root.current);return()=>{observer.disconnect();};},[onSticky]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{ref:root,className:className},children),sticky&&/*#__PURE__*/React.createElement(\"div\",{ref:node,className:\"component-sticky__fixed fixed top-0 z-50 \".concat(stickyClassName)},children));};export default Sticky;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{HotKeys}from'react-hotkeys';import{FormattedMessage}from'react-intl';import{Text}from'soapbox/components/ui';/** Represents a deleted item. */const Tombstone=_ref=>{let{id,onMoveUp,onMoveDown}=_ref;const handlers={moveUp:()=>onMoveUp(id),moveDown:()=>onMoveDown(id)};return/*#__PURE__*/_jsx(HotKeys,{handlers:handlers},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"p-9 flex items-center justify-center sm:rounded-xl bg-gray-100 border border-solid border-gray-200 dark:bg-slate-900 dark:border-slate-700 focusable\",tabIndex:0},void 0,/*#__PURE__*/_jsx(Text,{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"statuses.tombstone\",defaultMessage:\"One or more posts are unavailable.\"}))));};export default Tombstone;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import classNames from'classnames';import{List as ImmutableList}from'immutable';import React from'react';import{FormattedNumber}from'react-intl';import{useDispatch}from'react-redux';import{openModal}from'soapbox/actions/modals';import{HStack,IconButton,Text,EmojiReact}from'soapbox/components/ui';import{useAppSelector,useSoapboxConfig,useFeatures}from'soapbox/hooks';import{reduceEmoji}from'soapbox/utils/emoji_reacts';const StatusInteractionBar=_ref=>{let{status}=_ref;const me=useAppSelector(_ref2=>{let{me}=_ref2;return me;});const{allowedEmoji}=useSoapboxConfig();const dispatch=useDispatch();const features=useFeatures();const{account}=status;if(!account||typeof account!=='object')return null;const onOpenUnauthorizedModal=()=>{dispatch(openModal('UNAUTHORIZED'));};const onOpenReblogsModal=(username,statusId)=>{dispatch(openModal('REBLOGS',{username,statusId}));};const onOpenFavouritesModal=(username,statusId)=>{dispatch(openModal('FAVOURITES',{username,statusId}));};const onOpenReactionsModal=(username,statusId,reaction)=>{dispatch(openModal('REACTIONS',{username,statusId,reaction}));};const getNormalizedReacts=React.useCallback(()=>{return reduceEmoji(ImmutableList(status.pleroma.get('emoji_reactions')),status.favourites_count,status.favourited,null// we dont want to filter them\n).reverse();},[status]);const handleOpenReblogsModal=e=>{e.preventDefault();if(!me)onOpenUnauthorizedModal();else onOpenReblogsModal(account.acct,status.id);};const getReposts=()=>{if(status.reblogs_count){return/*#__PURE__*/_jsx(HStack,{space:0.5,alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(IconButton,{className:\"text-success-600 cursor-pointer\",src:require('@tabler/icons/repeat.svg'),role:\"presentation\",onClick:handleOpenReblogsModal}),/*#__PURE__*/_jsx(Text,{theme:\"muted\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedNumber,{value:status.reblogs_count})));}return'';};const handleOpenFavouritesModal=e=>{e.preventDefault();if(!me)onOpenUnauthorizedModal();else onOpenFavouritesModal(account.acct,status.id);};const getFavourites=()=>{if(status.favourites_count){return/*#__PURE__*/_jsx(HStack,{space:0.5,alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(IconButton,{className:classNames({'text-accent-300':true,'cursor-default':!features.exposableReactions}),src:require('@tabler/icons/heart.svg'),iconClassName:\"fill-accent-300\",role:\"presentation\",onClick:features.exposableReactions?handleOpenFavouritesModal:undefined}),/*#__PURE__*/_jsx(Text,{theme:\"muted\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedNumber,{value:status.favourites_count})));}return'';};const handleOpenReactionsModal=reaction=>()=>{if(!me)onOpenUnauthorizedModal();else onOpenReactionsModal(account.acct,status.id,String(reaction.get('name')));};const getEmojiReacts=()=>{const emojiReacts=getNormalizedReacts();const count=emojiReacts.reduce((acc,cur)=>acc+cur.get('count'),0);if(count>0){return/*#__PURE__*/_jsx(HStack,{space:0.5,className:\"emoji-reacts-container\",alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"emoji-reacts\"},void 0,emojiReacts.map((e,i)=>{return/*#__PURE__*/_jsx(HStack,{space:0.5,className:\"emoji-react p-1\",alignItems:\"center\"},i,/*#__PURE__*/_jsx(EmojiReact,{className:classNames('emoji-react__emoji w-5 h-5 flex-none',{'cursor-pointer':features.exposableReactions}),emoji:e,onClick:features.exposableReactions?handleOpenReactionsModal(e):undefined}),/*#__PURE__*/_jsx(Text,{theme:\"muted\",size:\"sm\",className:\"emoji-react__count\"},void 0,/*#__PURE__*/_jsx(FormattedNumber,{value:e.get('count')})));})),/*#__PURE__*/_jsx(Text,{theme:\"muted\",size:\"sm\",className:\"emoji-reacts__count\"},void 0,/*#__PURE__*/_jsx(FormattedNumber,{value:count})));}return'';};return/*#__PURE__*/_jsx(HStack,{space:3},void 0,features.emojiReacts?getEmojiReacts():getFavourites(),getReposts());};export default StatusInteractionBar;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React,{useRef}from'react';import{FormattedDate,FormattedMessage,useIntl}from'react-intl';import{getSettings}from'soapbox/actions/settings';import Icon from'soapbox/components/icon';import StatusMedia from'soapbox/components/status-media';import StatusReplyMentions from'soapbox/components/status-reply-mentions';import StatusContent from'soapbox/components/status_content';import{HStack,Stack,Text,Button}from'soapbox/components/ui';import AccountContainer from'soapbox/containers/account_container';import QuotedStatus from'soapbox/features/status/containers/quoted_status_container';import{useAppSelector,useOwnAccount,useLogo}from'soapbox/hooks';import{getFeatures}from'soapbox/utils/features';import{getActualStatus}from'soapbox/utils/status';import StatusInteractionBar from'./status-interaction-bar';const DetailedStatus=_ref=>{let{status,onToggleHidden,onOpenCompareHistoryModal,onToggleMediaVisibility,onTranslate,showMedia}=_ref;const intl=useIntl();const node=useRef(null);const ownAccount=useOwnAccount();const locale=useAppSelector(state=>getSettings(state).get('locale'));const localeTranslated=React.useMemo(()=>new Intl.DisplayNames([locale],{type:'language'}).of(locale),[locale]);const features=useAppSelector(state=>getFeatures(state.instance));const logo=useLogo();const actualStatus=getActualStatus(status);const{account}=actualStatus;const canTranslate=React.useMemo(()=>ownAccount&&features.translations&&actualStatus.language!==locale,[ownAccount,features,actualStatus]);const handleExpandedToggle=()=>{onToggleHidden(status);};const handleOpenCompareHistoryModal=()=>{onOpenCompareHistoryModal(status);};const handleTranslateStatus=React.useCallback(()=>{onTranslate(status,locale);},[status,locale]);const privacyIcon=React.useMemo(()=>{switch(actualStatus===null||actualStatus===void 0?void 0:actualStatus.visibility){default:case'public':return require('@tabler/icons/world.svg');case'unlisted':return require('@tabler/icons/eye-off.svg');case'local':return logo;case'private':return require('@tabler/icons/lock.svg');case'direct':return require('@tabler/icons/mail.svg');}},[actualStatus===null||actualStatus===void 0?void 0:actualStatus.visibility]);if(!actualStatus)return null;if(!account||typeof account!=='object')return null;let quote;if(actualStatus.quote){if(actualStatus.pleroma.get('quote_visible',true)===false){quote=/*#__PURE__*/_jsx(\"div\",{className:\"quoted-actualStatus-tombstone\"},void 0,/*#__PURE__*/_jsx(\"p\",{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"actualStatuses.quote_tombstone\",defaultMessage:\"Post is unavailable.\"})));}else{quote=/*#__PURE__*/_jsx(QuotedStatus,{statusId:actualStatus.quote});}}return/*#__PURE__*/_jsx(\"div\",{className:\"border-box\"},void 0,/*#__PURE__*/React.createElement(\"div\",{ref:node,className:\"detailed-actualStatus\",tabIndex:-1},/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 flex items-center justify-between gap-1\"},void 0,canTranslate?!actualStatus.translations.get(locale)?/*#__PURE__*/_jsx(Button,{theme:\"link\",size:\"sm\",onClick:handleTranslateStatus},void 0,/*#__PURE__*/_jsx(Icon,{className:\"mr-1\",src:require('@tabler/icons/language.svg')}),/*#__PURE__*/_jsx(FormattedMessage,{id:\"actualStatuses.translate\",defaultMessage:\"Translate\"})):/*#__PURE__*/_jsx(Text,{theme:\"subtle\",className:\"flex items-center\",size:\"xs\"},void 0,/*#__PURE__*/_jsx(Icon,{className:\"mr-1\",src:require('@tabler/icons/check.svg')}),/*#__PURE__*/_jsx(FormattedMessage,{id:\"actualStatuses.translated\",defaultMessage:\"Translate\"})):/*#__PURE__*/_jsx(Icon,{className:\"text-gray-300 dark:text-slate-500\",src:require('@tabler/icons/note.svg')}),/*#__PURE__*/_jsx(Icon,{\"aria-hidden\":true,src:privacyIcon,className:\"h-5 w-5 shrink-0 text-gray-400 dark:text-gray-600\"})),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\"},void 0,/*#__PURE__*/_jsx(AccountContainer,{id:account.id,timestamp:actualStatus.created_at,avatarSize:42,hideActions:true},account.id)),/*#__PURE__*/_jsx(StatusReplyMentions,{status:actualStatus}),/*#__PURE__*/_jsx(StatusContent,{status:actualStatus,expanded:!actualStatus.hidden,onExpandedToggle:handleExpandedToggle}),actualStatus.translations.get(locale)&&!actualStatus.hidden&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(\"hr\",{className:\"my-3\"}),/*#__PURE__*/_jsx(Text,{className:\"mb-1\",size:\"md\",weight:\"medium\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"actualStatuses.translate_done\",defaultMessage:\"Status translated to {locale}\",values:{locale:localeTranslated}})),/*#__PURE__*/_jsx(\"div\",{className:\"status__content\",lang:locale,dangerouslySetInnerHTML:{__html:actualStatus.translations.get(locale)}})),/*#__PURE__*/_jsx(StatusMedia,{status:actualStatus,showMedia:showMedia,onToggleVisibility:onToggleMediaVisibility}),!actualStatus.hidden&&quote,/*#__PURE__*/_jsx(HStack,{justifyContent:\"between\",alignItems:\"center\",className:\"py-2\"},void 0,/*#__PURE__*/_jsx(StatusInteractionBar,{status:actualStatus}),/*#__PURE__*/_jsx(Stack,{space:1,className:\"items-end mb-3\"},void 0,/*#__PURE__*/_jsx(\"span\",{},void 0,/*#__PURE__*/_jsx(\"a\",{href:actualStatus.url,target:\"_blank\",rel:\"noopener\",className:\"hover:underline\"},void 0,/*#__PURE__*/_jsx(Text,{tag:\"span\",theme:\"muted\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedDate,{value:new Date(actualStatus.created_at),hour12:false,year:\"numeric\",month:\"short\",day:\"2-digit\",hour:\"2-digit\",minute:\"2-digit\"}))),actualStatus.edited_at&&/*#__PURE__*/React.createElement(React.Fragment,null,' · ',/*#__PURE__*/_jsx(\"div\",{className:\"inline hover:underline\",onClick:handleOpenCompareHistoryModal,role:\"button\",tabIndex:0},void 0,/*#__PURE__*/_jsx(Text,{tag:\"span\",theme:\"muted\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"actualStatus.edited\",defaultMessage:\"Edited {date}\",values:{date:intl.formatDate(new Date(actualStatus.edited_at),{hour12:false,month:'short',day:'2-digit',hour:'2-digit',minute:'2-digit'})}})))))))));};export default DetailedStatus;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{FormattedMessage}from'react-intl';import{Card,CardTitle,Text,Stack,Button}from'soapbox/components/ui';import{useAppSelector}from'soapbox/hooks';/** Prompts logged-out users to log in when viewing a thread. */const ThreadLoginCta=()=>{const siteTitle=useAppSelector(state=>state.instance.title);const registrationOpen=useAppSelector(state=>state.instance.registrations);if(!registrationOpen)return null;return/*#__PURE__*/_jsx(Card,{className:\"px-6 py-12 space-y-6 text-center\",variant:\"rounded\"},void 0,/*#__PURE__*/_jsx(Stack,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"thread_login.title\",defaultMessage:\"Continue the conversation\"})}),/*#__PURE__*/_jsx(Text,{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"thread_login.message\",defaultMessage:\"Join {siteTitle} to get the full story and details.\",values:{siteTitle}}))),/*#__PURE__*/_jsx(Stack,{space:4,className:\"max-w-xs mx-auto\"},void 0,/*#__PURE__*/_jsx(Button,{theme:\"secondary\",to:\"/login\",block:true},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"thread_login.login\",defaultMessage:\"Log in\"})),/*#__PURE__*/_jsx(Button,{to:\"/signup\",block:true},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"thread_login.signup\",defaultMessage:\"Sign up\"}))));};export default ThreadLoginCta;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import classNames from'classnames';import{OrderedSet as ImmutableOrderedSet}from'immutable';import React from'react';import StatusContainer from'soapbox/containers/status_container';import PlaceholderStatus from'soapbox/features/placeholder/components/placeholder_status';import{useAppSelector}from'soapbox/hooks';/** Status with reply-connector in threads. */const ThreadStatus=props=>{const{id,focusedStatusId}=props;const replyToId=useAppSelector(state=>state.contexts.inReplyTos.get(id));const replyCount=useAppSelector(state=>state.contexts.replies.get(id,ImmutableOrderedSet()).size);const isLoaded=useAppSelector(state=>Boolean(state.statuses.get(id)));const renderConnector=()=>{const isConnectedTop=replyToId&&replyToId!==focusedStatusId;const isConnectedBottom=replyCount>0;const isConnected=isConnectedTop||isConnectedBottom;if(!isConnected)return null;return/*#__PURE__*/_jsx(\"div\",{className:classNames('thread__connector',{'thread__connector--top':isConnectedTop,'thread__connector--bottom':isConnectedBottom})});};return/*#__PURE__*/_jsx(\"div\",{className:\"thread__status\"},void 0,renderConnector(),isLoaded?/*#__PURE__*/ // @ts-ignore FIXME\nReact.createElement(StatusContainer,props):/*#__PURE__*/_jsx(PlaceholderStatus,{thread:true}));};export default ThreadStatus;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _debounce from\"lodash/debounce\";import\"core-js/modules/es.array.includes.js\";import\"core-js/modules/web.dom-collections.iterator.js\";import\"core-js/modules/es.string.replace.js\";import\"core-js/modules/web.immediate.js\";import classNames from'classnames';import{List as ImmutableList,OrderedSet as ImmutableOrderedSet}from'immutable';import React,{useCallback,useEffect,useRef,useState}from'react';import{HotKeys}from'react-hotkeys';import{defineMessages,useIntl}from'react-intl';import{useHistory}from'react-router-dom';import{createSelector}from'reselect';import{replyCompose,mentionCompose}from'soapbox/actions/compose';import{favourite,unfavourite,reblog,unreblog}from'soapbox/actions/interactions';import{openModal}from'soapbox/actions/modals';import{getSettings}from'soapbox/actions/settings';import{hideStatus,revealStatus,fetchStatusWithContext,fetchNext,translateStatus}from'soapbox/actions/statuses';import MissingIndicator from'soapbox/components/missing_indicator';import PullToRefresh from'soapbox/components/pull-to-refresh';import ScrollableList from'soapbox/components/scrollable_list';import StatusActionBar from'soapbox/components/status-action-bar';import Sticky from'soapbox/components/sticky';import SubNavigation from'soapbox/components/sub_navigation';import Tombstone from'soapbox/components/tombstone';import{Column,Stack}from'soapbox/components/ui';import PlaceholderStatus from'soapbox/features/placeholder/components/placeholder_status';import PendingStatus from'soapbox/features/ui/components/pending_status';import{useAppDispatch,useAppSelector,useSettings}from'soapbox/hooks';import{makeGetStatus}from'soapbox/selectors';import{defaultMediaVisibility,textForScreenReader}from'soapbox/utils/status';import DetailedStatus from'./components/detailed-status';import ThreadLoginCta from'./components/thread-login-cta';import ThreadStatus from'./components/thread-status';const messages=defineMessages({title:{\"id\":\"status.title\",\"defaultMessage\":\"@{username}'s Post\"},titleDirect:{\"id\":\"status.title_direct\",\"defaultMessage\":\"Direct message\"},deleteConfirm:{\"id\":\"confirmations.delete.confirm\",\"defaultMessage\":\"Delete\"},deleteHeading:{\"id\":\"confirmations.delete.heading\",\"defaultMessage\":\"Delete post\"},deleteMessage:{\"id\":\"confirmations.delete.message\",\"defaultMessage\":\"Are you sure you want to delete this post?\"},redraftConfirm:{\"id\":\"confirmations.redraft.confirm\",\"defaultMessage\":\"Delete & redraft\"},redraftHeading:{\"id\":\"confirmations.redraft.heading\",\"defaultMessage\":\"Delete & redraft\"},redraftMessage:{\"id\":\"confirmations.redraft.message\",\"defaultMessage\":\"Are you sure you want to delete this post and re-draft it? Favorites and reposts will be lost, and replies to the original post will be orphaned.\"},blockConfirm:{\"id\":\"confirmations.block.confirm\",\"defaultMessage\":\"Block\"},revealAll:{\"id\":\"status.show_more_all\",\"defaultMessage\":\"Show more for all\"},hideAll:{\"id\":\"status.show_less_all\",\"defaultMessage\":\"Show less for all\"},detailedStatus:{\"id\":\"status.detailed_status\",\"defaultMessage\":\"Detailed conversation view\"},replyConfirm:{\"id\":\"confirmations.reply.confirm\",\"defaultMessage\":\"Reply\"},replyMessage:{\"id\":\"confirmations.reply.message\",\"defaultMessage\":\"Replying now will overwrite the message you are currently composing. Are you sure you want to proceed?\"},blockAndReport:{\"id\":\"confirmations.block.block_and_report\",\"defaultMessage\":\"Block & Report\"}});const getStatus=makeGetStatus();const getAncestorsIds=createSelector([(_,statusId)=>statusId,state=>state.contexts.inReplyTos],(statusId,inReplyTos)=>{let ancestorsIds=ImmutableOrderedSet();let id=statusId;while(id&&!ancestorsIds.includes(id)){ancestorsIds=ImmutableOrderedSet([id]).union(ancestorsIds);id=inReplyTos.get(id);}return ancestorsIds;});const getDescendantsIds=createSelector([(_,statusId)=>statusId,state=>state.contexts.replies],(statusId,contextReplies)=>{let descendantsIds=ImmutableOrderedSet();const ids=[statusId];while(ids.length>0){const id=ids.shift();if(!id)break;const replies=contextReplies.get(id);if(descendantsIds.includes(id)){break;}if(statusId!==id){descendantsIds=descendantsIds.union([id]);}if(replies){replies.reverse().forEach(reply=>{ids.unshift(reply);});}}return descendantsIds;});const Thread=props=>{const intl=useIntl();const history=useHistory();const dispatch=useAppDispatch();const settings=useSettings();const me=useAppSelector(state=>state.me);const status=useAppSelector(state=>getStatus(state,{id:props.params.statusId}));const displayMedia=settings.get('displayMedia');const askReplyConfirmation=useAppSelector(state=>state.compose.text.trim().length!==0);const{ancestorsIds,descendantsIds}=useAppSelector(state=>{let ancestorsIds=ImmutableOrderedSet();let descendantsIds=ImmutableOrderedSet();if(status){const statusId=status.id;ancestorsIds=getAncestorsIds(state,state.contexts.inReplyTos.get(statusId));descendantsIds=getDescendantsIds(state,statusId);ancestorsIds=ancestorsIds.delete(statusId).subtract(descendantsIds);descendantsIds=descendantsIds.delete(statusId).subtract(ancestorsIds);}return{status,ancestorsIds,descendantsIds};});const[showMedia,setShowMedia]=useState(defaultMediaVisibility(status,displayMedia));const[isLoaded,setIsLoaded]=useState(!!status);const[next,setNext]=useState();const node=useRef(null);const statusRef=useRef(null);const scroller=useRef(null);/** Fetch the status (and context) from the API. */const fetchData=async()=>{const{params}=props;const{statusId}=params;const{next}=await dispatch(fetchStatusWithContext(statusId));setNext(next);};// Load data.\nuseEffect(()=>{fetchData().then(()=>{setIsLoaded(true);}).catch(error=>{setIsLoaded(true);});},[props.params.statusId]);const handleToggleMediaVisibility=()=>{setShowMedia(!showMedia);};const handleHotkeyReact=()=>{if(statusRef.current){const firstEmoji=statusRef.current.querySelector('.emoji-react-selector .emoji-react-selector__emoji');firstEmoji===null||firstEmoji===void 0?void 0:firstEmoji.focus();}};const handleFavouriteClick=status=>{if(status.favourited){dispatch(unfavourite(status));}else{dispatch(favourite(status));}};const handleReplyClick=status=>{if(askReplyConfirmation){dispatch(openModal('CONFIRM',{message:intl.formatMessage(messages.replyMessage),confirm:intl.formatMessage(messages.replyConfirm),onConfirm:()=>dispatch(replyCompose(status))}));}else{dispatch(replyCompose(status));}};const handleModalReblog=status=>{dispatch(reblog(status));};const handleReblogClick=(status,e)=>{dispatch((_,getState)=>{const boostModal=getSettings(getState()).get('boostModal');if(status.reblogged){dispatch(unreblog(status));}else{if(e&&e.shiftKey||!boostModal){handleModalReblog(status);}else{dispatch(openModal('BOOST',{status,onReblog:handleModalReblog}));}}});};const handleMentionClick=account=>{dispatch(mentionCompose(account));};const handleOpenMedia=(media,index)=>{dispatch(openModal('MEDIA',{media,index}));};const handleOpenVideo=(media,time)=>{dispatch(openModal('VIDEO',{media,time}));};const handleHotkeyOpenMedia=e=>{const{onOpenMedia,onOpenVideo}=props;const firstAttachment=status===null||status===void 0?void 0:status.media_attachments.get(0);e===null||e===void 0?void 0:e.preventDefault();if(status&&firstAttachment){if(firstAttachment.type==='video'){onOpenVideo(firstAttachment,0);}else{onOpenMedia(status.media_attachments,0);}}};const handleToggleHidden=status=>{if(status.hidden){dispatch(revealStatus(status.id));}else{dispatch(hideStatus(status.id));}};const handleHotkeyMoveUp=()=>{handleMoveUp(status.id);};const handleHotkeyMoveDown=()=>{handleMoveDown(status.id);};const handleHotkeyReply=e=>{e===null||e===void 0?void 0:e.preventDefault();handleReplyClick(status);};const handleHotkeyFavourite=()=>{handleFavouriteClick(status);};const handleHotkeyBoost=()=>{handleReblogClick(status);};const handleHotkeyMention=e=>{e===null||e===void 0?void 0:e.preventDefault();const{account}=status;if(!account||typeof account!=='object')return;handleMentionClick(account);};const handleHotkeyOpenProfile=()=>{history.push(\"/@\".concat(status.getIn(['account','acct'])));};const handleHotkeyToggleHidden=()=>{handleToggleHidden(status);};const handleHotkeyToggleSensitive=()=>{handleToggleMediaVisibility();};const handleTranslate=React.useCallback((status,language)=>{dispatch(translateStatus(status.id,language));},[]);const handleMoveUp=id=>{if(id===(status===null||status===void 0?void 0:status.id)){_selectChild(ancestorsIds.size-1);}else{let index=ImmutableList(ancestorsIds).indexOf(id);if(index===-1){index=ImmutableList(descendantsIds).indexOf(id);_selectChild(ancestorsIds.size+index);}else{_selectChild(index-1);}}};const handleMoveDown=id=>{if(id===(status===null||status===void 0?void 0:status.id)){_selectChild(ancestorsIds.size+1);}else{let index=ImmutableList(ancestorsIds).indexOf(id);if(index===-1){index=ImmutableList(descendantsIds).indexOf(id);_selectChild(ancestorsIds.size+index+2);}else{_selectChild(index+1);}}};const _selectChild=index=>{var _scroller$current;(_scroller$current=scroller.current)===null||_scroller$current===void 0?void 0:_scroller$current.scrollIntoView({index,behavior:'smooth',done:()=>{const element=document.querySelector(\"#thread [data-index=\\\"\".concat(index,\"\\\"] .focusable\"));if(element){element.focus();}}});};const renderTombstone=id=>{return/*#__PURE__*/_jsx(\"div\",{className:\"py-4 pb-8\"},void 0,/*#__PURE__*/_jsx(Tombstone,{id:id,onMoveUp:handleMoveUp,onMoveDown:handleMoveDown},id));};const renderStatus=id=>{return/*#__PURE__*/_jsx(ThreadStatus,{id:id,focusedStatusId:status.id,onMoveUp:handleMoveUp,onMoveDown:handleMoveDown},id);};const renderPendingStatus=id=>{const idempotencyKey=id.replace(/^末pending-/,'');return/*#__PURE__*/_jsx(PendingStatus,{className:\"thread__status\",idempotencyKey:idempotencyKey},id);};const renderChildren=list=>{return list.map(id=>{if(id.endsWith('-tombstone')){return renderTombstone(id);}else if(id.startsWith('末pending-')){return renderPendingStatus(id);}else{return renderStatus(id);}});};// Reset media visibility if status changes.\nuseEffect(()=>{setShowMedia(defaultMediaVisibility(status,displayMedia));},[status===null||status===void 0?void 0:status.id]);// Scroll focused status into view when thread updates.\nuseEffect(()=>{var _scroller$current2;(_scroller$current2=scroller.current)===null||_scroller$current2===void 0?void 0:_scroller$current2.scrollToIndex({index:ancestorsIds.size,offset:-80});setImmediate(()=>{var _statusRef$current,_statusRef$current$qu;return(_statusRef$current=statusRef.current)===null||_statusRef$current===void 0?void 0:(_statusRef$current$qu=_statusRef$current.querySelector('.detailed-status'))===null||_statusRef$current$qu===void 0?void 0:_statusRef$current$qu.focus();});},[props.params.statusId,status===null||status===void 0?void 0:status.id,ancestorsIds.size,isLoaded]);const handleRefresh=()=>{return fetchData();};const handleLoadMore=useCallback(_debounce(()=>{if(next&&status){dispatch(fetchNext(status.id,next)).then(_ref=>{let{next}=_ref;setNext(next);}).catch(()=>{});}},300,{leading:true}),[next,status]);const handleOpenCompareHistoryModal=status=>{dispatch(openModal('COMPARE_HISTORY',{statusId:status.id}));};const hasAncestors=ancestorsIds.size>0;const hasDescendants=descendantsIds.size>0;if(!status&&isLoaded){return/*#__PURE__*/_jsx(MissingIndicator,{});}else if(!status){return/*#__PURE__*/_jsx(PlaceholderStatus,{});}const handlers={moveUp:handleHotkeyMoveUp,moveDown:handleHotkeyMoveDown,reply:handleHotkeyReply,favourite:handleHotkeyFavourite,boost:handleHotkeyBoost,mention:handleHotkeyMention,openProfile:handleHotkeyOpenProfile,toggleHidden:handleHotkeyToggleHidden,toggleSensitive:handleHotkeyToggleSensitive,openMedia:handleHotkeyOpenMedia,react:handleHotkeyReact};const username=String(status.getIn(['account','acct']));const titleMessage=status.visibility==='direct'?messages.titleDirect:messages.title;const focusedStatus=/*#__PURE__*/_jsx(\"div\",{className:classNames('thread__detailed-status',{'pb-4':hasDescendants})},status.id,/*#__PURE__*/_jsx(HotKeys,{handlers:handlers},void 0,/*#__PURE__*/React.createElement(\"div\",{ref:statusRef,className:\"detailed-status__wrapper focusable\",tabIndex:0// FIXME: no \"reblogged by\" text is added for the screen reader\n,\"aria-label\":textForScreenReader(intl,status)},/*#__PURE__*/_jsx(DetailedStatus,{status:status,onOpenVideo:handleOpenVideo,onOpenMedia:handleOpenMedia,onToggleHidden:handleToggleHidden,showMedia:showMedia,onToggleMediaVisibility:handleToggleMediaVisibility,onOpenCompareHistoryModal:handleOpenCompareHistoryModal,onTranslate:handleTranslate}),/*#__PURE__*/_jsx(\"hr\",{className:\"mb-2 dark:border-slate-600\"}),/*#__PURE__*/_jsx(StatusActionBar,{status:status,expandable:false,space:\"expand\",withLabels:true}))),hasDescendants&&/*#__PURE__*/_jsx(\"hr\",{className:\"mt-2 dark:border-slate-600\"}));const children=[];if(hasAncestors){children.push(...renderChildren(ancestorsIds).toArray());}children.push(focusedStatus);if(hasDescendants){children.push(...renderChildren(descendantsIds).toArray());}return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(titleMessage,{username}),transparent:true,withHeader:false},void 0,/*#__PURE__*/_jsx(Sticky,{stickyClassName:\"sm:hidden w-full shadow-lg before:-z-10 before:bg-gradient-sm before:w-full before:h-full before:absolute before:top-0 before:left-0  bg-white dark:bg-slate-900\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pt-4 sm:p-0\"},void 0,/*#__PURE__*/_jsx(SubNavigation,{message:intl.formatMessage(titleMessage,{username})}))),/*#__PURE__*/_jsx(PullToRefresh,{onRefresh:handleRefresh},void 0,/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/React.createElement(\"div\",{ref:node,className:\"thread\"},/*#__PURE__*/React.createElement(ScrollableList,{id:\"thread\",ref:scroller,hasMore:!!next,onLoadMore:handleLoadMore,placeholderComponent:()=>/*#__PURE__*/_jsx(PlaceholderStatus,{thread:true}),initialTopMostItemIndex:ancestorsIds.size},children)),!me&&/*#__PURE__*/_jsx(ThreadLoginCta,{}))));};export default Thread;"],"names":["_ref","className","stickyClassName","children","root","node","sticky","setSticky","onSticky","e","find","entry","isIntersecting","observer","IntersectionObserver","threshold","observe","current","disconnect","ref","concat","id","onMoveUp","onMoveDown","handlers","moveUp","moveDown","HotKeys","tabIndex","defaultMessage","status","me","_ref2","dispatch","features","account","emojiReacts","count","onOpenUnauthorizedModal","getNormalizedReacts","pleroma","get","favourites_count","favourited","reverse","space","reduce","acc","cur","alignItems","map","i","exposableReactions","emoji","onClick","reaction","username","statusId","onOpenReactionsModal","acct","String","undefined","theme","size","value","src","iconClassName","role","preventDefault","reblogs_count","quote","onToggleHidden","onOpenCompareHistoryModal","onToggleMediaVisibility","onTranslate","showMedia","intl","useIntl","useRef","ownAccount","locale","state","localeTranslated","Intl","DisplayNames","type","of","instance","logo","actualStatus","canTranslate","translations","language","handleTranslateStatus","privacyIcon","visibility","timestamp","created_at","avatarSize","hideActions","expanded","hidden","onExpandedToggle","weight","values","lang","dangerouslySetInnerHTML","__html","onToggleVisibility","justifyContent","href","url","target","rel","tag","Date","hour12","year","month","day","hour","minute","edited_at","date","formatDate","siteTitle","title","registrations","variant","to","block","props","isConnectedTop","isConnectedBottom","focusedStatusId","replyToId","contexts","inReplyTos","replyCount","replies","isLoaded","Boolean","statuses","thread","messages","titleDirect","deleteConfirm","deleteHeading","deleteMessage","redraftConfirm","redraftHeading","redraftMessage","blockConfirm","revealAll","hideAll","detailedStatus","replyConfirm","replyMessage","blockAndReport","getStatus","getAncestorsIds","_","ancestorsIds","includes","union","getDescendantsIds","contextReplies","descendantsIds","ids","length","shift","forEach","reply","unshift","history","settings","params","displayMedia","askReplyConfirmation","compose","text","trim","delete","subtract","useState","setShowMedia","setIsLoaded","next","setNext","statusRef","scroller","fetchData","useEffect","then","catch","error","handleToggleMediaVisibility","handleModalReblog","handleToggleHidden","handleTranslate","handleMoveUp","_selectChild","index","indexOf","handleMoveDown","_scroller$current","scrollIntoView","behavior","done","element","document","querySelector","focus","renderChildren","list","endsWith","renderTombstone","startsWith","idempotencyKey","replace","renderPendingStatus","renderStatus","_scroller$current2","scrollToIndex","offset","setImmediate","_statusRef$current","_statusRef$current$qu","handleLoadMore","useCallback","leading","hasAncestors","hasDescendants","message","formatMessage","confirm","onConfirm","handleReplyClick","favourite","handleFavouriteClick","boost","getState","boostModal","reblogged","onReblog","handleReblogClick","mention","handleMentionClick","openProfile","push","getIn","toggleHidden","toggleSensitive","openMedia","onOpenMedia","onOpenVideo","firstAttachment","media_attachments","react","firstEmoji","titleMessage","focusedStatus","media","time","expandable","withLabels","toArray","label","transparent","withHeader","onRefresh","hasMore","onLoadMore","placeholderComponent","initialTopMostItemIndex"],"sourceRoot":""}