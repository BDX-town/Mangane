"use strict";(self.webpackChunkmangane_fe=self.webpackChunkmangane_fe||[]).push([[25],{1024:function(e,t,a){a.r(t);var s=a(1846),l=(a(2),a(109),a(0)),c=a(1642),o=a(1836),d=a(96),n=a(12),u=a(1),i=a(3),r=(0,c.vU)({passwordFieldLabel:{id:"security.fields.password.label",defaultMessage:"Password"},deleteHeader:{id:"security.headers.delete",defaultMessage:"Delete Account"},deleteText:{id:"security.text.delete",defaultMessage:"To delete your account, enter your password then click Delete Account. This is a permanent action that cannot be undone. Your account will be destroyed from this server, and a deletion request will be sent to other servers. It's not guaranteed that all servers will purge your account."},localDeleteText:{id:"security.text.delete.local",defaultMessage:"To delete your account, enter your password then click Delete Account. This is a permanent action that cannot be undone."},deleteSubmit:{id:"security.submit.delete",defaultMessage:"Delete Account"},deleteAccountSuccess:{id:"security.delete_account.success",defaultMessage:"Account successfully deleted."},deleteAccountFail:{id:"security.delete_account.fail",defaultMessage:"Account deletion failed."}});t.default=function(){var e=(0,o.Z)(),t=(0,i.TL)(),a=(0,i.hz)(),c=l.useState(""),f=c[0],g=c[1],b=l.useState(!1),m=b[0],h=b[1],y=l.useCallback((function(e){e.persist(),g(e.target.value)}),[]),p=l.useCallback((function(){h(!0),t((0,d.tm)(f)).then((function(){g(""),t(n.ZP.success(e.formatMessage(r.deleteAccountSuccess)))})).finally((function(){h(!1)})).catch((function(){g(""),t(n.ZP.error(e.formatMessage(r.deleteAccountFail)))}))}),[f,t,e]);return(0,s.Z)(u.Zb,{variant:"rounded"},void 0,(0,s.Z)(u.Ol,{backHref:"/settings"},void 0,(0,s.Z)(u.ll,{title:e.formatMessage(r.deleteHeader)})),(0,s.Z)(u.eW,{},void 0,(0,s.Z)("p",{className:"text-gray-400 mb-4"},void 0,e.formatMessage(a.federating?r.deleteText:r.localDeleteText)),(0,s.Z)(u.l0,{onSubmit:p},void 0,(0,s.Z)(u.cw,{labelText:e.formatMessage(r.passwordFieldLabel)},void 0,(0,s.Z)(u.II,{type:"password",name:"password",onChange:y,value:f})),(0,s.Z)(u.iN,{},void 0,(0,s.Z)(u.zx,{type:"submit",theme:"danger",disabled:m},void 0,e.formatMessage(r.deleteSubmit))))))}}}]);
//# sourceMappingURL=delete_account-f6806b6fdc552091ff89.chunk.js.map