{"version":3,"file":"packs/js/features/public_timeline-f8657df0e3e1c9a8912b.chunk.js","mappings":"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","sources":["webpack://mangane-fe/./app/soapbox/features/bubble_timeline/index.tsx","webpack://mangane-fe/./app/soapbox/features/public_timeline/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React,{useEffect}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{Link}from'react-router-dom';import{changeSetting}from'soapbox/actions/settings';import{expandBubbleTimeline}from'soapbox/actions/timelines';import PullToRefresh from'soapbox/components/pull-to-refresh';import SubNavigation from'soapbox/components/sub_navigation';import{Button,Column,Text}from'soapbox/components/ui';import{useAppDispatch,useAppSelector,useSettings}from'soapbox/hooks';import Timeline from'../ui/components/timeline';const messages=defineMessages({title:{\"id\":\"tabs_bar.bubble\",\"defaultMessage\":\"Featured\"}});const BubbleTimeline=()=>{const intl=useIntl();const dispatch=useAppDispatch();const settings=useSettings();const onlyMedia=settings.getIn(['public','other','onlyMedia']);const siteTitle=useAppSelector(state=>state.instance.title);const showExplanationBox=settings.get('showExplanationBox');const dismissExplanationBox=React.useCallback(()=>{dispatch(changeSetting(['showExplanationBox'],false));},[dispatch]);const handleLoadMore=React.useCallback(maxId=>{dispatch(expandBubbleTimeline({maxId,onlyMedia}));},[dispatch,onlyMedia]);const handleRefresh=React.useCallback(()=>{return dispatch(expandBubbleTimeline({onlyMedia}));},[dispatch,onlyMedia]);useEffect(()=>{dispatch(expandBubbleTimeline({onlyMedia}));// bubble timeline doesnt have streaming for now\n},[onlyMedia]);return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.title),transparent:true,withHeader:false},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pt-4 sm:p-0\"},void 0,/*#__PURE__*/_jsx(SubNavigation,{message:intl.formatMessage(messages.title)})),showExplanationBox&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\"},void 0,/*#__PURE__*/_jsx(Text,{size:\"lg\",weight:\"bold\",className:\"mb-2\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"fediverse_tab.explanation_box.title\",defaultMessage:\"What is the Fediverse?\"})),/*#__PURE__*/_jsx(FormattedMessage,{id:\"fediverse_tab.explanation_box.explanation\",defaultMessage:\"{site_title} is part of the Fediverse, a social network made up of thousands of independent social media sites (aka \\\"servers\\\"). The posts you see here are from 3rd-party servers. You have the freedom to engage with them, or to block any server you don't like. Pay attention to the full username after the second @ symbol to know which server a post is from. To see only {site_title} posts, visit {local}.\",values:{site_title:siteTitle,local:/*#__PURE__*/_jsx(Link,{to:\"/timeline/local\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.home.local_tab\",defaultMessage:\"the {site_title} tab\",values:{site_title:siteTitle}}))}}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"fediverse_tab.explanation_box.bubble\",defaultMessage:\"This timeline shows you all the statuses published on a selection of other instances curated by your moderators.\"})),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\"},void 0,/*#__PURE__*/_jsx(Button,{theme:\"link\",onClick:dismissExplanationBox},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"fediverse_tab.explanation_box.dismiss\",defaultMessage:\"Don\\\\'t show again\"})))),/*#__PURE__*/_jsx(PullToRefresh,{onRefresh:handleRefresh},void 0,/*#__PURE__*/_jsx(Timeline,{scrollKey:'bubble_timeline',timelineId:\"bubble\".concat(onlyMedia?':media':''),onLoadMore:handleLoadMore,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.public\",defaultMessage:\"There is nothing here! Write something publicly, or manually follow users from other servers to fill it up\"}),divideType:\"space\"})));};export default BubbleTimeline;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React,{useEffect}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{Link}from'react-router-dom';import{changeSetting}from'soapbox/actions/settings';import{connectPublicStream}from'soapbox/actions/streaming';import{expandPublicTimeline}from'soapbox/actions/timelines';import PullToRefresh from'soapbox/components/pull-to-refresh';import SubNavigation from'soapbox/components/sub_navigation';import{Button,Column,Text}from'soapbox/components/ui';import{useAppDispatch,useAppSelector,useSettings}from'soapbox/hooks';import Timeline from'../ui/components/timeline';const messages=defineMessages({title:{\"id\":\"column.public\",\"defaultMessage\":\"Explore\"}});const CommunityTimeline=()=>{const intl=useIntl();const dispatch=useAppDispatch();const settings=useSettings();const onlyMedia=settings.getIn(['public','other','onlyMedia']);const siteTitle=useAppSelector(state=>state.instance.title);const showExplanationBox=settings.get('showExplanationBox');const dismissExplanationBox=React.useCallback(()=>{dispatch(changeSetting(['showExplanationBox'],false));},[dispatch]);const handleLoadMore=React.useCallback(maxId=>{dispatch(expandPublicTimeline({maxId,onlyMedia}));},[dispatch,onlyMedia]);const handleRefresh=React.useCallback(()=>{return dispatch(expandPublicTimeline({onlyMedia}));},[dispatch,onlyMedia]);useEffect(()=>{dispatch(expandPublicTimeline({onlyMedia}));const disconnect=dispatch(connectPublicStream({onlyMedia}));return()=>{disconnect();};},[onlyMedia]);return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.title),transparent:true,withHeader:false},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pt-4 sm:p-0\"},void 0,/*#__PURE__*/_jsx(SubNavigation,{message:intl.formatMessage(messages.title)})),showExplanationBox&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\"},void 0,/*#__PURE__*/_jsx(Text,{size:\"lg\",weight:\"bold\",className:\"mb-2\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"fediverse_tab.explanation_box.title\",defaultMessage:\"What is the Fediverse?\"})),/*#__PURE__*/_jsx(FormattedMessage,{id:\"fediverse_tab.explanation_box.explanation\",defaultMessage:\"{site_title} is part of the Fediverse, a social network made up of thousands of independent social media sites (aka \\\"servers\\\"). The posts you see here are from 3rd-party servers. You have the freedom to engage with them, or to block any server you don't like. Pay attention to the full username after the second @ symbol to know which server a post is from. To see only {site_title} posts, visit {local}.\",values:{site_title:siteTitle,local:/*#__PURE__*/_jsx(Link,{to:\"/timeline/local\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.home.local_tab\",defaultMessage:\"the {site_title} tab\",values:{site_title:siteTitle}}))}}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\"},void 0,/*#__PURE__*/_jsx(Button,{theme:\"link\",onClick:dismissExplanationBox},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"fediverse_tab.explanation_box.dismiss\",defaultMessage:\"Don\\\\'t show again\"})))),/*#__PURE__*/_jsx(PullToRefresh,{onRefresh:handleRefresh},void 0,/*#__PURE__*/_jsx(Timeline,{scrollKey:'public_timeline',timelineId:\"public\".concat(onlyMedia?':media':''),onLoadMore:handleLoadMore,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.public\",defaultMessage:\"There is nothing here! Write something publicly, or manually follow users from other servers to fill it up\"}),divideType:\"space\"})));};export default CommunityTimeline;"],"names":["messages","title","intl","dispatch","settings","onlyMedia","getIn","siteTitle","state","instance","showExplanationBox","get","dismissExplanationBox","handleLoadMore","maxId","handleRefresh","useEffect","label","formatMessage","transparent","withHeader","className","message","size","weight","id","defaultMessage","values","site_title","local","to","theme","onClick","onRefresh","scrollKey","timelineId","concat","onLoadMore","emptyMessage","divideType","disconnect"],"sourceRoot":""}