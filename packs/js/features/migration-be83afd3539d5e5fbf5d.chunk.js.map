{"version":3,"file":"packs/js/features/migration-be83afd3539d5e5fbf5d.chunk.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAI,IAAI,EACJ,MAAM,EACN,OAAO,EACP,YAAY,GAAG,2EAA2E,CAAC;AAEtC;AAEzD,SAAS,eAAe,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,GAAG,EAAE;IAAE,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;CAAE;KAAM;IAAE,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;CAAE,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;AAE9K;AACT;AAC0C;AACM;AACpC;AACE;AACe;AACP,CAAC,8DAA8D;AAEb;AAClG,IAAM,QAAQ,GAAG,0DAAc,CAAC;IAC9B,OAAO,EAAE;QACP,IAAI,EAAE,kBAAkB;QACxB,gBAAgB,EAAE,mBAAmB;KACtC;IACD,MAAM,EAAE;QACN,IAAI,EAAE,kBAAkB;QACxB,gBAAgB,EAAE,gBAAgB;KACnC;IACD,kBAAkB,EAAE;QAClB,IAAI,EAAE,gCAAgC;QACtC,gBAAgB,EAAE,6BAA6B;KAChD;IACD,eAAe,EAAE;QACf,IAAI,EAAE,6BAA6B;QACnC,gBAAgB,EAAE,2BAA2B;KAC9C;IACD,cAAc,EAAE;QACd,IAAI,EAAE,6BAA6B;QACnC,gBAAgB,EAAE,2BAA2B;KAC9C;IACD,oBAAoB,EAAE;QACpB,IAAI,EAAE,mCAAmC;QACzC,gBAAgB,EAAE,iBAAiB;KACpC;IACD,yBAAyB,EAAE;QACzB,IAAI,EAAE,yCAAyC;QAC/C,gBAAgB,EAAE,kBAAkB;KACrC;CACF,CAAC,CAAC;AACH,IAAI,SAAS,GAAG,CAAC,IAAI,GAAG,oDAAO,EAAE,EAAE,IAAI,CAAC,MAAM,GAAG,sDAAU,CAAC,MAAM,GAAG,CAAC,OAAO;IAA2B,6BAAsB;IAC5H;QAAA,+BACW,SAAS,UA4CnB;QA1CC,eAAe,CAAC,KAAI,EAAE,OAAO,EAAE;YAC7B,aAAa,EAAE,EAAE;YACjB,QAAQ,EAAE,EAAE;YACZ,SAAS,EAAE,KAAK;SACjB,CAAC,CAAC;QAEH,eAAe,CAAC,KAAI,EAAE,mBAAmB,EAAE,WAAC;;YAC1C,KAAI,CAAC,QAAQ;gBACX,GAAC,CAAC,CAAC,MAAM,CAAC,IAAI,IAAG,CAAC,CAAC,MAAM,CAAC,KAAK;oBAC/B,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,eAAe,CAAC,KAAI,EAAE,WAAW,EAAE;YACjC,KAAI,CAAC,QAAQ,CAAC;gBACZ,aAAa,EAAE,EAAE;gBACjB,QAAQ,EAAE,EAAE;aACb,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,eAAe,CAAC,KAAI,EAAE,cAAc,EAAE,WAAC;YAC/B,SAGF,KAAI,CAAC,KAAK,EAFZ,aAAa,qBACb,QAAQ,cACI,CAAC;YACT,SAGF,KAAI,CAAC,KAAK,EAFZ,QAAQ,gBACR,IAAI,UACQ,CAAC;YACf,KAAI,CAAC,QAAQ,CAAC;gBACZ,SAAS,EAAE,IAAI;aAChB,CAAC,CAAC;YACH,OAAO,QAAQ,CAAC,qEAAW,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC;gBACzD,KAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,QAAQ,CAAC,wEAAgB,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;YAC9E,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;gBACZ,QAAQ,CAAC,sEAAc,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YACzE,CAAC,CAAC,CAAC,IAAI,CAAC;gBACN,KAAI,CAAC,QAAQ,CAAC;oBACZ,SAAS,EAAE,KAAK;iBACjB,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;;IACL,CAAC;IAED,0BAAM,GAAN;QAEI,QAAI,GACF,IAAI,CAAC,KAAK,KADR,CACS;QACf,OAAO,aAAa,iDAAmB,CAAC,yDAAM,EAAE;YAC9C,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC3C,MAAM,EAAE,IAAI;YACZ,QAAQ,EAAE;gBACR,QAAQ,EAAE,YAAY;gBACtB,UAAU,EAAE,EAAE;gBACd,YAAY,EAAE,CAAC;aAChB;SACF,EAAE,aAAa,iDAAmB,CAAC,uDAAI,EAAE;YACxC,QAAQ,EAAE,IAAI,CAAC,YAAY;YAC3B,MAAM,EAAE,IAAI;YACZ,QAAQ,EAAE;gBACR,QAAQ,EAAE,YAAY;gBACtB,UAAU,EAAE,EAAE;gBACd,YAAY,EAAE,CAAC;aAChB;SACF,EAAE,aAAa,iDAAmB,CAAC,uDAAI,EAAE;YACxC,KAAK,EAAE,OAAO;YACd,MAAM,EAAE,IAAI;YACZ,QAAQ,EAAE;gBACR,QAAQ,EAAE,YAAY;gBACtB,UAAU,EAAE,EAAE;gBACd,YAAY,EAAE,EAAE;aACjB;SACF,EAAE,aAAa,iDAAmB,CAAC,mDAAgB,EAAE;YACpD,EAAE,EAAE,gBAAgB;YACpB,cAAc,EAAE,oJAAoJ;YACpK,MAAM,EAAE;gBACN,IAAI,EAAE,aAAa,iDAAmB,CAAC,mDAAI,EAAE;oBAC3C,SAAS,EAAE,2GAA2G;oBACtH,EAAE,EAAE,mBAAmB;oBACvB,MAAM,EAAE,IAAI;oBACZ,QAAQ,EAAE;wBACR,QAAQ,EAAE,YAAY;wBACtB,UAAU,EAAE,EAAE;wBACd,YAAY,EAAE,EAAE;qBACjB;iBACF,EAAE,aAAa,iDAAmB,CAAC,mDAAgB,EAAE;oBACpD,EAAE,EAAE,qBAAqB;oBACzB,cAAc,EAAE,yBAAyB;oBACzC,MAAM,EAAE,IAAI;oBACZ,QAAQ,EAAE;wBACR,QAAQ,EAAE,YAAY;wBACtB,UAAU,EAAE,EAAE;wBACd,YAAY,EAAE,EAAE;qBACjB;iBACF,CAAC,CAAC;aACJ;YACD,MAAM,EAAE,IAAI;YACZ,QAAQ,EAAE;gBACR,QAAQ,EAAE,YAAY;gBACtB,UAAU,EAAE,EAAE;gBACd,YAAY,EAAE,EAAE;aACjB;SACF,CAAC,CAAC,EAAE,aAAa,iDAAmB,CAAC,4DAAS,EAAE;YAC/C,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,cAAc,CAAC;YACtD,MAAM,EAAE,IAAI;YACZ,QAAQ,EAAE;gBACR,QAAQ,EAAE,YAAY;gBACtB,UAAU,EAAE,EAAE;gBACd,YAAY,EAAE,EAAE;aACjB;SACF,EAAE,aAAa,iDAAmB,CAAC,wDAAK,EAAE;YACzC,IAAI,EAAE,eAAe;YACrB,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,oBAAoB,CAAC;YAC9D,QAAQ,EAAE,IAAI,CAAC,iBAAiB;YAChC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa;YAC/B,QAAQ,EAAE,IAAI;YACd,MAAM,EAAE,IAAI;YACZ,QAAQ,EAAE;gBACR,QAAQ,EAAE,YAAY;gBACtB,UAAU,EAAE,EAAE;gBACd,YAAY,EAAE,EAAE;aACjB;SACF,CAAC,CAAC,EAAE,aAAa,iDAAmB,CAAC,4DAAS,EAAE;YAC/C,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,yBAAyB,CAAC;YACjE,MAAM,EAAE,IAAI;YACZ,QAAQ,EAAE;gBACR,QAAQ,EAAE,YAAY;gBACtB,UAAU,EAAE,EAAE;gBACd,YAAY,EAAE,EAAE;aACjB;SACF,EAAE,aAAa,iDAAmB,CAAC,wDAAK,EAAE;YACzC,IAAI,EAAE,UAAU;YAChB,IAAI,EAAE,UAAU;YAChB,QAAQ,EAAE,IAAI,CAAC,iBAAiB;YAChC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC1B,QAAQ,EAAE,IAAI;YACd,MAAM,EAAE,IAAI;YACZ,QAAQ,EAAE;gBACR,QAAQ,EAAE,YAAY;gBACtB,UAAU,EAAE,EAAE;gBACd,YAAY,EAAE,EAAE;aACjB;SACF,CAAC,CAAC,EAAE,aAAa,iDAAmB,CAAC,8DAAW,EAAE;YACjD,MAAM,EAAE,IAAI;YACZ,QAAQ,EAAE;gBACR,QAAQ,EAAE,YAAY;gBACtB,UAAU,EAAE,GAAG;gBACf,YAAY,EAAE,EAAE;aACjB;SACF,EAAE,aAAa,iDAAmB,CAAC,yDAAM,EAAE;YAC1C,KAAK,EAAE,SAAS;YAChB,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC;YACzC,OAAO,EAAE,IAAI,CAAC,YAAY;YAC1B,MAAM,EAAE,IAAI;YACZ,QAAQ,EAAE;gBACR,QAAQ,EAAE,YAAY;gBACtB,UAAU,EAAE,GAAG;gBACf,YAAY,EAAE,EAAE;aACjB;SACF,CAAC,CAAC,CAAC,CAAC,CAAC;IACR,CAAC;IAEH,gBAAC;AAAD,CAAC,CAtKuG,sEAAsB,EAsK7H,EAAE,eAAe,CAAC,OAAO,EAAE,WAAW,EAAE;IACvC,QAAQ,EAAE,mEAAyB;IACnC,IAAI,EAAE,qEAA2B;CAClC,CAAC,EAAE,OAAO,CAAC,CAAC,IAAI,MAAM,CAAC,IAAI,MAAM,CAAC,CAAC;AACJ","sources":["webpack://mangane-fe/./app/soapbox/features/migration/index.js"],"sourcesContent":["var _dec,\n    _class,\n    _class2,\n    _jsxFileName = \"/home/runner/work/Mangane/Mangane/app/soapbox/features/migration/index.js\";\n\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { defineMessages, FormattedMessage, injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { moveAccount } from 'soapbox/actions/security';\nimport snackbar from 'soapbox/actions/snackbar'; // import Column from 'soapbox/features/ui/components/column';\n\nimport { Button, Column, Form, FormActions, FormGroup, Input, Text } from 'soapbox/components/ui';\nconst messages = defineMessages({\n  heading: {\n    \"id\": \"column.migration\",\n    \"defaultMessage\": \"Account migration\"\n  },\n  submit: {\n    \"id\": \"migration.submit\",\n    \"defaultMessage\": \"Move followers\"\n  },\n  moveAccountSuccess: {\n    \"id\": \"migration.move_account.success\",\n    \"defaultMessage\": \"Account successfully moved.\"\n  },\n  moveAccountFail: {\n    \"id\": \"migration.move_account.fail\",\n    \"defaultMessage\": \"Account migration failed.\"\n  },\n  acctFieldLabel: {\n    \"id\": \"migration.fields.acct.label\",\n    \"defaultMessage\": \"Handle of the new account\"\n  },\n  acctFieldPlaceholder: {\n    \"id\": \"migration.fields.acct.placeholder\",\n    \"defaultMessage\": \"username@domain\"\n  },\n  currentPasswordFieldLabel: {\n    \"id\": \"migration.fields.confirm_password.label\",\n    \"defaultMessage\": \"Current password\"\n  }\n});\nlet Migration = (_dec = connect(), _dec(_class = injectIntl(_class = (_class2 = class Migration extends ImmutablePureComponent {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"state\", {\n      targetAccount: '',\n      password: '',\n      isLoading: false\n    });\n\n    _defineProperty(this, \"handleInputChange\", e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    });\n\n    _defineProperty(this, \"clearForm\", () => {\n      this.setState({\n        targetAccount: '',\n        password: ''\n      });\n    });\n\n    _defineProperty(this, \"handleSubmit\", e => {\n      const {\n        targetAccount,\n        password\n      } = this.state;\n      const {\n        dispatch,\n        intl\n      } = this.props;\n      this.setState({\n        isLoading: true\n      });\n      return dispatch(moveAccount(targetAccount, password)).then(() => {\n        this.clearForm();\n        dispatch(snackbar.success(intl.formatMessage(messages.moveAccountSuccess)));\n      }).catch(error => {\n        dispatch(snackbar.error(intl.formatMessage(messages.moveAccountFail)));\n      }).then(() => {\n        this.setState({\n          isLoading: false\n        });\n      });\n    });\n  }\n\n  render() {\n    const {\n      intl\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Column, {\n      label: intl.formatMessage(messages.heading),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      theme: \"muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"migration.hint\",\n      defaultMessage: \"This will move your followers to the new account. No other data will be moved. To perform migration, you need to {link} on your new account first.\",\n      values: {\n        link: /*#__PURE__*/React.createElement(Link, {\n          className: \"hover:underline text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-500\",\n          to: \"/settings/aliases\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"migration.hint.link\",\n          defaultMessage: \"create an account alias\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }\n        }))\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      labelText: intl.formatMessage(messages.acctFieldLabel),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"targetAccount\",\n      placeholder: intl.formatMessage(messages.acctFieldPlaceholder),\n      onChange: this.handleInputChange,\n      value: this.state.targetAccount,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      labelText: intl.formatMessage(messages.currentPasswordFieldLabel),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      name: \"password\",\n      onChange: this.handleInputChange,\n      value: this.state.password,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(FormActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      theme: \"primary\",\n      text: intl.formatMessage(messages.submit),\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}, _defineProperty(_class2, \"propTypes\", {\n  dispatch: PropTypes.func.isRequired,\n  intl: PropTypes.object.isRequired\n}), _class2)) || _class) || _class);\nexport { Migration as default };"],"names":[],"sourceRoot":""}