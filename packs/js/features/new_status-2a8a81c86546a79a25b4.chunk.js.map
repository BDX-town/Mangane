{"version":3,"file":"packs/js/features/new_status-2a8a81c86546a79a25b4.chunk.js","mappings":"uNAAgkBA,GAAS,QAAe,CAACC,KAAK,CAAC,GAAK,8BAA8B,eAAiB,aAAaC,OAAO,CAAC,GAAK,gCAAgC,eAAiB,kBAAkBC,MAAM,CAAC,GAAK,+BAA+B,eAAiB,cAAcC,QAAQ,CAAC,GAAK,yBAAyB,eAAiB,sBACgH,UAD1E,WAAK,IAAMC,GAAK,SAAgBC,GAAS,UAAoBC,GAAS,SAAe,SAAAC,GAAO,OAAAA,EAAMJ,QAAQK,MAAUC,GAAQ,SAAe,SAAAF,GAAO,OAAAA,EAAMJ,QAAQM,WAAeC,GAAU,SAAe,SAAAH,GAAO,OAAAA,EAAMJ,QAAQQ,eAAmBT,GAAM,SAAe,SAAAK,GAAO,OAAAA,EAAMJ,QAAQD,UAAO,IAAAU,YAAU,YAAQF,GAAYJ,GAAWJ,GACluCG,GAAS,aAAmB,CAACA,EAASK,EAAUR,EAAMI,IAAW,IAAMO,GAAY,IAAAC,UAAQ,WAAK,OAAGR,EAAiBF,EAAKW,cAAchB,EAASC,MAAyB,WAAVS,EAA2BL,EAAKW,cAAchB,EAASE,QAAiBC,EAAcE,EAAKW,cAAchB,EAASG,OAAoBE,EAAKW,cAAchB,EAASI,WAAY,CAACG,EAASG,EAAQP,EAAME,IAAiK,OAA1J,IAAAQ,YAAU,WAAK,IAAMI,EAAO,IAAIC,gBAAgBC,OAAOC,SAASC,QAAWJ,EAAOK,IAAI,SAAShB,GAAS,QAAcW,EAAOK,IAAI,YAAa,CAAChB,KAA8B,OAAK,KAAO,CAACiB,MAAMT,EAAYU,aAAY,EAAKC,YAAW,QAAO,GAAoB,OAAK,MAAM,CAACC,UAAU,yBAAoB,GAAoB,OAAK,IAAc,CAACC,QAAQb,MAA4B,OAAK,MAAM,CAACY,UAAU,sLAAiL,GAAoB,OAAK,IAAqB","sources":["webpack://mangane-fe/./app/soapbox/features/new_status/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/web.dom-collections.iterator.js\";import\"core-js/modules/web.url-search-params.js\";import React,{useEffect,useMemo}from'react';import{useIntl,defineMessages}from'react-intl';import{useDispatch}from'react-redux';import{changeCompose,resetCompose}from'soapbox/actions/compose';import SubNavigation from'soapbox/components/sub_navigation';import{Column}from'soapbox/components/ui';import{useAppSelector}from'soapbox/hooks';import ComposeFormContainer from'../compose/containers/compose_form_container';const messages=defineMessages({edit:{\"id\":\"navigation_bar.compose_edit\",\"defaultMessage\":\"Edit post\"},direct:{\"id\":\"navigation_bar.compose_direct\",\"defaultMessage\":\"Direct message\"},quote:{\"id\":\"navigation_bar.compose_quote\",\"defaultMessage\":\"Quote post\"},compose:{\"id\":\"navigation_bar.compose\",\"defaultMessage\":\"Compose new post\"}});const NewStatus=()=>{const intl=useIntl();const dispatch=useDispatch();const statusId=useAppSelector(state=>state.compose.id);const privacy=useAppSelector(state=>state.compose.privacy);const inReplyTo=useAppSelector(state=>state.compose.in_reply_to);const quote=useAppSelector(state=>state.compose.quote);useEffect(()=>{if(inReplyTo&&!statusId&&!quote){// we should not be there replying so let's reset the composition\ndispatch(resetCompose());}},[dispatch,inReplyTo,quote,statusId]);const renderTitle=useMemo(()=>{if(statusId){return intl.formatMessage(messages.edit);}else if(privacy==='direct'){return intl.formatMessage(messages.direct);}else if(quote){return intl.formatMessage(messages.quote);}else{return intl.formatMessage(messages.compose);}},[statusId,privacy,quote,intl]);useEffect(()=>{const params=new URLSearchParams(window.location.search);if(params.get('text')){dispatch(changeCompose(params.get('text')));}},[dispatch]);return/*#__PURE__*/_jsx(Column,{label:renderTitle,transparent:true,withHeader:false},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pt-4 sm:p-0\"},void 0,/*#__PURE__*/_jsx(SubNavigation,{message:renderTitle})),/*#__PURE__*/_jsx(\"div\",{className:\"block w-full p-6 mx-auto text-left align-middle transition-all bg-white dark:bg-slate-800 text-black dark:text-white rounded-none sm:rounded-2xl pointer-events-auto max-w-xl\"},void 0,/*#__PURE__*/_jsx(ComposeFormContainer,{})));};export default NewStatus;"],"names":["messages","edit","direct","quote","compose","intl","dispatch","statusId","state","id","privacy","inReplyTo","in_reply_to","useEffect","renderTitle","useMemo","formatMessage","params","URLSearchParams","window","location","search","get","label","transparent","withHeader","className","message"],"sourceRoot":""}