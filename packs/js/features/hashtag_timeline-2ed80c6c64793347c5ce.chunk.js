(self.webpackChunkmangane_fe=self.webpackChunkmangane_fe||[]).push([[47],{934:function(t,n,e){var a=e(278);t.exports=function(t,n){return a(t,n)}},854:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return b}});var a,o,i=e(1845),r=(e(2),e(7),e(934)),l=e.n(r),u=e(0),s=e(1857),c=e(910),d=e(327),f=e(14),h=e(3),g=e(47),p=e(25),m=e(1833),Z=e(68),v=(a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},a(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}a(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),y=(0,c.EN)(o=function(t){function n(){var n=t.apply(this,arguments)||this;return(0,m.Z)(n,"state",{collapsed:!0,animating:!1}),(0,m.Z)(n,"historyBack",(function(){var t;1===(null===(t=window.history)||void 0===t?void 0:t.length)?n.props.history.push("/"):n.props.history.goBack()})),(0,m.Z)(n,"handleToggleClick",(function(t){t.stopPropagation(),n.setState({collapsed:!n.state.collapsed,animating:!0})})),(0,m.Z)(n,"handleBackClick",(function(){n.historyBack()})),(0,m.Z)(n,"handleTransitionEnd",(function(){n.setState({animating:!1})})),n}return v(n,t),n.prototype.render=function(){var t=this.props.title;return(0,i.Z)(Z.Z,{message:t})},n}(u.PureComponent))||o,_=e(1),w=e(93),C=function(t,n,e){if(e||2===arguments.length)for(var a,o=0,i=n.length;o<i;o++)!a&&o in n||(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return t.concat(a||Array.prototype.slice.call(n))},k=function(t){var n=t.id,a=(0,h.CG)((function(t){return{loading:t.tags.loading,isFollow:t.tags.list.find((function(t){return t.name.toLowerCase()===n.toLowerCase()}))}})),o=a.isFollow,r=a.loading,l=(0,h.TL)(),c=u.useCallback((function(){var t=o?d.to:d.Wr;l(t(n))}),[o,n]),g=u.useMemo((function(){return r?(0,i.Z)(s.Z,{id:"hashtag_timeline.loading",defaultMessage:"Loading..."}):o?(0,i.Z)(s.Z,{id:"hashtag_timeline.unfollow",defaultMessage:"Unfollow tag"}):(0,i.Z)(s.Z,{id:"hashtag_timeline.follow",defaultMessage:"Follow this tag"})}),[r,o]);return(0,i.Z)(_.zx,{disabled:r,theme:o?"secondary":"primary",size:"sm",onClick:c},void 0,r?(0,i.Z)(_.$j,{withText:!1,size:16}):(0,i.Z)(f.Z,{src:e(o?516:50),className:"mr-1"}),"Â ",g)},b=function(){var t=(0,h.TL)(),n=u.useRef([]),e=(0,c.UO)(),a=e.id,o=e.tags,r=u.useRef({id:a,tags:o}),d=(0,h.CG)((function(t){return t.me})),f=(0,h.CG)((function(t){return t.getIn(["timelines","hashtag:".concat(a),"unread"])>0})),m=u.useCallback((function(t){return o&&(o[t]||[]).length>0?o[t].map((function(t){return t.value})).join("/"):""}),[o]),Z=u.useMemo((function(){var t=["#".concat(a)];return m("any")&&t.push(" ",(0,i.Z)(s.Z,{id:"hashtag.column_header.tag_mode.any",values:{additional:m("any")},defaultMessage:"or {additional}"},"any")),m("all")&&t.push(" ",(0,i.Z)(s.Z,{id:"hashtag.column_header.tag_mode.all",values:{additional:m("all")},defaultMessage:"and {additional}"},"all")),m("none")&&t.push(" ",(0,i.Z)(s.Z,{id:"hashtag.column_header.tag_mode.none",values:{additional:m("none")},defaultMessage:"without {additional}"},"none")),t}),[a,m]),v=u.useCallback((function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(a.any||[]).map((function(t){return t.value})),i=(a.all||[]).map((function(t){return t.value})),r=(a.none||[]).map((function(t){return t.value}));C([e],o,!0).map((function(a){n.current.push(t((0,g.HZ)(e,a,(function(t){var n=t.tags.map((function(t){return t.name}));return i.filter((function(t){return n.includes(t)})).length===i.length&&0===r.filter((function(t){return n.includes(t)})).length}))))}))}),[]),b=u.useCallback((function(){n.current.map((function(t){return t()})),n.current=[]}),[]);u.useEffect((function(){var n=r.current,e=n.id,i=n.tags;return a===e&&l()(o,i)||t((0,p.lq)("hashtag:".concat(a))),v(t,a,o),t((0,p.Zt)(a,{tags:o})),function(){b()}}),[t,o,a,v,b]);var M=u.useCallback((function(n){t((0,p.Zt)(a,{maxId:n,tags:o}))}),[t,a,o]);return(0,i.Z)(_.sg,{label:"#".concat(a),transparent:!0,withHeader:!1},void 0,(0,i.Z)("div",{className:"px-4 pt-4 sm:p-0"},void 0,(0,i.Z)(y,{active:f,title:(0,i.Z)("div",{className:"flex justify-between items-center"},void 0,Z,d&&(0,i.Z)(k,{id:a}))})),(0,i.Z)(w.Z,{scrollKey:"hashtag_timeline",timelineId:"hashtag:".concat(a),onLoadMore:M,emptyMessage:(0,i.Z)(s.Z,{id:"empty_column.hashtag",defaultMessage:"There is nothing in this hashtag yet."}),divideType:"space"}))}}}]);
//# sourceMappingURL=hashtag_timeline-2ed80c6c64793347c5ce.chunk.js.map