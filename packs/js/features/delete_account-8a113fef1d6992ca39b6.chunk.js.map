{"version":3,"file":"packs/js/features/delete_account-8a113fef1d6992ca39b6.chunk.js","mappings":"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","sources":["webpack://mangane-fe/./app/soapbox/features/delete_account/index.tsx"],"sourcesContent":["var _jsxFileName = \"/home/runner/work/Mangane/Mangane/app/soapbox/features/delete_account/index.tsx\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.promise.finally.js\";\nimport * as React from 'react';\nimport { defineMessages, useIntl } from 'react-intl';\nimport { deleteAccount } from 'soapbox/actions/security';\nimport snackbar from 'soapbox/actions/snackbar';\nimport { Button, Card, CardBody, CardHeader, CardTitle, Form, FormActions, FormGroup, Input } from 'soapbox/components/ui';\nimport { useAppDispatch, useFeatures } from 'soapbox/hooks';\nconst messages = defineMessages({\n  passwordFieldLabel: {\n    \"id\": \"security.fields.password.label\",\n    \"defaultMessage\": \"Password\"\n  },\n  deleteHeader: {\n    \"id\": \"security.headers.delete\",\n    \"defaultMessage\": \"Delete Account\"\n  },\n  deleteText: {\n    \"id\": \"security.text.delete\",\n    \"defaultMessage\": \"To delete your account, enter your password then click Delete Account. This is a permanent action that cannot be undone. Your account will be destroyed from this server, and a deletion request will be sent to other servers. It's not guaranteed that all servers will purge your account.\"\n  },\n  localDeleteText: {\n    \"id\": \"security.text.delete.local\",\n    \"defaultMessage\": \"To delete your account, enter your password then click Delete Account. This is a permanent action that cannot be undone.\"\n  },\n  deleteSubmit: {\n    \"id\": \"security.submit.delete\",\n    \"defaultMessage\": \"Delete Account\"\n  },\n  deleteAccountSuccess: {\n    \"id\": \"security.delete_account.success\",\n    \"defaultMessage\": \"Account successfully deleted.\"\n  },\n  deleteAccountFail: {\n    \"id\": \"security.delete_account.fail\",\n    \"defaultMessage\": \"Account deletion failed.\"\n  }\n});\n\nconst DeleteAccount = () => {\n  const intl = useIntl();\n  const dispatch = useAppDispatch();\n  const features = useFeatures();\n  const [password, setPassword] = React.useState('');\n  const [isLoading, setLoading] = React.useState(false);\n  const handleInputChange = React.useCallback(event => {\n    event.persist();\n    setPassword(event.target.value);\n  }, []);\n  const handleSubmit = React.useCallback(() => {\n    setLoading(true);\n    dispatch(deleteAccount(password)).then(() => {\n      setPassword('');\n      dispatch(snackbar.success(intl.formatMessage(messages.deleteAccountSuccess)));\n    }).finally(() => {\n      setLoading(false);\n    }).catch(() => {\n      setPassword('');\n      dispatch(snackbar.error(intl.formatMessage(messages.deleteAccountFail)));\n    });\n  }, [password, dispatch, intl]);\n  return /*#__PURE__*/React.createElement(Card, {\n    variant: \"rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    backHref: \"/settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardTitle, {\n    title: intl.formatMessage(messages.deleteHeader),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-gray-400 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, intl.formatMessage(features.federating ? messages.deleteText : messages.localDeleteText)), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    labelText: intl.formatMessage(messages.passwordFieldLabel),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    name: \"password\",\n    onChange: handleInputChange,\n    value: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    theme: \"danger\",\n    disabled: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, intl.formatMessage(messages.deleteSubmit))))));\n};\n\nexport default DeleteAccount;"],"names":[],"sourceRoot":""}