{"version":3,"file":"packs/js/features/edit_email-c6ebc0f7b7a8c25aca35.chunk.js","mappings":"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","sources":["webpack://mangane-fe/./app/soapbox/features/edit_email/index.tsx"],"sourcesContent":["var _jsxFileName = \"/home/runner/work/Mangane/Mangane/app/soapbox/features/edit_email/index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.promise.finally.js\";\nimport * as React from 'react';\nimport { defineMessages, useIntl } from 'react-intl';\nimport { changeEmail } from 'soapbox/actions/security';\nimport snackbar from 'soapbox/actions/snackbar';\nimport { Button, Card, CardBody, CardHeader, CardTitle, Column, Form, FormActions, FormGroup, Input } from 'soapbox/components/ui';\nimport { useAppDispatch } from 'soapbox/hooks';\nconst messages = defineMessages({\n  header: {\n    \"id\": \"edit_email.header\",\n    \"defaultMessage\": \"Change Email\"\n  },\n  updateEmailSuccess: {\n    \"id\": \"security.update_email.success\",\n    \"defaultMessage\": \"Email successfully updated.\"\n  },\n  updateEmailFail: {\n    \"id\": \"security.update_email.fail\",\n    \"defaultMessage\": \"Update email failed.\"\n  },\n  emailFieldLabel: {\n    \"id\": \"security.fields.email.label\",\n    \"defaultMessage\": \"Email address\"\n  },\n  emailFieldPlaceholder: {\n    \"id\": \"edit_email.placeholder\",\n    \"defaultMessage\": \"me@example.com\"\n  },\n  passwordFieldLabel: {\n    \"id\": \"security.fields.password.label\",\n    \"defaultMessage\": \"Password\"\n  },\n  submit: {\n    \"id\": \"security.submit\",\n    \"defaultMessage\": \"Save changes\"\n  },\n  cancel: {\n    \"id\": \"common.cancel\",\n    \"defaultMessage\": \"Cancel\"\n  },\n  description: {\n    \"id\": \"edit_email.description\",\n    \"defaultMessage\": \"To change your email, you must re-enter your password\"\n  }\n});\nconst initialState = {\n  email: '',\n  password: ''\n};\n\nconst EditEmail = () => {\n  const intl = useIntl();\n  const dispatch = useAppDispatch();\n  const [state, setState] = React.useState(initialState);\n  const [isLoading, setLoading] = React.useState(false);\n  const {\n    email,\n    password\n  } = state;\n  const handleInputChange = React.useCallback(event => {\n    event.persist();\n    setState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      [event.target.name]: event.target.value\n    }));\n  }, []);\n  const handleSubmit = React.useCallback(() => {\n    setLoading(true);\n    dispatch(changeEmail(email, password)).then(() => {\n      setState(initialState);\n      dispatch(snackbar.success(intl.formatMessage(messages.updateEmailSuccess)));\n    }).finally(() => {\n      setLoading(false);\n    }).catch(msg => {\n      console.error(msg);\n      setState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n        password: ''\n      }));\n      dispatch(snackbar.error(\"\".concat(intl.formatMessage(messages.updateEmailFail), \": \").concat(msg)));\n    });\n  }, [email, password, dispatch, intl]);\n  return /*#__PURE__*/React.createElement(Column, {\n    label: intl.formatMessage(messages.header),\n    transparent: true,\n    withHeader: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    variant: \"rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    backHref: \"/settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardTitle, {\n    title: intl.formatMessage(messages.header),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-2 text-gray-600 dark:text-gray-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, intl.formatMessage(messages.description)), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    labelText: intl.formatMessage(messages.emailFieldLabel),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: intl.formatMessage(messages.emailFieldPlaceholder),\n    name: \"email\",\n    autoComplete: \"off\",\n    onChange: handleInputChange,\n    value: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    labelText: intl.formatMessage(messages.passwordFieldLabel),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    name: \"password\",\n    onChange: handleInputChange,\n    value: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    to: \"/settings\",\n    theme: \"ghost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, intl.formatMessage(messages.cancel)), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    theme: \"primary\",\n    disabled: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, intl.formatMessage(messages.submit)))))));\n};\n\nexport default EditEmail;"],"names":[],"sourceRoot":""}