{"version":3,"file":"packs/js/modals/compare_history_modal-15230f91e2b19e82d3c8.chunk.js","mappings":"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","sources":["webpack://mangane-fe/./app/soapbox/features/ui/components/compare_history_modal.tsx"],"sourcesContent":["var _jsxFileName = \"/home/runner/work/Mangane/Mangane/app/soapbox/features/ui/components/compare_history_modal.tsx\";\nimport classNames from 'classnames';\nimport React, { useEffect } from 'react';\nimport { FormattedDate, FormattedMessage } from 'react-intl';\nimport { fetchHistory } from 'soapbox/actions/history';\nimport AttachmentThumbs from 'soapbox/components/attachment-thumbs';\nimport { HStack, Modal, Spinner, Stack, Text } from 'soapbox/components/ui';\nimport { useAppDispatch, useAppSelector } from 'soapbox/hooks';\n\nconst CompareHistoryModal = _ref => {\n  let {\n    onClose,\n    statusId\n  } = _ref;\n  const dispatch = useAppDispatch();\n  const loading = useAppSelector(state => state.history.getIn([statusId, 'loading'])); // @ts-ignore\n\n  const versions = useAppSelector(state => state.history.getIn([statusId, 'items']));\n\n  const onClickClose = () => {\n    onClose('COMPARE_HISTORY');\n  };\n\n  useEffect(() => {\n    dispatch(fetchHistory(statusId));\n  }, [statusId]);\n  let body;\n\n  if (loading) {\n    body = /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 12\n      }\n    });\n  } else {\n    body = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"divide-y divide-solid divide-gray-200 dark:divide-slate-700\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, versions === null || versions === void 0 ? void 0 : versions.map(version => {\n      var _version$spoiler_text;\n\n      const content = {\n        __html: version.contentHtml\n      };\n      const spoilerContent = {\n        __html: version.spoilerHtml\n      };\n      const poll = typeof version.poll !== 'string' && version.poll;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-col py-2 first:pt-0 last:pb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }\n      }, ((_version$spoiler_text = version.spoiler_text) === null || _version$spoiler_text === void 0 ? void 0 : _version$spoiler_text.length) > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n        dangerouslySetInnerHTML: spoilerContent,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"status__content\",\n        dangerouslySetInnerHTML: content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }\n      }), poll && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"poll\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Stack, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 19\n        }\n      }, version.poll.options.map(option => /*#__PURE__*/React.createElement(HStack, {\n        alignItems: \"center\",\n        className: \"p-1 text-gray-900 dark:text-gray-300\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: classNames('inline-block w-4 h-4 flex-none mr-2.5 border border-solid border-primary-600 rounded-full', {\n          'rounded': poll.multiple\n        }),\n        tabIndex: 0,\n        role: poll.multiple ? 'checkbox' : 'radio',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        dangerouslySetInnerHTML: {\n          __html: option.title_emojified\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }\n      }))))), version.media_attachments.size > 0 && /*#__PURE__*/React.createElement(AttachmentThumbs, {\n        media: version.media_attachments,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Text, {\n        align: \"right\",\n        tag: \"span\",\n        theme: \"muted\",\n        size: \"sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(FormattedDate, {\n        value: new Date(version.created_at),\n        hour12: false,\n        year: \"numeric\",\n        month: \"short\",\n        day: \"2-digit\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      })));\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    title: /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"compare_history_modal.header\",\n      defaultMessage: \"Edit history\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 14\n      }\n    }),\n    onClose: onClickClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, body);\n};\n\nexport default CompareHistoryModal;"],"names":[],"sourceRoot":""}