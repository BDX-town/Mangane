{"version":3,"file":"packs/js/modals/compare_history_modal-794bab939cd30284fc4d.chunk.js","mappings":"6MACikE,UADvoD,SAAAA,GAAW,IAChQC,EADgQC,EAAkBF,EAAI,QAAdG,EAAUH,EAAI,SAAOI,GAAS,UAAuBC,GAAQ,SAAe,SAAAC,GAAO,OAAAA,EAAMC,QAAQC,MAAM,CAACL,EAAS,eACxjBM,GAAS,SAAe,SAAAH,GAAO,OAAAA,EAAMC,QAAQC,MAAM,CAACL,EAAS,aAA80D,OAA9wD,IAAAO,YAAU,WAAKN,GAAS,QAAaD,MAAa,CAACA,IAAgCF,EAATI,GAA2B,OAAK,KAAQ,KAA4B,OAAK,MAAM,CAACM,UAAU,oEAA+D,EAAOF,MAAAA,OAAmC,EAAOA,EAASG,KAAI,SAAAC,GAAU,IAAIC,EAA4BC,EAAQ,CAACC,OAAOH,EAAQI,aAAmBC,EAAe,CAACF,OAAOH,EAAQM,aAAmBC,EAA2B,iBAAfP,EAAQO,MAAiBP,EAAQO,KAAK,OAAmB,OAAK,MAAM,CAACT,UAAU,gDAA2C,GAAuD,QAA9CG,EAAsBD,EAAQQ,oBAA8C,IAAxBP,OAA+B,EAAOA,EAAsBQ,QAAQ,GAAgB,gBAAoB,WAAe,MAAkB,OAAK,OAAO,CAACC,wBAAwBL,KAA8B,OAAK,KAAK,MAAkB,OAAK,MAAM,CAACP,UAAU,kBAAkBY,wBAAwBR,IAAUK,IAAmB,OAAK,MAAM,CAACT,UAAU,aAAQ,GAAoB,OAAK,KAAM,QAAG,EAAOE,EAAQO,KAAKI,QAAQZ,KAAI,SAAAa,GAAqB,cAAK,KAAO,CAACC,WAAW,SAASf,UAAU,6CAAwC,GAAoB,OAAK,OAAO,CAACA,UAAU,IAAW,4FAA4F,CAAC,QAAUS,EAAKO,WAAWC,SAAS,EAAEC,KAAKT,EAAKO,SAAS,WAAW,WAAuB,OAAK,OAAO,CAACJ,wBAAwB,CAACP,OAAOS,EAAOK,yBAAuBjB,EAAQkB,kBAAkBC,KAAK,IAAgB,OAAK,IAAiB,CAACC,MAAMpB,EAAQkB,qBAAiC,OAAK,KAAK,CAACG,MAAM,QAAQC,IAAI,OAAOC,MAAM,QAAQJ,KAAK,WAAM,GAAoB,OAAK,KAAc,CAACK,MAAM,IAAIC,KAAKzB,EAAQ0B,YAAYC,QAAO,EAAMC,KAAK,UAAUC,MAAM,QAAQC,IAAI,UAAUC,KAAK,UAAUC,OAAO,mBAAsC,OAAK,KAAM,CAACC,OAAmB,OAAK,IAAiB,CAACC,GAAG,+BAA+BC,eAAe,iBAAiB9C,QAA37D,WAAKA,EAAQ,0BAAo8D,EAAOD","sources":["webpack://mangane-fe/./app/soapbox/features/ui/components/compare_history_modal.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import classNames from'classnames';import React,{useEffect}from'react';import{FormattedDate,FormattedMessage}from'react-intl';import{fetchHistory}from'soapbox/actions/history';import AttachmentThumbs from'soapbox/components/attachment-thumbs';import{HStack,Modal,Spinner,Stack,Text}from'soapbox/components/ui';import{useAppDispatch,useAppSelector}from'soapbox/hooks';const CompareHistoryModal=_ref=>{let{onClose,statusId}=_ref;const dispatch=useAppDispatch();const loading=useAppSelector(state=>state.history.getIn([statusId,'loading']));// @ts-ignore\nconst versions=useAppSelector(state=>state.history.getIn([statusId,'items']));const onClickClose=()=>{onClose('COMPARE_HISTORY');};useEffect(()=>{dispatch(fetchHistory(statusId));},[statusId]);let body;if(loading){body=/*#__PURE__*/_jsx(Spinner,{});}else{body=/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-solid divide-gray-200 dark:divide-slate-700\"},void 0,versions===null||versions===void 0?void 0:versions.map(version=>{var _version$spoiler_text;const content={__html:version.contentHtml};const spoilerContent={__html:version.spoilerHtml};const poll=typeof version.poll!=='string'&&version.poll;return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col py-2 first:pt-0 last:pb-0\"},void 0,((_version$spoiler_text=version.spoiler_text)===null||_version$spoiler_text===void 0?void 0:_version$spoiler_text.length)>0&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:spoilerContent}),/*#__PURE__*/_jsx(\"hr\",{})),/*#__PURE__*/_jsx(\"div\",{className:\"status__content\",dangerouslySetInnerHTML:content}),poll&&/*#__PURE__*/_jsx(\"div\",{className:\"poll\"},void 0,/*#__PURE__*/_jsx(Stack,{},void 0,version.poll.options.map(option=>/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",className:\"p-1 text-gray-900 dark:text-gray-300\"},void 0,/*#__PURE__*/_jsx(\"span\",{className:classNames('inline-block w-4 h-4 flex-none mr-2.5 border border-solid border-primary-600 rounded-full',{'rounded':poll.multiple}),tabIndex:0,role:poll.multiple?'checkbox':'radio'}),/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:option.title_emojified}}))))),version.media_attachments.size>0&&/*#__PURE__*/_jsx(AttachmentThumbs,{media:version.media_attachments}),/*#__PURE__*/_jsx(Text,{align:\"right\",tag:\"span\",theme:\"muted\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedDate,{value:new Date(version.created_at),hour12:false,year:\"numeric\",month:\"short\",day:\"2-digit\",hour:\"2-digit\",minute:\"2-digit\"})));}));}return/*#__PURE__*/_jsx(Modal,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"compare_history_modal.header\",defaultMessage:\"Edit history\"}),onClose:onClickClose},void 0,body);};export default CompareHistoryModal;"],"names":["_ref","body","onClose","statusId","dispatch","loading","state","history","getIn","versions","useEffect","className","map","version","_version$spoiler_text","content","__html","contentHtml","spoilerContent","spoilerHtml","poll","spoiler_text","length","dangerouslySetInnerHTML","options","option","alignItems","multiple","tabIndex","role","title_emojified","media_attachments","size","media","align","tag","theme","value","Date","created_at","hour12","year","month","day","hour","minute","title","id","defaultMessage"],"sourceRoot":""}