"use strict";(self.webpackChunkmangane_fe=self.webpackChunkmangane_fe||[]).push([[15],{791:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var a,i=n(1845),o=(n(2),n(0)),s=n(829),r=n(1834),c=n(518),u=n(20),d=n(1),l=n(3),p=n(1856),f=n(1848),m=(n(4),n(156)),g=n(741),v=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=["heading","icon","children","active","menu"],y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.heading,n=e.icon,a=e.children,s=e.active,r=e.menu,c=(0,f.Z)(e,h),u=t&&t.replace(/ /g,"-");return o.createElement(d.sg,(0,p.Z)({"aria-labelledby":u,className:"column--better"},c),(0,i.Z)("div",{className:"column__top"},void 0,t&&(0,i.Z)(g.Z,{icon:n,active:s,type:t,columnHeaderId:u}),r&&(0,i.Z)("div",{className:"column__menu"},void 0,(0,i.Z)(m.Z,{items:r,icon:"ellipsis-v",size:18,direction:"right"}))),a)},t}(o.PureComponent),b=y,Z=(0,s.vU)({heading:{id:"column.backups",defaultMessage:"Backups"},create:{id:"backups.actions.create",defaultMessage:"Create backup"},emptyMessage:{id:"backups.empty_message",defaultMessage:"No backups found. {action}"},emptyMessageAction:{id:"backups.empty_message.action",defaultMessage:"Create one now?"},pending:{id:"backups.pending",defaultMessage:"Pending"}}),_=function(){var e=(0,r.Z)(),t=(0,l.TL)(),n=(0,l.CG)((function(e){return e.backups.toList().sortBy((function(e){return e.inserted_at}))})),a=(0,o.useState)(!0),s=a[0],p=a[1],f=function(e){t((0,c.id)()),e.preventDefault()};(0,o.useEffect)((function(){t((0,c.xX)()).then((function(){p(!1)})).catch((function(){}))}),[]);var m=s&&0===n.count(),g=(0,i.Z)("a",{href:"#",onClick:f},void 0,(0,i.Z)(d.xv,{tag:"span",theme:"primary",size:"sm",className:"hover:underline"},void 0,e.formatMessage(Z.emptyMessageAction)));return(0,i.Z)(b,{label:e.formatMessage(Z.heading)},void 0,(0,i.Z)(u.Z,{isLoading:s,showLoading:m,scrollKey:"backups",emptyMessage:e.formatMessage(Z.emptyMessage,{action:g})},void 0,n.map((function(t){var n=new Date(t.inserted_at).toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return(0,i.Z)("div",{className:"p-2 mb-3 rounded bg-gray-100 dark:bg-slate-900 flex justify-between items-center"},t.id,(0,i.Z)("div",{},void 0,t.processed?(0,i.Z)("a",{href:t.url,target:"_blank"},void 0,n):(0,i.Z)(d.xv,{theme:"subtle"},void 0,n," - ",e.formatMessage(Z.pending))),!t.processed&&(0,i.Z)(d.$j,{withText:!1,size:15}))}))),(0,i.Z)("div",{className:"mt-4"},void 0,(0,i.Z)(d.iN,{},void 0,(0,i.Z)(d.zx,{theme:"primary",disabled:s,onClick:f},void 0,e.formatMessage(Z.create)))))}}}]);
//# sourceMappingURL=backups-e7b290a35d5d7c73b5e1.chunk.js.map