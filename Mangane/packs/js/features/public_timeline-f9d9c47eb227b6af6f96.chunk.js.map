{"version":3,"file":"packs/js/features/public_timeline-f9d9c47eb227b6af6f96.chunk.js","mappings":"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","sources":["webpack://mangane-fe/./app/soapbox/features/public_timeline/index.tsx"],"sourcesContent":["var _jsxFileName = \"/home/runner/work/Mangane/Mangane/app/soapbox/features/public_timeline/index.tsx\";\nimport React, { useEffect } from 'react';\nimport { defineMessages, FormattedMessage, useIntl } from 'react-intl';\nimport { Link } from 'react-router-dom';\nimport { changeSetting } from 'soapbox/actions/settings';\nimport { connectPublicStream } from 'soapbox/actions/streaming';\nimport { expandPublicTimeline, expandBubbleTimeline } from 'soapbox/actions/timelines';\nimport PullToRefresh from 'soapbox/components/pull-to-refresh';\nimport { Button, Column, Text } from 'soapbox/components/ui';\nimport { useAppDispatch, useAppSelector, useSettings, useFeatures, useOwnAccount } from 'soapbox/hooks';\nimport PinnedHostsPicker from '../remote_timeline/components/pinned_hosts_picker';\nimport Timeline from '../ui/components/timeline';\nconst messages = defineMessages({\n  title: {\n    \"id\": \"column.public\",\n    \"defaultMessage\": \"Explore\"\n  }\n});\n\nconst CommunityTimeline = () => {\n  const intl = useIntl();\n  const dispatch = useAppDispatch();\n  const settings = useSettings();\n  const account = useOwnAccount();\n  const onlyMedia = settings.getIn(['public', 'other', 'onlyMedia']);\n  const siteTitle = useAppSelector(state => state.instance.title);\n  const showExplanationBox = settings.get('showExplanationBox');\n  const features = useFeatures();\n  const bubbleTimeline = account && features.bubbleTimeline && settings.getIn(['public', 'bubble']);\n  const timelineId = React.useMemo(() => !bubbleTimeline ? 'public' : 'bubble', [bubbleTimeline]);\n  const dismissExplanationBox = React.useCallback(() => {\n    dispatch(changeSetting(['showExplanationBox'], false));\n  }, [dispatch]);\n  const handleLoadMore = React.useCallback(maxId => {\n    if (!bubbleTimeline) {\n      dispatch(expandPublicTimeline({\n        maxId,\n        onlyMedia\n      }));\n    } else {\n      dispatch(expandBubbleTimeline({\n        maxId,\n        onlyMedia\n      }));\n    }\n  }, [bubbleTimeline, dispatch, onlyMedia]);\n  const handleRefresh = React.useCallback(() => {\n    if (!bubbleTimeline) {\n      return dispatch(expandPublicTimeline({\n        onlyMedia\n      }));\n    } else {\n      return dispatch(expandBubbleTimeline({\n        onlyMedia\n      }));\n    }\n  }, [bubbleTimeline, dispatch, onlyMedia]);\n  useEffect(() => {\n    if (!bubbleTimeline) {\n      dispatch(expandPublicTimeline({\n        onlyMedia\n      }));\n      const disconnect = dispatch(connectPublicStream({\n        onlyMedia\n      }));\n      return () => {\n        disconnect();\n      };\n    } else {\n      dispatch(expandBubbleTimeline({\n        onlyMedia\n      })); // bubble timeline doesnt have streaming for now\n    }\n  }, [onlyMedia, bubbleTimeline]);\n  return /*#__PURE__*/React.createElement(Column, {\n    label: intl.formatMessage(messages.title),\n    transparent: true,\n    withHeader: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PinnedHostsPicker, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), showExplanationBox && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 30\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    size: \"lg\",\n    weight: \"bold\",\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"fediverse_tab.explanation_box.title\",\n    defaultMessage: \"What is the Fediverse?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"fediverse_tab.explanation_box.explanation\",\n    defaultMessage: \"{site_title} is part of the Fediverse, a social network made up of thousands of independent social media sites (aka \\\"servers\\\"). The posts you see here are from 3rd-party servers. You have the freedom to engage with them, or to block any server you don't like. Pay attention to the full username after the second @ symbol to know which server a post is from. To see only {site_title} posts, visit {local}.\",\n    values: {\n      site_title: siteTitle,\n      local: /*#__PURE__*/React.createElement(Link, {\n        to: \"/timeline/local\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"empty_column.home.local_tab\",\n        defaultMessage: \"the {site_title} tab\",\n        values: {\n          site_title: siteTitle\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 19\n        }\n      }))\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }), bubbleTimeline && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"fediverse_tab.explanation_box.bubble\",\n    defaultMessage: \"This timeline shows you all the statuses published on a selection of other instances curated by your moderators.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    theme: \"link\",\n    onClick: dismissExplanationBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"fediverse_tab.explanation_box.dismiss\",\n    defaultMessage: \"Don\\\\'t show again\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(PullToRefresh, {\n    onRefresh: handleRefresh,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Timeline, {\n    scrollKey: \"\".concat(timelineId, \"_timeline\"),\n    timelineId: \"\".concat(timelineId).concat(onlyMedia ? ':media' : ''),\n    onLoadMore: handleLoadMore,\n    emptyMessage: /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"empty_column.public\",\n      defaultMessage: \"There is nothing here! Write something publicly, or manually follow users from other servers to fill it up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }),\n    divideType: \"space\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default CommunityTimeline;"],"names":[],"sourceRoot":""}